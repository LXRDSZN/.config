LavaPack.loadBundle([[3449,{"./Numeric":3442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMaximumGasTotalInHexWei=r,n.getMinimumGasTotalInHexWei=function({gasLimit:e="0x0",gasPrice:t,maxPriorityFeePerGas:n,maxFeePerGas:o,baseFeePerGas:i}={}){const s=Boolean(o||n||i);if(s&&t)throw new Error("getMinimumGasTotalInHexWei expects either gasPrice OR the EIP-1559 gas fields, but both were provided");if(!1===s&&!t)throw new Error("getMinimumGasTotalInHexWei expects either gasPrice OR the EIP-1559 gas fields, but neither were provided");if(s&&!i)throw new Error("getMinimumGasTotalInHexWei requires baseFeePerGas be provided when calculating EIP-1559 totals");if(s&&(!o||!n))throw new Error("getMinimumGasTotalInHexWei requires maxFeePerGas and maxPriorityFeePerGas be provided when calculating EIP-1559 totals");if(!1===s)return r({gasLimit:e,gasPrice:t});const l=new a.Numeric(i,16).add(new a.Numeric(n,16)).toString();if(new a.Numeric(l,16).greaterThan(o,16))return r({gasLimit:e,maxFeePerGas:o});return new a.Numeric(e,16).times(new a.Numeric(l,16)).toPrefixedHexString()};var a=e("./Numeric");function r({gasLimit:e="0x0",gasPrice:t,maxFeePerGas:n}={}){if(n)return new a.Numeric(e,16).times(new a.Numeric(n,16)).toPrefixedHexString();if(!t)throw new Error("getMaximumGasTotalInHexWei requires gasPrice be provided to calculate legacy gas total");return new a.Numeric(e,16).times(new a.Numeric(t,16)).toPrefixedHexString()}}}},{package:"$root$",file:"shared/modules/gas.utils.js"}],[3455,{"./fetch-with-timeout":3448,buffer:1950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.jsonRpcRequest=async function(e,n,a=[]){let o=e;const i={"Content-Type":"application/json"},{origin:s,pathname:l,username:c,password:u,search:d}=new URL(e);if(c&&u){const e=t.from(`${c}:${u}`).toString("base64");i.Authorization=`Basic ${e}`,o=`${s}${l}${d}`}const p=await r(o,{method:"POST",body:JSON.stringify({id:Date.now().toString(),jsonrpc:"2.0",method:n,params:a}),headers:i,cache:"default"}).then((e=>e.json()));if(!p||Array.isArray(p)||"object"!=typeof p)throw new Error(`RPC endpoint ${e} returned non-object response.`);const{error:f,result:m}=p;if(f)throw new Error((null==f?void 0:f.message)||f);return m};const r=(0,((a=e("./fetch-with-timeout"))&&a.__esModule?a:{default:a}).default)()}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"shared/modules/rpc.utils.js"}],[3456,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatMessageParams=void 0;n.formatMessageParams=(e,t)=>{const n=[],{statement:a,uri:r,version:o,chainId:i,nonce:s,issuedAt:l,expirationTime:c,notBefore:u,requestId:d,resources:p}=e;return a&&n.push({label:t("SIWELabelMessage"),value:a}),r&&n.push({label:t("SIWELabelURI"),value:r}),o&&n.push({label:t("SIWELabelVersion"),value:o}),i&&n.push({label:t("SIWELabelChainID"),value:i}),s&&n.push({label:t("SIWELabelNonce"),value:s}),l&&n.push({label:t("SIWELabelIssuedAt"),value:l}),c&&n.push({label:t("SIWELabelExpirationTime"),value:c}),u&&n.push({label:t("SIWELabelNotBefore"),value:u}),d&&n.push({label:t("SIWELabelRequestID"),value:d}),p&&p.length>0&&n.push({label:t("SIWELabelResources",[p.length]),value:p.reduce(((e,t)=>`${e}${t}\n`),"").trim()}),n}}}},{package:"$root$",file:"shared/modules/siwe.js"}],[3461,{"../../../../shared/modules/hexstring-utils":3450,"../../ui/account-mismatch-warning/account-mismatch-warning.component":3922,"../../ui/identicon":3989,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=l(e("react")),r=l(e("prop-types")),o=l(e("../../ui/identicon")),i=l(e("../../ui/account-mismatch-warning/account-mismatch-warning.component")),s=e("../../../../shared/modules/hexstring-utils");function l(e){return e&&e.__esModule?e:{default:e}}function c({account:e,className:t,displayAddress:n=!1,handleClick:r,icon:l=null}){const{name:c,address:u,balance:d}=e||{};return a.default.createElement("div",{className:`account-list-item ${t}`,"data-testid":"account-list-item",onClick:()=>null==r?void 0:r({name:c,address:u,balance:d})},a.default.createElement("div",{className:"account-list-item__top-row"},a.default.createElement(o.default,{address:u,className:"account-list-item__identicon",diameter:18}),a.default.createElement("div",{className:"account-list-item__account-name"},c||u),l?a.default.createElement("div",{className:"account-list-item__icon","data-testid":"account-list-item-icon"},l):null,a.default.createElement(i.default,{address:u})),n&&c&&a.default.createElement("div",{className:"account-list-item__account-address"},(0,s.toChecksumHexAddress)(u)))}c.propTypes={account:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}),className:r.default.string,displayAddress:r.default.bool,handleClick:r.default.func,icon:r.default.node}}}},{package:"$root$",file:"ui/components/app/account-list-item/account-list-item.js"}],[3462,{"./account-list-item":3461},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-list-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/account-list-item/index.js"}],[3463,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":3415,"../../../../shared/constants/metametrics":3422,"../../../../shared/lib/ui-utils":3441,"../../../helpers/constants/common":4093,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/routes":4099,"../../component-library":3863,"../../ui/button":3931,"../../ui/icon/search-icon":3980,"../../ui/identicon":3989,"../../ui/site-icon":4040,"../../ui/text-field":4050,"../user-preferenced-currency-display":3787,"./keyring-label":3466,"@material-ui/core/InputAdornment":692,classnames:1987,"fuse.js":2479,lodash:2915,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountMenuItem=P,n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=w(e("prop-types")),o=e("lodash"),i=w(e("fuse.js")),s=w(e("@material-ui/core/InputAdornment")),l=w(e("classnames")),c=e("../../../../shared/constants/app"),u=e("../../../../shared/constants/metametrics"),d=e("../../../../app/scripts/lib/util"),p=w(e("../../ui/identicon")),f=w(e("../../ui/site-icon")),m=w(e("../user-preferenced-currency-display")),h=e("../../../helpers/constants/common"),g=e("../../../helpers/constants/routes"),y=w(e("../../ui/text-field")),v=w(e("../../ui/button")),b=w(e("../../ui/icon/search-icon")),_=e("../../../../shared/lib/ui-utils"),E=e("../../../helpers/constants/design-system"),T=e("../../component-library"),k=w(e("./keyring-label"));function w(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){const{icon:t,children:n,text:r,subText:o,className:i,onClick:s}=e,c=(0,l.default)("account-menu__item",i,{"account-menu__item--clickable":Boolean(s)});return n?a.default.createElement("div",{className:c,onClick:s},n):a.default.createElement("button",{className:c,onClick:s},t?a.default.createElement("div",{className:"account-menu__item__icon"},t):null,r?a.default.createElement("div",{className:"account-menu__item__text"},r):null,o?a.default.createElement("div",{className:"account-menu__item__subtext"},o):null)}P.propTypes={icon:r.default.node,children:r.default.node,text:r.default.node,subText:r.default.node,onClick:r.default.func,className:r.default.string};class C extends a.Component{constructor(...e){super(...e),O(this,"accountsRef",void 0),O(this,"state",{shouldShowScrollButton:!1,searchQuery:""}),O(this,"addressFuse",new i.default([],{threshold:.55,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,ignoreFieldNorm:!0,keys:[{name:"name",weight:.5},{name:"address",weight:.5}]})),O(this,"setShouldShowScrollButton",(()=>{if(!this.accountsRef)return;const{scrollTop:e,offsetHeight:t,scrollHeight:n}=this.accountsRef,a=n>t&&!(e+t>=n);this.setState({shouldShowScrollButton:a})})),O(this,"onScroll",(0,o.debounce)(this.setShouldShowScrollButton,25)),O(this,"handleScrollDown",(e=>{e.stopPropagation();const{scrollHeight:t}=this.accountsRef;this.accountsRef.scroll({left:0,top:t,behavior:"smooth"}),this.setShouldShowScrollButton()}))}componentDidUpdate(e,t){const{isAccountMenuOpen:n}=e,{searchQuery:a}=t,{isAccountMenuOpen:r}=this.props,{searchQuery:o}=this.state;!n&&r&&(this.setShouldShowScrollButton(),this.resetSearchQuery()),r&&a!==o&&this.setShouldShowScrollButton()}renderAccountsSearch(){const e=a.default.createElement(s.default,{position:"start",style:{maxHeight:"none",marginRight:0,marginLeft:"8px"}},a.default.createElement(b.default,{color:"var(--color-icon-muted)"}));return[a.default.createElement(y.default,{key:"search-text-field",id:"search-accounts",placeholder:this.context.t("searchAccounts"),type:"text",onChange:e=>{const t=e.target.value.length>1?e.target.value:"";this.setSearchQuery(t)},startAdornment:e,fullWidth:!0,theme:"material-white-padded"}),a.default.createElement("div",{className:"account-menu__divider",key:"search-divider"})]}renderAccounts(){const{accounts:e,selectedAddress:t,keyrings:n,setSelectedAccount:r,addressConnectedSubjectMap:o,originOfCurrentTab:i}=this.props,{searchQuery:s}=this.state;let l=e;return s&&(this.addressFuse.setCollection(e),l=this.addressFuse.search(s)),0===l.length?a.default.createElement("p",{className:"account-menu__no-accounts"},this.context.t("noAccountsFound")):l.map((e=>{const s=e.address===t,l=e.address.substring(2).toLowerCase(),c=n.find((t=>t.accounts.includes(l)||t.accounts.includes(e.address))),d=(o[e.address]||{})[i];return a.default.createElement("button",{className:"account-menu__account account-menu__item--clickable",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Navigation,event:u.MetaMetricsEventName.NavAccountSwitched,properties:{location:"Main Menu"}}),r(e.address)},key:e.address,"data-testid":"account-menu__account"},a.default.createElement("div",{className:"account-menu__check-mark"},s?a.default.createElement(T.Icon,{color:E.IconColor.successDefault,name:T.IconName.Check,size:T.IconSize.Lg}):null),a.default.createElement(p.default,{address:e.address,diameter:24}),a.default.createElement("div",{className:"account-menu__account-info"},a.default.createElement("div",{className:"account-menu__name"},e.name||""),a.default.createElement(m.default,{className:"account-menu__balance","data-testid":"account-menu__balance",value:e.balance,type:h.PRIMARY})),a.default.createElement(k.default,{keyring:c}),d?a.default.createElement("div",{className:"account-menu__icon-list"},a.default.createElement(f.default,{icon:d.icon,name:d.name,size:32})):null)}))}resetSearchQuery(){this.setSearchQuery("")}setSearchQuery(e){this.setState({searchQuery:e})}renderScrollButton(){return this.state.shouldShowScrollButton?a.default.createElement("div",{className:"account-menu__scroll-button",onClick:this.handleScrollDown},a.default.createElement("i",{className:"fa fa-arrow-down",title:this.context.t("scrollDown")})):null}render(){const{t:e,trackEvent:t}=this.context,{shouldShowAccountsSearch:n,isAccountMenuOpen:r,toggleAccountMenu:o,lockMetamask:i,history:s}=this.props;if(!r)return null;let l=e("support"),p=_.SUPPORT_LINK;return a.default.createElement("div",{className:"account-menu"},a.default.createElement("div",{className:"account-menu__close-area",onClick:o}),a.default.createElement(P,{className:"account-menu__header"},e("myAccounts"),a.default.createElement(v.default,{className:"account-menu__lock-button",type:"secondary",onClick:()=>{i(),s.push(g.DEFAULT_ROUTE)}},e("lock"))),a.default.createElement("div",{className:"account-menu__divider"}),a.default.createElement("div",{className:"account-menu__accounts-container"},n?this.renderAccountsSearch():null,a.default.createElement("div",{className:"account-menu__accounts",onScroll:this.onScroll,ref:e=>{this.accountsRef=e}},this.renderAccounts()),this.renderScrollButton()),a.default.createElement("div",{className:"account-menu__divider"}),a.default.createElement(P,{onClick:()=>{o(),t({category:u.MetaMetricsEventCategory.Navigation,event:u.MetaMetricsEventName.AccountAddSelected,properties:{account_type:u.MetaMetricsEventAccountType.Default,location:"Main Menu"}}),s.push(g.NEW_ACCOUNT_ROUTE)},icon:a.default.createElement(T.Icon,{name:T.IconName.Add,color:E.IconColor.iconAlternative}),text:e("createAccount")}),a.default.createElement(P,{onClick:()=>{o(),t({category:u.MetaMetricsEventCategory.Navigation,event:u.MetaMetricsEventName.AccountAddSelected,properties:{account_type:u.MetaMetricsEventAccountType.Imported,location:"Main Menu"}}),s.push(g.IMPORT_ACCOUNT_ROUTE)},icon:a.default.createElement(T.Icon,{name:T.IconName.Import,color:E.IconColor.iconAlternative}),text:e("importAccount")}),a.default.createElement(P,{onClick:()=>{o(),t({category:u.MetaMetricsEventCategory.Navigation,event:u.MetaMetricsEventName.AccountAddSelected,properties:{account_type:u.MetaMetricsEventAccountType.Hardware,location:"Main Menu"}}),(0,d.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(g.CONNECT_HARDWARE_ROUTE):s.push(g.CONNECT_HARDWARE_ROUTE)},icon:a.default.createElement(T.Icon,{name:T.IconName.Hardware,color:E.IconColor.iconAlternative}),text:e("connectHardwareWallet")}),a.default.createElement("div",{className:"account-menu__divider"}),a.default.createElement(P,{onClick:()=>{t({category:u.MetaMetricsEventCategory.Navigation,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:p}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]}),global.platform.openTab({url:p})},icon:a.default.createElement(T.Icon,{name:T.IconName.Messages,color:E.IconColor.iconAlternative}),text:l}),a.default.createElement(P,{onClick:()=>{o(),s.push(g.SETTINGS_ROUTE),this.context.trackEvent({category:u.MetaMetricsEventCategory.Navigation,event:u.MetaMetricsEventName.NavSettingsOpened,properties:{location:"Main Menu"}})},icon:a.default.createElement(T.Icon,{name:T.IconName.Setting,color:E.IconColor.iconAlternative,ariaLabel:e("settings")}),text:e("settings")}))}}n.default=C,O(C,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),O(C,"propTypes",{shouldShowAccountsSearch:r.default.bool,accounts:r.default.array,history:r.default.object,isAccountMenuOpen:r.default.bool,keyrings:r.default.array,lockMetamask:r.default.func,selectedAddress:r.default.string,setSelectedAccount:r.default.func,toggleAccountMenu:r.default.func,addressConnectedSubjectMap:r.default.object,originOfCurrentTab:r.default.string})}}},{package:"$root$",file:"ui/components/app/account-menu/account-menu.component.js"}],[3464,{"../../../selectors":4461,"../../../store/actions":4468,"./account-menu.component":3463,"react-redux":3125,"react-router-dom":3145,redux:3189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),i=e("react-router-dom"),s=e("../../../store/actions"),l=e("../../../selectors"),c=(a=e("./account-menu.component"))&&a.__esModule?a:{default:a};var u=(0,o.compose)(i.withRouter,(0,r.connect)((function(e){const{metamask:{isAccountMenuOpen:t}}=e,n=(0,l.getMetaMaskAccountsOrdered)(e),a=(0,l.getOriginOfCurrentTab)(e),r=(0,l.getSelectedAddress)(e);return{isAccountMenuOpen:t,addressConnectedSubjectMap:(0,l.getAddressConnectedSubjectMap)(e),originOfCurrentTab:a,selectedAddress:r,keyrings:(0,l.getMetaMaskKeyrings)(e),accounts:n,shouldShowAccountsSearch:n.length>=5}}),(function(e){return{toggleAccountMenu:()=>e((0,s.toggleAccountMenu)()),setSelectedAccount:t=>{e((0,s.setSelectedAccount)(t)),e((0,s.toggleAccountMenu)())},lockMetamask:()=>{e((0,s.lockMetamask)()),e((0,s.hideWarning)()),e((0,s.toggleAccountMenu)())}}})))(c.default);n.default=u}}},{package:"$root$",file:"ui/components/app/account-menu/account-menu.container.js"}],[3465,{"./account-menu.container":3464},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-menu.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/account-menu/index.js"}],[3466,{"../../../../shared/constants/hardware-wallets":3419,"../../../../shared/constants/keyring":3420,"../../../hooks/useI18nContext":4155,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=e("../../../../shared/constants/hardware-wallets"),s=e("../../../../shared/constants/keyring");function l(e){return e&&e.__esModule?e:{default:e}}function c({keyring:e}){const t=(0,o.useI18nContext)();let n=null;if(!e)return null;const{type:r}=e;switch(r){case s.KeyringType.qr:n=i.HardwareKeyringNames.qr;break;case s.KeyringType.imported:n=t("imported");break;case s.KeyringType.trezor:n=i.HardwareKeyringNames.trezor;break;case s.KeyringType.ledger:n=i.HardwareKeyringNames.ledger;break;case s.KeyringType.lattice:n=i.HardwareKeyringNames.lattice;break;default:n=null}return null===n?n:a.default.createElement(a.default.Fragment,null,n?a.default.createElement("div",{className:"keyring-label allcaps"},n):null)}c.propTypes={keyring:r.default.object}}}},{package:"$root$",file:"ui/components/app/account-menu/keyring-label.js"}],[3467,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":3415,"../../../../shared/constants/metametrics":3422,"../../../../shared/constants/network":3423,"../../../contexts/i18n":4072,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/routes":4099,"../../../helpers/constants/zendesk-url":4102,"../../../pages/confirmation/confirmation":4228,"../../../selectors":4461,"../../../store/actions":4468,"../../component-library":3863,"../../ui/box":3927,"../../ui/button":3931,"../../ui/icon-border":3967,"../../ui/icon-with-fallback":3971,"../../ui/popover":4026,"../../ui/tooltip":4060,react:3172,"react-redux":3125,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../contexts/i18n"),s=w(e("../../ui/box")),l=e("../../../helpers/constants/design-system"),c=w(e("../../ui/button")),u=w(e("../../ui/tooltip")),d=w(e("../../ui/icon-with-fallback")),p=w(e("../../ui/icon-border")),f=e("../../../selectors"),m=e("../../../../shared/constants/app"),h=e("../../../store/actions"),g=w(e("../../ui/popover")),y=w(e("../../../pages/confirmation/confirmation")),v=e("../../../../shared/constants/network"),b=e("../../../helpers/constants/routes"),_=e("../../../../app/scripts/lib/util"),E=w(e("../../../helpers/constants/zendesk-url")),T=e("../../component-library"),k=e("../../../../shared/constants/metametrics");function w(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}var O=()=>{const e=(0,a.useContext)(i.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),w=(0,r.useSelector)(f.getNetworkConfigurations),x=Object.values(w).map((e=>e.chainId)),O=/infura.io/u,P=v.FEATURED_RPCS.sort(((e,t)=>e.nickname>t.nickname?1:-1)).slice(0,v.FEATURED_RPCS.length).filter((e=>-1===x.indexOf(e.chainId))),C=(0,r.useSelector)(f.getUnapprovedConfirmations),[M,N]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=null==C?void 0:C.find((e=>"metamask"===e.origin&&e.type===m.MESSAGE_TYPE.ADD_ETHEREUM_CHAIN));!M&&e&&N(!0),M&&!e&&N(!1)}),[C,M]),a.default.createElement(a.default.Fragment,null,0===Object.keys(P).length?a.default.createElement(s.default,{className:"add-network__edge-case-box",borderRadius:l.BorderRadius.MD,padding:4,marginTop:4,marginRight:6,marginLeft:6,display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.ROW,backgroundColor:l.BackgroundColor.backgroundAlternative},a.default.createElement(s.default,{marginRight:4},a.default.createElement("img",{src:"images/info-fox.svg"})),a.default.createElement(s.default,null,a.default.createElement(T.Text,{variant:l.TextVariant.bodySm,as:"h6"},e("youHaveAddedAll",[a.default.createElement("a",{key:"link",className:"add-network__edge-case-box__link",href:"https://chainlist.wtf/",target:"_blank",rel:"noreferrer"},e("here"),"."),a.default.createElement(c.default,{key:"button",type:"inline",onClick:e=>{e.preventDefault(),(0,_.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(b.ADD_NETWORK_ROUTE):n.push(b.ADD_NETWORK_ROUTE)}},a.default.createElement(T.Text,{variant:l.TextVariant.bodySm,as:"h6",color:l.TextColor.infoDefault},e("addMoreNetworks"),"."))])))):a.default.createElement(s.default,{className:"add-network__networks-container"},(0,_.getEnvironmentType)()===m.ENVIRONMENT_TYPE_FULLSCREEN&&a.default.createElement(s.default,{display:l.DISPLAY.FLEX,alignItems:l.AlignItems.center,flexDirection:l.FLEX_DIRECTION.ROW,marginTop:7,marginBottom:4,paddingBottom:2,className:"add-network__header"},a.default.createElement(T.Text,{variant:l.TextVariant.headingSm,color:l.TextColor.textMuted,as:"h4"},e("networks")),a.default.createElement("span",{className:"add-network__header__subtitle"},"  >  "),a.default.createElement(T.Text,{variant:l.TextVariant.headingSm,as:"h4",color:l.TextColor.textDefault},e("addANetwork"))),a.default.createElement(s.default,{marginTop:(0,_.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP?0:4,marginBottom:1,className:"add-network__main-container"},a.default.createElement(T.Text,{variant:l.TextVariant.bodySm,as:"h6",color:l.TextColor.textAlternative,margin:0,marginTop:4},e("addFromAListOfPopularNetworks")),a.default.createElement(T.Text,{variant:l.TextVariant.bodySm,as:"h6",color:l.TextColor.textMuted,marginTop:4,marginBottom:3},e("popularCustomNetworks")),P.map(((n,r)=>{var o;return a.default.createElement(s.default,{key:r,display:l.DISPLAY.FLEX,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,marginBottom:6,className:"add-network__list-of-networks"},a.default.createElement(s.default,{display:l.DISPLAY.FLEX,alignItems:l.AlignItems.center},a.default.createElement(s.default,null,a.default.createElement(p.default,{size:24},a.default.createElement(d.default,{icon:null===(o=n.rpcPrefs)||void 0===o?void 0:o.imageUrl,name:n.nickname,size:24}))),a.default.createElement(s.default,{marginLeft:2},a.default.createElement(T.Text,{variant:l.TextVariant.bodySmBold,as:"h6",color:l.TextColor.textDefault},n.nickname))),a.default.createElement(s.default,{display:l.DISPLAY.FLEX,alignItems:l.AlignItems.center,marginLeft:1},!O.test(n.rpcUrl)&&a.default.createElement(u.default,{position:"top",interactive:!0,html:a.default.createElement(s.default,{margin:3,className:"add-network__warning-tooltip"},e("addNetworkTooltipWarning",[a.default.createElement("a",{key:"zendesk_page_link",href:E.default.UNKNOWN_NETWORK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))])),trigger:"mouseenter"},a.default.createElement(T.Icon,{className:"add-network__warning-icon",name:T.IconName.Danger,color:l.IconColor.iconMuted,size:T.IconSize.Sm})),a.default.createElement(c.default,{type:"inline",className:"add-network__add-button",onClick:async()=>{var e;await t((0,h.requestUserApproval)({origin:m.ORIGIN_METAMASK,type:m.MESSAGE_TYPE.ADD_ETHEREUM_CHAIN,requestData:{chainId:n.chainId,rpcUrl:n.rpcUrl,ticker:n.ticker,rpcPrefs:n.rpcPrefs,imageUrl:null===(e=n.rpcPrefs)||void 0===e?void 0:e.imageUrl,chainName:n.nickname,referrer:m.ORIGIN_METAMASK,source:k.MetaMetricsNetworkEventSource.PopularNetworkList}}))}},e("add"))))}))),a.default.createElement(s.default,{padding:(0,_.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP?[2,0,2,6]:[2,0,2,0],className:"add-network__footer"},a.default.createElement(c.default,{type:"link","data-testid":"add-network-manually",onClick:e=>{e.preventDefault(),(0,_.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(b.ADD_NETWORK_ROUTE):n.push(b.ADD_NETWORK_ROUTE)}},a.default.createElement(T.Text,{variant:l.TextVariant.bodySm,as:"h6",color:l.TextColor.primaryDefault},e("addANetworkManually"))))),M&&a.default.createElement(g.default,null,a.default.createElement(y.default,{redirectToHomeOnZeroConfirmations:!1})))};n.default=O}}},{package:"$root$",file:"ui/components/app/add-network/add-network.js"}],[3468,{"../../../contexts/i18n":4072,"../../../helpers/constants/gas":4097,"../../ui/form-field":3963,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=e("../../../contexts/i18n"),i=l(e("../../ui/form-field")),s=e("../../../helpers/constants/gas");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({onManualChange:e,gasLimit:t,setGasLimit:n,gasPrice:r,setGasPrice:l,gasErrors:c,minimumGasLimit:u}){const d=(0,a.useContext)(o.I18nContext);return a.default.createElement("div",{className:"advanced-gas-controls"},a.default.createElement(i.default,{titleText:d("gasLimit"),error:null!=c&&c.gasLimit?(0,s.getGasFormErrorText)(c.gasLimit,d,{minimumGasLimit:u}):null,onChange:t=>{null==e||e(),n(t)},tooltipText:d("editGasLimitTooltip"),value:t,allowDecimals:!1,numeric:!0}),a.default.createElement(a.default.Fragment,null,a.default.createElement(i.default,{titleText:d("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:t=>{null==e||e(),l(t)},tooltipText:d("editGasPriceTooltip"),value:r,numeric:!0,allowDecimals:!0,error:null!=c&&c.gasPrice?(0,s.getGasFormErrorText)(c.gasPrice,d):null})))}u.propTypes={onManualChange:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,gasPrice:r.default.string,setGasPrice:r.default.func,minimumGasLimit:r.default.string,gasErrors:r.default.object}}}},{package:"$root$",file:"ui/components/app/advanced-gas-controls/advanced-gas-controls.component.js"}],[3469,{"../../../../../shared/constants/gas":3418,"../../../../contexts/gasFee":4071,"../../../../helpers/constants/design-system":4095,"../../../../hooks/useI18nContext":4155,"../../../../hooks/useTransactionEventFragment":4174,"../../../../selectors":4461,"../../../../store/actions":4468,"../../../ui/box":3927,"../../../ui/check-box":3937,"../../../ui/typography":4064,"../context":3485,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("../../../../hooks/useTransactionEventFragment"),i=e("../../../../../shared/constants/gas"),s=g(e("../../../ui/box")),l=g(e("../../../ui/typography")),c=g(e("../../../ui/check-box")),u=e("../../../../helpers/constants/design-system"),d=e("../../../../selectors"),p=e("../../../../store/actions"),f=e("../../../../contexts/gasFee"),m=e("../context"),h=e("../../../../hooks/useI18nContext");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var v=()=>{const e=(0,h.useI18nContext)(),t=(0,r.useDispatch)(),{gasErrors:n,maxBaseFee:g,maxPriorityFeePerGas:y}=(0,m.useAdvancedGasFeePopoverContext)(),v=(0,r.useSelector)(d.getAdvancedGasFeeValues),{updateTransactionEventFragment:b}=(0,o.useTransactionEventFragment)(),{editGasMode:_}=(0,f.useGasFeeContext)(),[E,T]=(0,a.useState)(Boolean(v)&&v.maxBaseFee===g&&v.priorityFee===y);(0,a.useEffect)((()=>{T(Boolean(v)&&v.maxBaseFee===g&&v.priorityFee===y)}),[v,g,y]);return _===i.EditGasModes.swaps?null:a.default.createElement(s.default,{display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.ROW,marginTop:4,marginLeft:2,marginRight:2,className:"advanced-gas-fee-defaults"},a.default.createElement("label",{className:"advanced-gas-fee-defaults__label"},a.default.createElement(c.default,{checked:E,className:"advanced-gas-fee-defaults__checkbox",onClick:()=>{E?(t((0,p.setAdvancedGasFee)(null)),T(!1),b({properties:{advanced_gas_defaults_updated_maxbasefee:null,advanced_gas_defaults_updated_priorityfee:null}})):(t((0,p.setAdvancedGasFee)({maxBaseFee:g,priorityFee:y})),b({properties:{advanced_gas_defaults_updated_maxbasefee:g,advanced_gas_defaults_updated_priorityfee:y}}))},disabled:n.maxFeePerGas||n.maxPriorityFeePerGas}),a.default.createElement(l.default,{variant:u.TypographyVariant.H7,color:u.TextColor.textAlternative,margin:0},E?e("advancedGasFeeDefaultOptOut"):e("advancedGasFeeDefaultOptIn",[a.default.createElement("strong",{key:"default-value-change"},e("newValues"))]))))};n.default=v}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-defaults/advanced-gas-fee-defaults.js"}],[3470,{"./advanced-gas-fee-defaults":3469},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-defaults"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-defaults/index.js"}],[3471,{"../../../../contexts/gasFee":4071,"../../../../helpers/constants/design-system":4095,"../../../../helpers/utils/util":4133,"../../../../hooks/useI18nContext":4155,"../../../../pages/send/send.constants":4336,"../../../ui/button":3931,"../../../ui/form-field":3963,"../../../ui/typography":4064,"../context":3485,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("../../../../contexts/gasFee"),o=e("../../../../helpers/utils/util"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext"),l=e("../../../../pages/send/send.constants"),c=f(e("../../../ui/button")),u=f(e("../../../ui/form-field")),d=f(e("../../../ui/typography")),p=e("../context");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var h=()=>{const e=(0,s.useI18nContext)(),{setGasLimit:t,setErrorValue:n}=(0,p.useAdvancedGasFeePopoverContext)(),{gasLimit:f,minimumGasLimitDec:m}=(0,r.useGasFeeContext)(),[h,g]=(0,a.useState)(!1),[y,v]=(0,a.useState)(f),[b,_]=(0,a.useState)(),E=e=>{v(e)};return(0,a.useEffect)((()=>{t(y);const e=((e,t)=>(0,o.bnLessThan)(e,t)||(0,o.bnGreaterThan)(e,l.MAX_GAS_LIMIT_DEC)?"editGasLimitOutOfBoundsV2":null)(y,m);_(e),n("gasLimit","editGasLimitOutOfBoundsV2"===e)}),[y,m,t,n]),h?a.default.createElement(u.default,{dataTestId:"gas-limit-input",error:b?e(b,[m-1,l.MAX_GAS_LIMIT_DEC]):"",onChange:E,titleText:e("gasLimitV2"),value:y,allowDecimals:!1,numeric:!0}):a.default.createElement(d.default,{tag:i.TypographyVariant.paragraph,variant:i.TypographyVariant.H7,className:"advanced-gas-fee-gas-limit",marginTop:4,marginLeft:2,marginRight:2},a.default.createElement("strong",null,e("gasLimitV2")),a.default.createElement("span",null,y),a.default.createElement(c.default,{"data-testid":"advanced-gas-fee-edit",className:"advanced-gas-fee-gas-limit__edit-link",onClick:()=>g(!0),type:"link"},e("edit")))};n.default=h}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/advanced-gas-fee-gas-limit.js"}],[3472,{"./advanced-gas-fee-gas-limit":3471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-gas-limit"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/index.js"}],[3473,{"../../../../contexts/i18n":4072,"../../../../helpers/utils/gas":4118,"../../../../helpers/utils/util":4133,"../../../ui/box":3927,"../../../ui/loading-heartbeat":3997,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("../../../../helpers/utils/util"),s=e("../../../../helpers/utils/gas"),l=e("../../../../contexts/i18n"),c=d(e("../../../ui/box")),u=d(e("../../../ui/loading-heartbeat"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({latest:e,historical:t,trend:n})=>{const r=(0,a.useContext)(l.I18nContext),d=function(e,t){switch(e){case"up":return{className:"fa-arrow-up advanced-gas-fee-input-subtext__up",color:"var(--color-success-default)",title:t("upArrow")};case"down":return{className:"fa-arrow-down advanced-gas-fee-input-subtext__down",color:"var(--color-error-default)",title:t("downArrow")};case"level":return{className:"fa-arrow-right advanced-gas-fee-input-subtext__level",color:"var(--color-icon-alternative)",title:t("levelArrow")};default:return null}}(n,r);return a.default.createElement(c.default,{display:"flex",alignItems:"center",gap:4,className:"advanced-gas-fee-input-subtext"},(0,i.isNullish)(e)?null:a.default.createElement(c.default,{display:"flex",alignItems:"center","data-testid":"latest"},a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label"},r("currentTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,s.formatGasFeeOrFeeRange)(e)),null===d?null:a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__icon"},a.default.createElement("i",{className:(0,o.default)("fa",d.className),style:{color:d.color},title:d.title,"data-testid":"fee-arrow"}))),(0,i.isNullish)(t)?null:a.default.createElement(c.default,null,a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label","data-testid":"historical"},r("twelveHrTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,s.formatGasFeeOrFeeRange)(t))))};f.propTypes={latest:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),historical:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),trend:r.default.oneOf(["up","down","level"])};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/advanced-gas-fee-input-subtext.js"}],[3474,{"./advanced-gas-fee-input-subtext":3473},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-input-subtext"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/index.js"}],[3475,{"../../../ui/box":3927,"./base-fee-input":3477,"./priority-fee-input":3479,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("../../../ui/box")),o=s(e("./base-fee-input")),i=s(e("./priority-fee-input"));function s(e){return e&&e.__esModule?e:{default:e}}var l=()=>a.default.createElement(r.default,{className:"advanced-gas-fee-inputs"},a.default.createElement(o.default,null),a.default.createElement(i.default,null));n.default=l}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-inputs/advanced-gas-fee-inputs.js"}],[3476,{"../../../../../../shared/constants/gas":3418,"../../../../../../shared/modules/conversion.utils":3446,"../../../../../contexts/gasFee":4071,"../../../../../helpers/constants/common":4093,"../../../../../helpers/utils/util":4133,"../../../../../hooks/useCurrencyDisplay":4149,"../../../../../hooks/useI18nContext":4155,"../../../../../hooks/useUserPreferencedCurrency":4177,"../../../../../pages/send/send.constants":4336,"../../../../../selectors":4461,"../../../../ui/box":3927,"../../../../ui/form-field":3963,"../../advanced-gas-fee-input-subtext":3474,"../../context":3485,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("../../../../../pages/send/send.constants"),i=e("../../../../../../shared/constants/gas"),s=e("../../../../../helpers/constants/common"),l=e("../../../../../helpers/utils/util"),c=e("../../../../../selectors"),u=e("../../../../../contexts/gasFee"),d=e("../../../../../hooks/useI18nContext"),p=e("../../../../../hooks/useUserPreferencedCurrency"),f=e("../../../../../hooks/useCurrencyDisplay"),m=b(e("../../../../ui/box")),h=b(e("../../../../ui/form-field")),g=e("../../context"),y=b(e("../../advanced-gas-fee-input-subtext")),v=e("../../../../../../shared/modules/conversion.utils");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}var E=()=>{const e=(0,d.useI18nContext)(),{gasFeeEstimates:t,estimateUsed:n,maxFeePerGas:b,editGasMode:_}=(0,u.useGasFeeContext)(),{gasLimit:E,maxPriorityFeePerGas:T,setErrorValue:k,setMaxFeePerGas:w,setMaxBaseFee:x}=(0,g.useAdvancedGasFeePopoverContext)(),{estimatedBaseFee:O,historicalBaseFeeRange:P,baseFeeTrend:C}=t,[M,N]=(0,a.useState)(),{currency:j,numberOfDecimals:S}=(0,p.useUserPreferencedCurrency)(s.PRIMARY),I=(0,r.useSelector)(c.getAdvancedGasFeeValues),[A,D]=(0,a.useState)((()=>n!==i.PriorityLevels.custom&&null!=I&&I.maxBaseFee&&_!==i.EditGasModes.swaps?I.maxBaseFee:b)),[L]=(0,f.useCurrencyDisplay)((0,v.decGWEIToHexWEI)(A*E),{currency:j,numberOfDecimals:S}),R=(0,a.useCallback)((e=>{D(e)}),[D]);return(0,a.useEffect)((()=>{w(A);const e=((e,t,n)=>(0,l.bnGreaterThan)(n,e)?"editGasMaxBaseFeeGWEIImbalance":null!=t&&t.low&&(0,l.bnLessThan)(e,t.low.suggestedMaxFeePerGas)?"editGasMaxBaseFeeLow":null!=t&&t.high&&(0,l.bnGreaterThan)(e,t.high.suggestedMaxFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER)?"editGasMaxBaseFeeHigh":null)(A,t,T);N(e),k("maxFeePerGas","editGasMaxBaseFeeGWEIImbalance"===e),x(A)}),[A,t,T,N,k,w,x]),a.default.createElement(m.default,{className:"base-fee-input",marginLeft:2,marginRight:2},a.default.createElement(h.default,{dataTestId:"base-fee-input",error:M?e(M):"",onChange:R,titleText:e("maxBaseFee"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedBaseGasFeeToolTip"),value:A,detailText:`≈ ${L}`,allowDecimals:!0,numeric:!0}),a.default.createElement(y.default,{latest:O,historical:P,trend:C}))};n.default=E}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/base-fee-input.js"}],[3477,{"./base-fee-input":3476},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./base-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/index.js"}],[3478,{"./advanced-gas-fee-inputs":3475},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-inputs"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-inputs/index.js"}],[3479,{"./priority-fee-input":3480},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./priority-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/index.js"}],[3480,{"../../../../../../shared/constants/gas":3418,"../../../../../../shared/modules/conversion.utils":3446,"../../../../../contexts/gasFee":4071,"../../../../../helpers/constants/common":4093,"../../../../../helpers/utils/util":4133,"../../../../../hooks/useCurrencyDisplay":4149,"../../../../../hooks/useI18nContext":4155,"../../../../../hooks/useUserPreferencedCurrency":4177,"../../../../../pages/send/send.constants":4336,"../../../../../selectors":4461,"../../../../ui/box":3927,"../../../../ui/form-field":3963,"../../advanced-gas-fee-input-subtext":3474,"../../context":3485,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("../../../../../pages/send/send.constants"),i=e("../../../../../../shared/constants/gas"),s=e("../../../../../helpers/constants/common"),l=e("../../../../../selectors"),c=e("../../../../../hooks/useCurrencyDisplay"),u=e("../../../../../contexts/gasFee"),d=e("../../../../../hooks/useI18nContext"),p=e("../../../../../hooks/useUserPreferencedCurrency"),f=b(e("../../../../ui/form-field")),m=b(e("../../../../ui/box")),h=e("../../../../../helpers/utils/util"),g=e("../../context"),y=b(e("../../advanced-gas-fee-input-subtext")),v=e("../../../../../../shared/modules/conversion.utils");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}var E=()=>{const e=(0,d.useI18nContext)(),t=(0,r.useSelector)(l.getAdvancedGasFeeValues),{gasLimit:n,setErrorValue:b,setMaxPriorityFeePerGas:_}=(0,g.useAdvancedGasFeePopoverContext)(),{editGasMode:E,estimateUsed:T,gasFeeEstimates:k,maxPriorityFeePerGas:w}=(0,u.useGasFeeContext)(),{latestPriorityFeeRange:x,historicalPriorityFeeRange:O,priorityFeeTrend:P}=k,[C,M]=(0,a.useState)(),[N,j]=(0,a.useState)((()=>T!==i.PriorityLevels.custom&&null!=t&&t.priorityFee&&E!==i.EditGasModes.swaps?t.priorityFee:w)),{currency:S,numberOfDecimals:I}=(0,p.useUserPreferencedCurrency)(s.PRIMARY),[A]=(0,c.useCurrencyDisplay)((0,v.decGWEIToHexWEI)(N*n),{currency:S,numberOfDecimals:I});return(0,a.useEffect)((()=>{_(N);const e=((e,t)=>e<0?"editGasMaxPriorityFeeBelowMinimumV2":null!=t&&t.low&&(0,h.bnLessThan)(e,t.low.suggestedMaxPriorityFeePerGas)?"editGasMaxPriorityFeeLowV2":null!=t&&t.high&&(0,h.bnGreaterThan)(e,t.high.suggestedMaxPriorityFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER)?"editGasMaxPriorityFeeHighV2":null)(N,k);b("maxPriorityFeePerGas","editGasMaxPriorityFeeBelowMinimumV2"===e),M(e)}),[k,N,b,_,M]),a.default.createElement(m.default,{marginTop:4,marginLeft:2,marginRight:2,className:"priority-fee-input"},a.default.createElement(f.default,{dataTestId:"priority-fee-input",error:C?e(C):"",onChange:e=>{j(e)},titleText:e("priorityFeeProperCase"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedPriorityFeeToolTip"),value:N,detailText:`≈ ${A}`,allowDecimals:!0,numeric:!0}),a.default.createElement(y.default,{latest:x,historical:O,trend:P}))};n.default=E}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/priority-fee-input.js"}],[3481,{"../../../contexts/transaction-modal":4074,"../../../hooks/useI18nContext":4155,"../../ui/box":3927,"../../ui/popover":4026,"./advanced-gas-fee-defaults":3470,"./advanced-gas-fee-gas-limit":3472,"./advanced-gas-fee-inputs":3478,"./advanced-gas-fee-save":3483,"./context":3485,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=e("../../../hooks/useI18nContext"),o=e("../../../contexts/transaction-modal"),i=f(e("../../ui/box")),s=f(e("../../ui/popover")),l=e("./context"),c=f(e("./advanced-gas-fee-inputs")),u=f(e("./advanced-gas-fee-gas-limit")),d=f(e("./advanced-gas-fee-save")),p=f(e("./advanced-gas-fee-defaults"));function f(e){return e&&e.__esModule?e:{default:e}}var m=()=>{const e=(0,r.useI18nContext)(),{closeAllModals:t,currentModal:n}=(0,o.useTransactionModalContext)();return"advancedGasFee"!==n?null:a.default.createElement(l.AdvancedGasFeePopoverContextProvider,null,a.default.createElement(s.default,{className:"advanced-gas-fee-popover",title:e("advancedGasFeeModalTitle"),onClose:t,footer:a.default.createElement(d.default,null)},a.default.createElement(i.default,{margin:4},a.default.createElement(c.default,null),a.default.createElement(p.default,null),a.default.createElement(u.default,null))))};n.default=m}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-popover.js"}],[3482,{"../../../../../shared/constants/gas":3418,"../../../../../shared/modules/conversion.utils":3446,"../../../../contexts/gasFee":4071,"../../../../contexts/transaction-modal":4074,"../../../../hooks/useI18nContext":4155,"../../../../hooks/useTransactionEventFragment":4174,"../../../ui/button":3931,"../context":3485,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=e("../../../../../shared/constants/gas"),o=e("../../../../../shared/modules/conversion.utils"),i=e("../../../../contexts/transaction-modal"),s=e("../../../../contexts/gasFee"),l=e("../../../../hooks/useTransactionEventFragment"),c=e("../../../../hooks/useI18nContext"),u=p(e("../../../ui/button")),d=e("../context");function p(e){return e&&e.__esModule?e:{default:e}}var f=()=>{const{closeModal:e}=(0,i.useTransactionModalContext)(),{updateTransactionEventFragment:t}=(0,l.useTransactionEventFragment)(),{updateTransaction:n}=(0,s.useGasFeeContext)(),p=(0,c.useI18nContext)(),{gasLimit:f,hasErrors:m,maxFeePerGas:h,maxPriorityFeePerGas:g}=(0,d.useAdvancedGasFeePopoverContext)();return a.default.createElement(u.default,{type:"primary",disabled:m,onClick:()=>{n({estimateUsed:r.PriorityLevels.custom,maxFeePerGas:(0,o.decGWEIToHexWEI)(h),maxPriorityFeePerGas:(0,o.decGWEIToHexWEI)(g),gasLimit:f}),t({properties:{gas_edit_type:"advanced"}}),e(["advancedGasFee","editGasFee"])}},p("save"))};n.default=f}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-save/advanced-gas-fee-save.js"}],[3483,{"./advanced-gas-fee-save":3482},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-save"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/advanced-gas-fee-save/index.js"}],[3484,{"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedGasFeePopoverContextProvider=n.AdvancedGasFeePopoverContext=void 0,n.useAdvancedGasFeePopoverContext=function(){return(0,r.useContext)(s)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const s=(0,r.createContext)({});n.AdvancedGasFeePopoverContext=s;const l=({children:e})=>{const[t,n]=(0,r.useState)(),[a,o]=(0,r.useState)(),[i,l]=(0,r.useState)(),[c,u]=(0,r.useState)({maxFeePerGas:!1,maxPriorityFeePerGas:!1,gasLimit:!1}),d=(0,r.useCallback)(((e,t)=>{c[e]!==t&&u({...c,[e]:t})}),[c,u]),[p,f]=(0,r.useState)();return r.default.createElement(s.Provider,{value:{gasLimit:t,hasErrors:c.maxFeePerGas||c.maxPriorityFeePerGas||c.gasLimit,gasErrors:c,maxFeePerGas:a,maxPriorityFeePerGas:i,setErrorValue:d,maxBaseFee:p,setGasLimit:n,setMaxPriorityFeePerGas:l,setMaxFeePerGas:o,setMaxBaseFee:f}},e)};n.AdvancedGasFeePopoverContextProvider=l,l.propTypes={children:o.default.node.isRequired}}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/context/advancedGasFeePopover.js"}],[3485,{"./advancedGasFeePopover":3484},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./advancedGasFeePopover");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/context/index.js"}],[3486,{"./advanced-gas-fee-popover":3481},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/advanced-gas-fee-popover/index.js"}],[3487,{"../../ui/tooltip":4060,classnames:1987,lodash:2915,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("classnames")),i=e("lodash"),s=l(e("../../ui/tooltip"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.Component{constructor(e){super(e),u(this,"onChangeGasLimit",(e=>{this.setState({gasLimit:e.target.value}),this.changeGasLimit({target:{value:e.target.value}})})),u(this,"changeGasLimit",(e=>{this.props.updateCustomGasLimit(Number(e.target.value))})),u(this,"onChangeGasPrice",(e=>{this.setState({gasPrice:e.target.value}),this.changeGasPrice({target:{value:e.target.value}})})),u(this,"changeGasPrice",(e=>{this.props.updateCustomGasPrice(Number(e.target.value))})),this.state={gasPrice:this.props.customGasPrice,gasLimit:this.props.customGasLimit},this.changeGasPrice=(0,i.debounce)(this.changeGasPrice,500),this.changeGasLimit=(0,i.debounce)(this.changeGasLimit,500)}componentDidUpdate(e){const{customGasPrice:t,customGasLimit:n}=e,{customGasPrice:a,customGasLimit:r}=this.props,{gasPrice:o,gasLimit:i}=this.state;a!==t&&a!==o&&this.setState({gasPrice:a}),r!==n&&r!==i&&this.setState({gasLimit:r})}gasPriceError({insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,gasPrice:a,customPriceIsExcessive:r}){const{t:o}=this.context;return e?{errorText:o("insufficientBalance"),errorType:"error"}:n&&0===a?{errorText:o("zeroGasPriceOnSpeedUpError"),errorType:"error"}:t?r?{errorText:o("gasPriceExcessiveInput"),errorType:"error"}:{}:{errorText:o("gasPriceExtremelyLow"),errorType:"warning"}}gasLimitError({insufficientBalance:e,gasLimit:t,minimumGasLimit:n}){const{t:a}=this.context;return e?{errorText:a("insufficientBalance"),errorType:"error"}:t<n?{errorText:a("gasLimitTooLowWithDynamicFee",[n]),errorType:"error"}:{}}renderGasInput({value:e,onChange:t,errorComponent:n,errorType:r,label:i,testId:l,customMessageComponent:c,tooltipTitle:u,disabled:d}){return a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row"},a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__label"},i,a.default.createElement(s.default,{title:u,position:"top",arrow:!0},a.default.createElement("i",{className:"fa fa-info-circle"}))),a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-wrapper"},a.default.createElement("input",{className:(0,o.default)("advanced-gas-inputs__gas-edit-row__input",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===r,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===r}),type:"number",min:"0",value:e,onChange:t,disabled:d,"data-testid":l}),a.default.createElement("div",{className:(0,o.default)("advanced-gas-inputs__gas-edit-row__input-arrows",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===r,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===r,"advanced-gas-inputs__gas-edit-row__input-arrows--hidden":d})},a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!d&&t({target:{value:e+1}})},a.default.createElement("i",{className:"fa fa-sm fa-angle-up"})),a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!d&&t({target:{value:Math.max(e-1,0)}})},a.default.createElement("i",{className:"fa fa-sm fa-angle-down"}))),n||c))}render(){const{insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,customGasLimitMessage:r,minimumGasLimit:o,customPriceIsExcessive:i}=this.props,{gasPrice:s,gasLimit:l}=this.state,{errorText:c,errorType:u}=this.gasPriceError({insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,gasPrice:s,customPriceIsExcessive:i}),d=u?a.default.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${u}-text`},c):null,{errorText:p,errorType:f}=this.gasLimitError({insufficientBalance:e,gasLimit:l,minimumGasLimit:o}),m=f?a.default.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${f}-text`},p):null,h=r?a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__custom-text"},r):null;return a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-rows"},this.renderGasInput({label:this.context.t("gasPrice"),testId:"gas-price",tooltipTitle:this.context.t("gasPriceInfoTooltipContent"),value:this.state.gasPrice,onChange:this.onChangeGasPrice,errorComponent:d,errorType:u}),this.renderGasInput({label:this.context.t("gasLimit"),testId:"gas-limit",tooltipTitle:this.context.t("gasLimitInfoTooltipContent"),value:this.state.gasLimit,onChange:this.onChangeGasLimit,errorComponent:m,customMessageComponent:h,errorType:f}))}}n.default=d,u(d,"contextTypes",{t:r.default.func}),u(d,"propTypes",{updateCustomGasPrice:r.default.func,updateCustomGasLimit:r.default.func,customGasPrice:r.default.number.isRequired,customGasLimit:r.default.number.isRequired,insufficientBalance:r.default.bool,customPriceIsSafe:r.default.bool,isSpeedUp:r.default.bool,customGasLimitMessage:r.default.string,minimumGasLimit:r.default.number,customPriceIsExcessive:r.default.bool}),u(d,"defaultProps",{customPriceIsExcessive:!1})}}},{package:"$root$",file:"ui/components/app/advanced-gas-inputs/advanced-gas-inputs.component.js"}],[3488,{"../../../../shared/modules/conversion.utils":3446,"../../../pages/send/send.constants":4336,"./advanced-gas-inputs.component":3487,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../pages/send/send.constants"),i=e("../../../../shared/modules/conversion.utils"),s=(a=e("./advanced-gas-inputs.component"))&&a.__esModule?a:{default:a};function l(e=o.MIN_GAS_LIMIT_DEC){return parseInt(e,10)}var c=(0,r.connect)(undefined,null,(function(e,t,n){const{customGasPrice:a,customGasLimit:r,updateCustomGasPrice:o,updateCustomGasLimit:s,minimumGasLimit:c}=n;return{...n,...e,...t,customGasPrice:(d=a,Number((0,i.hexWEIToDecGWEI)(d))),customGasLimit:(u=r,parseInt(u,16)||0),minimumGasLimit:l(c),updateCustomGasPrice:e=>o((0,i.decGWEIToHexWEI)(e)),updateCustomGasLimit:e=>s((0,i.decimalToHex)(e))};var u,d}))(s.default);n.default=c}}},{package:"$root$",file:"ui/components/app/advanced-gas-inputs/advanced-gas-inputs.container.js"}],[3489,{"./advanced-gas-inputs.container":3488},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-inputs.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/advanced-gas-inputs/index.js"}],[3490,{"../../../ducks/alerts/invalid-custom-network":4077,"../../../ducks/alerts/unconnected-account":4078,"./invalid-custom-network-alert":3492,"./unconnected-account-alert":3494,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=e("react-redux"),o=u(e("prop-types")),i=e("../../../ducks/alerts/unconnected-account"),s=e("../../../ducks/alerts/invalid-custom-network"),l=u(e("./invalid-custom-network-alert")),c=u(e("./unconnected-account-alert"));function u(e){return e&&e.__esModule?e:{default:e}}const d=({history:e})=>{const t=(0,r.useSelector)(s.alertIsOpen),n=(0,r.useSelector)(i.alertIsOpen);return t?a.default.createElement(l.default,{history:e}):n?a.default.createElement(c.default,null):null};d.propTypes={history:o.default.object.isRequired};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/alerts/alerts.js"}],[3491,{"./alerts":3490},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./alerts"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/alerts/index.js"}],[3492,{"./invalid-custom-network-alert":3493},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./invalid-custom-network-alert"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/alerts/invalid-custom-network-alert/index.js"}],[3493,{"../../../../ducks/alerts":4076,"../../../../ducks/alerts/invalid-custom-network":4077,"../../../../helpers/constants/routes":4099,"../../../../hooks/useI18nContext":4155,"../../../ui/button":3931,"../../../ui/popover":4026,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=e("react-redux"),o=p(e("prop-types")),i=e("../../../../ducks/alerts"),s=e("../../../../ducks/alerts/invalid-custom-network"),l=p(e("../../../ui/popover")),c=p(e("../../../ui/button")),u=e("../../../../hooks/useI18nContext"),d=e("../../../../helpers/constants/routes");function p(e){return e&&e.__esModule?e:{default:e}}const{ERROR:f,LOADING:m}=i.ALERT_STATE,h=({history:e})=>{const t=(0,u.useI18nContext)(),n=(0,r.useDispatch)(),o=(0,r.useSelector)(s.getAlertState),i=(0,r.useSelector)(s.getNetworkName),p=()=>n((0,s.dismissAlert)()),h=a.default.createElement(a.default.Fragment,null,o===f?a.default.createElement("div",{className:"invalid-custom-network-alert__error"},t("failureMessage")):null,a.default.createElement("div",{className:"invalid-custom-network-alert__footer-row"},a.default.createElement(c.default,{disabled:o===m,onClick:p,type:"secondary",className:"invalid-custom-network-alert__footer-row-button"},t("dismiss")),a.default.createElement(c.default,{disabled:o===m,onClick:async()=>{await p(),e.push(d.NETWORKS_ROUTE)},type:"primary",className:"invalid-custom-network-alert__footer-row-button"},t("settings"))));return a.default.createElement(l.default,{title:t("invalidCustomNetworkAlertTitle"),onClose:p,contentClassName:"invalid-custom-network-alert__content",footerClassName:"invalid-custom-network-alert__footer",footer:h},a.default.createElement("p",null,t("invalidCustomNetworkAlertContent1",[i])),a.default.createElement("p",null,t("invalidCustomNetworkAlertContent2")),a.default.createElement("p",null,t("invalidCustomNetworkAlertContent3",[a.default.createElement("span",{key:"invalidCustomNetworkAlertContentLink",className:"invalid-custom-network-alert__content-link",onClick:()=>global.platform.openTab({url:"https://chainid.network"})},"chainId.network")])))};h.propTypes={history:o.default.object.isRequired};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/alerts/invalid-custom-network-alert/invalid-custom-network-alert.js"}],[3494,{"./unconnected-account-alert":3495},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./unconnected-account-alert"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/alerts/unconnected-account-alert/index.js"}],[3495,{"../../../../ducks/alerts":4076,"../../../../ducks/alerts/unconnected-account":4078,"../../../../helpers/utils/util":4133,"../../../../hooks/useI18nContext":4155,"../../../../selectors":4461,"../../../ui/button":3931,"../../../ui/check-box":3937,"../../../ui/popover":4026,"../../../ui/tooltip":4060,"../../connected-accounts-list":3544,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("../../../../ducks/alerts"),i=e("../../../../ducks/alerts/unconnected-account"),s=e("../../../../selectors"),l=e("../../../../helpers/utils/util"),c=h(e("../../../ui/popover")),u=h(e("../../../ui/button")),d=h(e("../../../ui/check-box")),p=h(e("../../../ui/tooltip")),f=h(e("../../connected-accounts-list")),m=e("../../../../hooks/useI18nContext");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const{ERROR:y,LOADING:v}=o.ALERT_STATE;var b=()=>{const e=(0,m.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,r.useSelector)(i.getAlertState),o=(0,r.useSelector)(s.getOrderedConnectedAccountsForActiveTab),h=(0,r.useSelector)(s.getOriginOfCurrentTab),g=(0,r.useSelector)(s.getSelectedIdentity),b=(0,r.useSelector)(s.getSelectedAddress),[_,E]=(0,a.useState)(!1),T=async()=>_?await t((0,i.dismissAndDisableAlert)()):t((0,i.dismissAlert)()),k=a.default.createElement(a.default.Fragment,null,n===y?a.default.createElement("div",{className:"unconnected-account-alert__error"},e("failureMessage")):null,a.default.createElement("div",{className:"unconnected-account-alert__footer-row"},a.default.createElement("div",{className:"unconnected-account-alert__checkbox-wrapper"},a.default.createElement(d.default,{id:"unconnectedAccount_dontShowThisAgain",checked:_,className:"unconnected-account-alert__checkbox",onClick:()=>E((e=>!e))}),a.default.createElement("label",{className:"unconnected-account-alert__checkbox-label",htmlFor:"unconnectedAccount_dontShowThisAgain"},e("dontShowThisAgain"),a.default.createElement(p.default,{position:"top",title:e("alertDisableTooltip"),wrapperClassName:"unconnected-account-alert__checkbox-label-tooltip"},a.default.createElement("i",{className:"fa fa-info-circle"})))),a.default.createElement(u.default,{disabled:n===v,onClick:T,type:"primary",className:"unconnected-account-alert__dismiss-button"},e("dismiss"))));return a.default.createElement(c.default,{title:(0,l.isExtensionUrl)(h)?e("currentExtension"):(0,l.getURLHost)(h),subtitle:e("currentAccountNotConnected"),onClose:T,className:"unconnected-account-alert",contentClassName:"unconnected-account-alert__content",footerClassName:"unconnected-account-alert__footer",footer:k},a.default.createElement(f.default,{accountToConnect:g,connectAccount:()=>t((0,i.connectAccount)(b)),connectedAccounts:o,selectedAddress:b,setSelectedAddress:e=>t((0,i.switchToAccount)(e)),shouldRenderListOptions:!1}))};n.default=b}}},{package:"$root$",file:"ui/components/app/alerts/unconnected-account-alert/unconnected-account-alert.js"}],[3496,{"../../../../shared/constants/metametrics":3422,"../../../helpers/constants/routes":4099,"../../ui/identicon":3989,"../../ui/metafox-logo":4012,"../network-display":3669,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=d(e("../../ui/identicon")),s=d(e("../../ui/metafox-logo")),l=e("../../../helpers/constants/routes"),c=e("../../../../shared/constants/metametrics"),u=d(e("../network-display"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.PureComponent{handleNetworkIndicatorClick(e){e.preventDefault(),e.stopPropagation();const{networkDropdownOpen:t,showNetworkDropdown:n,hideNetworkDropdown:a,disabled:r,disableNetworkIndicator:o}=this.props;r||o||(!1===t?(this.context.trackEvent({category:c.MetaMetricsEventCategory.Navigation,event:c.MetaMetricsEventName.NavNetworkMenuOpened,properties:{}}),n()):a())}renderAccountMenu(){const{isUnlocked:e,toggleAccountMenu:t,selectedAddress:n,disabled:r,isAccountMenuOpen:s}=this.props;return e&&a.default.createElement("button",{"data-testid":"account-menu-icon",className:(0,o.default)("account-menu__icon",{"account-menu__icon--disabled":r}),disabled:Boolean(r),onClick:()=>{r||(!s&&this.context.trackEvent({category:c.MetaMetricsEventCategory.Navigation,event:c.MetaMetricsEventName.NavMainMenuOpened,properties:{}}),t())}},a.default.createElement(i.default,{address:n,diameter:32,addBorder:!0}))}render(){const{history:e,hideNetworkIndicator:t,disableNetworkIndicator:n,disabled:r,onClick:o}=this.props;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"app-header"},a.default.createElement("div",{className:"app-header__contents"},a.default.createElement(s.default,{unsetIconHeight:!0,onClick:async()=>{o&&await o(),e.push(l.DEFAULT_ROUTE)}}),a.default.createElement("div",{className:"app-header__account-menu-container"},!t&&a.default.createElement("div",{className:"app-header__network-component-wrapper"},a.default.createElement(u.default,{onClick:e=>this.handleNetworkIndicatorClick(e),disabled:r||n})),this.renderAccountMenu()))))}}n.default=m,f(m,"propTypes",{history:r.default.object,networkDropdownOpen:r.default.bool,showNetworkDropdown:r.default.func,hideNetworkDropdown:r.default.func,toggleAccountMenu:r.default.func,selectedAddress:r.default.string,isUnlocked:r.default.bool,hideNetworkIndicator:r.default.bool,disabled:r.default.bool,disableNetworkIndicator:r.default.bool,isAccountMenuOpen:r.default.bool,onClick:r.default.func}),f(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/app-header/app-header.component.js"}],[3497,{"../../../selectors":4461,"../../../store/actions":4468,"./app-header.component":3496,"react-redux":3125,"react-router-dom":3145,redux:3189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("react-router-dom"),o=e("redux");e("../../../selectors");var i,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("../../../store/actions")),l=(i=e("./app-header.component"))&&i.__esModule?i:{default:i};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var u=(0,o.compose)(r.withRouter,(0,a.connect)((e=>{const{appState:t,metamask:n}=e,{networkDropdownOpen:a}=t,{selectedAddress:r,isUnlocked:o,isAccountMenuOpen:i}=n;return{networkDropdownOpen:a,selectedAddress:r,isUnlocked:o,isAccountMenuOpen:i}}),(e=>({showNetworkDropdown:()=>e(s.showNetworkDropdown()),hideNetworkDropdown:()=>e(s.hideNetworkDropdown()),toggleAccountMenu:()=>e(s.toggleAccountMenu())}))))(l.default);n.default=u}}},{package:"$root$",file:"ui/components/app/app-header/app-header.container.js"}],[3498,{"./app-header.container":3497},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./app-header.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/app-header/index.js"}],[3499,{"../../../selectors":4461,"../../ui/spinner":4044,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=l(e("prop-types")),o=l(e("react")),i=e("../../../selectors"),s=l(e("../../ui/spinner"));function l(e){return e&&e.__esModule?e:{default:e}}const c=({className:e})=>(0,a.useSelector)(i.getAppIsLoading)?o.default.createElement("div",{className:`${e} app-loading-spinner`,role:"alert","aria-busy":"true"},o.default.createElement(s.default,{color:"var(--color-secondary-muted)",className:"app-loading-spinner__inner"})):null;c.propTypes={className:r.default.string};var u=c;n.default=u}}},{package:"$root$",file:"ui/components/app/app-loading-spinner/app-loading-spinner.js"}],[3500,{"./app-loading-spinner":3499},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./app-loading-spinner"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/app-loading-spinner/index.js"}],[3501,{"../../../contexts/i18n":4072,"../../../helpers/constants/common":4093,"../../../helpers/constants/design-system":4095,"../../../helpers/utils/confirm-tx.util":4115,"../../../selectors":4461,"../../component-library":3863,"../../ui/box/box":3926,"../../ui/button":3931,"../confirm-gas-display":3516,"../edit-gas-fee-button/edit-gas-fee-button":3571,"../multilayer-fee-message/multi-layer-fee-message":3664,"../transaction-detail-item/transaction-detail-item.component":3773,"../user-preferenced-currency-display":3787,classnames:1987,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=_(e("prop-types")),o=_(e("classnames")),i=e("react-redux"),s=_(e("../../ui/box/box")),l=_(e("../../ui/button")),c=_(e("../edit-gas-fee-button/edit-gas-fee-button")),u=e("../../component-library"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/common"),f=e("../../../contexts/i18n"),m=e("../../../selectors"),h=e("../confirm-gas-display"),g=_(e("../multilayer-fee-message/multi-layer-fee-message")),y=e("../../../helpers/utils/confirm-tx.util"),v=_(e("../transaction-detail-item/transaction-detail-item.component")),b=_(e("../user-preferenced-currency-display"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function T({showHeader:e=!0,symbol:t,title:n,showEdit:r,showAdvanceGasFeeOptions:_=!1,onEditClick:E,footer:T,noBorder:k,supportsEIP1559:w,renderTransactionDetailsContent:x,renderDataContent:O,isMultiLayerFeeNetwork:P,ethTransactionTotal:C,nativeCurrency:M,fullTxData:N,hexMinimumTransactionFee:j,hexTransactionTotal:S,fiatTransactionTotal:I,currentCurrency:A,isSetApproveForAll:D,isApprovalOrRejection:L,data:R,userAcknowledgedGasMissing:F,renderSimulationFailureWarning:$,useCurrencyRateCheck:W}){const G=(0,a.useContext)(f.I18nContext),{useNativeCurrencyAsPrimaryCurrency:B}=(0,i.useSelector)(m.getPreferences);return a.default.createElement(s.default,{className:(0,o.default)({"approve-content-card-container__card":!k,"approve-content-card-container__card--no-border":k})},e&&a.default.createElement(s.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.flexEnd,className:"approve-content-card-container__card-header"},w&&n===G("transactionFee")?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{className:"approve-content-card-container__card-header__symbol"},t),a.default.createElement(s.default,{marginLeft:4,className:"approve-content-card-container__card-header__title"},a.default.createElement(u.Text,{variant:d.TextVariant.bodySmBold,as:"h6"},n))),r&&(!_||!w)&&a.default.createElement(s.default,{width:d.BLOCK_SIZES.ONE_SIXTH},a.default.createElement(l.default,{type:"link",onClick:()=>E()},a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.primaryDefault,as:"h6"},G("edit")))),r&&_&&w&&!$&&a.default.createElement(c.default,{userAcknowledgedGasMissing:F})),a.default.createElement(s.default,{marginTop:1,marginBottom:3,className:"approve-content-card-container__card-content"},x&&(P||!w||$?a.default.createElement(s.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW,justifyContent:d.JustifyContent.spaceBetween},P?a.default.createElement(s.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.COLUMN,className:"approve-content-card-container__transaction-details-extra-content"},a.default.createElement(v.default,{key:"total-item",detailTitle:G("transactionDetailLayer2GasHeading"),detailTotal:a.default.createElement(b.default,{type:p.PRIMARY,value:j,hideLabel:!B,numberOfDecimals:18}),detailText:a.default.createElement(b.default,{type:p.SECONDARY,value:j,hideLabel:Boolean(B)}),noBold:!0,flexWidthValues:!0}),a.default.createElement(g.default,{transaction:N,layer2fee:S,nativeCurrency:M,plainStyle:!0})):a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,null,a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative,as:"h6"},G("feeAssociatedRequest"))),a.default.createElement(s.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.COLUMN,alignItems:d.AlignItems.flexEnd,textAlign:d.TEXT_ALIGN.RIGHT},W&&a.default.createElement(s.default,null,a.default.createElement(u.Text,{variant:d.TextVariant.headingSm,fontWeight:d.FONT_WEIGHT.BOLD,color:d.TextColor.TEXT_DEFAULT,as:"h4"},(0,y.formatCurrency)(I,A))),a.default.createElement(s.default,null,a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,fontWeight:d.FONT_WEIGHT.NORMAL,color:d.TextColor.textMuted,as:"h6"},`${C} ${M}`))))):a.default.createElement(h.ConfirmGasDisplay,{userAcknowledgedGasMissing:F})),O&&a.default.createElement(s.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.COLUMN},a.default.createElement(s.default,null,a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative,as:"h6"},G(D?"functionSetApprovalForAll":"functionApprove"))),D&&L!==undefined?a.default.createElement(s.default,null,a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative,as:"h6"},`${G("parameters")}: ${L}`)):null,a.default.createElement(s.default,{marginRight:4,className:"approve-content-card-container__data__data-block"},a.default.createElement(u.Text,{variant:d.TextVariant.bodySm,color:d.TextColor.textAlternative,as:"h6"},R)))),T)}T.propTypes={showHeader:r.default.bool,symbol:r.default.node,title:r.default.string,showEdit:r.default.bool,showAdvanceGasFeeOptions:r.default.bool,onEditClick:r.default.func,footer:r.default.node,noBorder:r.default.bool,supportsEIP1559:r.default.bool,renderTransactionDetailsContent:r.default.bool,renderDataContent:r.default.bool,isMultiLayerFeeNetwork:r.default.bool,ethTransactionTotal:r.default.string,nativeCurrency:r.default.string,fullTxData:r.default.object,hexTransactionTotal:r.default.string,hexMinimumTransactionFee:r.default.string,fiatTransactionTotal:r.default.string,currentCurrency:r.default.string,isSetApproveForAll:r.default.bool,isApprovalOrRejection:r.default.bool,data:r.default.string,userAcknowledgedGasMissing:r.default.bool,renderSimulationFailureWarning:r.default.bool,useCurrencyRateCheck:r.default.bool}}}},{package:"$root$",file:"ui/components/app/approve-content-card/approve-content-card.js"}],[3502,{"../../../../shared/constants/metametrics":3422,"../../../../shared/constants/transaction":3432,"../../../contexts/metametrics":4073,"../../../ducks/send":4089,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/error-keys":4096,"../../../helpers/constants/routes":4099,"../../../hooks/useI18nContext":4155,"../../component-library":3863,"../../ui/box/box":3926,"../../ui/button":3931,"../../ui/icon/info-icon.component":3977,"../../ui/identicon":3989,"../../ui/list-item":3995,"../../ui/tooltip":4060,classnames:1987,"prop-types":3027,react:3172,"react-redux":3125,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=k(e("prop-types")),o=k(e("classnames")),i=e("react-redux"),s=e("react-router-dom"),l=k(e("../../ui/identicon")),c=k(e("../../ui/list-item")),u=k(e("../../ui/tooltip")),d=k(e("../../ui/icon/info-icon.component")),p=k(e("../../ui/button")),f=e("../../../hooks/useI18nContext"),m=e("../../../ducks/send"),h=e("../../../helpers/constants/routes"),g=e("../../../helpers/constants/design-system"),y=e("../../../helpers/constants/error-keys"),v=e("../../../../shared/constants/metametrics"),b=e("../../../../shared/constants/transaction"),_=e("../../../contexts/metametrics"),E=e("../../component-library"),T=k(e("../../ui/box/box"));function k(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const x=({className:e,"data-testid":t,iconClassName:n,onClick:r,tokenAddress:k,tokenSymbol:w,tokenDecimals:x,tokenImage:O,warning:P,primary:C,secondary:M,isERC721:N})=>{const j=(0,f.useI18nContext)(),S=(0,i.useDispatch)(),I=(0,s.useHistory)(),A=(0,a.useContext)(_.MetaMetricsContext),D=P?a.default.createElement(u.default,{wrapperClassName:"asset-list-item__warning-tooltip",interactive:!0,position:"bottom",html:P},a.default.createElement(d.default,{severity:g.SEVERITIES.WARNING})):null,L=P?a.default.createElement(a.default.Fragment,null,a.default.createElement(d.default,{severity:g.SEVERITIES.WARNING}),a.default.createElement("div",{className:"asset-list-item__warning"},P)):null,R=(0,a.useMemo)((()=>null===k||k===undefined?null:a.default.createElement(p.default,{type:"link",className:"asset-list-item__send-token-button",onClick:async e=>{e.stopPropagation(),A({event:"Clicked Send: Token",category:v.MetaMetricsEventCategory.Navigation,properties:{action:"Home",legacy_event:!0}});try{await S((0,m.startNewDraftTransaction)({type:b.AssetType.token,details:{address:k,decimals:x,symbol:w}})),I.push(h.SEND_ROUTE)}catch(e){if(!e.message.includes(y.INVALID_ASSET_TYPE))throw e}}},j("sendSpecifiedTokens",[w]))),[w,A,k,x,I,j,S]);return a.default.createElement(c.default,{className:(0,o.default)("asset-list-item",e),"data-testid":t,title:a.default.createElement("button",{className:"asset-list-item__token-button","data-testid":"token-button",onClick:r,title:`${C} ${w}`},a.default.createElement("h2",null,a.default.createElement("span",{className:"asset-list-item__token-value"},C),a.default.createElement("span",{className:"asset-list-item__token-symbol"},w))),titleIcon:D,subtitle:M?a.default.createElement("h3",{title:M},M):null,onClick:r,icon:a.default.createElement(l.default,{className:n,diameter:32,address:k,image:O,alt:`${C} ${w}`}),midContent:L,rightContent:!N&&a.default.createElement(T.default,null,a.default.createElement(E.Icon,{name:E.IconName.ArrowRight,color:g.Color.iconDefault,size:E.IconSize.Sm,style:{verticalAlign:"middle"}}),R)})};x.propTypes={className:r.default.string,"data-testid":r.default.string,iconClassName:r.default.string,onClick:r.default.func.isRequired,tokenAddress:r.default.string,tokenSymbol:r.default.string,tokenDecimals:r.default.number,tokenImage:r.default.string,warning:r.default.node,primary:r.default.string,secondary:r.default.string,isERC721:r.default.bool},x.defaultProps={className:undefined,"data-testid":undefined,iconClassName:undefined,tokenAddress:undefined,tokenImage:undefined,warning:undefined};var O=x;n.default=O}}},{package:"$root$",file:"ui/components/app/asset-list-item/asset-list-item.js"}],[3503,{"./asset-list-item":3502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./asset-list-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/asset-list-item/index.js"}],[3504,{"../../../../shared/constants/metametrics":3422,"../../../contexts/metametrics":4073,"../../../ducks/metamask/metamask":4087,"../../../helpers/constants/common":4093,"../../../helpers/constants/design-system":4095,"../../../hooks/useCurrencyDisplay":4149,"../../../hooks/useI18nContext":4155,"../../../hooks/useUserPreferencedCurrency":4177,"../../../selectors":4461,"../../component-library":3863,"../../multichain":3909,"../../ui/box/box":3926,"../asset-list-item":3503,"../detected-token/detected-token":3566,"../import-token-link":3597,"../token-list":3746,"./detected-tokens-link/detected-tokens-link":3505,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=T(e("prop-types")),o=e("react-redux"),i=T(e("../import-token-link")),s=T(e("../token-list")),l=T(e("../asset-list-item")),c=e("../../../helpers/constants/common"),u=e("../../../hooks/useUserPreferencedCurrency"),d=e("../../../selectors"),p=e("../../../ducks/metamask/metamask"),f=e("../../../hooks/useCurrencyDisplay"),m=T(e("../../ui/box/box")),h=e("../../../helpers/constants/design-system"),g=e("../../../hooks/useI18nContext"),y=e("../../../contexts/metametrics"),v=e("../../../../shared/constants/metametrics"),b=T(e("../detected-token/detected-token")),_=(e("../../multichain"),e("../../component-library")),E=T(e("./detected-tokens-link/detected-tokens-link"));function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const w=({onClickAsset:e})=>{const t=(0,g.useI18nContext)(),[n,r]=(0,a.useState)(!1),T=(0,o.useSelector)(d.getSelectedAccountCachedBalance),k=(0,o.useSelector)(p.getNativeCurrency),w=(0,o.useSelector)(d.getShouldShowFiat),x=(0,a.useContext)(y.MetaMetricsContext),O=!(0,o.useSelector)(d.getSelectedAccountCachedBalance),{currency:P,numberOfDecimals:C}=(0,u.useUserPreferencedCurrency)(c.PRIMARY,{ethNumberOfDecimals:4}),{currency:M,numberOfDecimals:N}=(0,u.useUserPreferencedCurrency)(c.SECONDARY,{ethNumberOfDecimals:4}),[,j]=(0,f.useCurrencyDisplay)(T,{numberOfDecimals:C,currency:P}),[S,I]=(0,f.useCurrencyDisplay)(T,{numberOfDecimals:N,currency:M}),A=(0,o.useSelector)(d.getNativeCurrencyImage),D=(0,o.useSelector)(d.getDetectedTokensInCurrentNetwork)||[],L=(0,o.useSelector)(d.getIstokenDetectionInactiveOnNonMainnetSupportedNetwork),R=(0,o.useSelector)(d.getTokenList),F=Object.values(R).find((e=>e.symbol===j.suffix));(null==F?void 0:F.name)||j.suffix;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{onClick:()=>e(k),"data-testid":"wallet-balance",primary:j.value??I.value,tokenSymbol:j.suffix,secondary:w?S:undefined,tokenImage:O?null:A,identiconBorder:!0}),a.default.createElement(s.default,{onTokenClick:t=>{e(t),x({event:v.MetaMetricsEventName.TokenScreenOpened,category:v.MetaMetricsEventCategory.Navigation,properties:{token_symbol:j.suffix,location:"Home"}})}}),D.length>0&&!L&&a.default.createElement(a.default.Fragment,null,a.default.createElement(E.default,{setShowDetectedTokens:r})),a.default.createElement(m.default,{marginTop:D.length>0?0:4},a.default.createElement(a.default.Fragment,null,a.default.createElement(_.Text,{color:h.Color.textAlternative,variant:h.TextVariant.bodySm,as:"h6",textAlign:h.TEXT_ALIGN.CENTER},t("missingToken")),a.default.createElement(i.default,null))),n&&a.default.createElement(b.default,{setShowDetectedTokens:r}))};w.propTypes={onClickAsset:r.default.func.isRequired};var x=w;n.default=x}}},{package:"$root$",file:"ui/components/app/asset-list/asset-list.js"}],[3505,{"../../../../../shared/constants/metametrics":3422,"../../../../contexts/metametrics":4073,"../../../../hooks/useI18nContext":4155,"../../../../selectors":4461,"../../../ui/box/box":3926,"../../../ui/button":3931,classnames:1987,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=f(e("prop-types")),i=f(e("classnames")),s=f(e("../../../ui/box/box")),l=f(e("../../../ui/button")),c=e("../../../../hooks/useI18nContext"),u=e("../../../../selectors"),d=e("../../../../contexts/metametrics"),p=e("../../../../../shared/constants/metametrics");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=({className:e="",setShowDetectedTokens:t})=>{const n=(0,c.useI18nContext)(),o=(0,a.useContext)(d.MetaMetricsContext),f=(0,r.useSelector)(u.getDetectedTokensInCurrentNetwork),m=f.map((({address:e,symbol:t})=>`${t} - ${e}`));return a.default.createElement(s.default,{className:(0,i.default)("detected-tokens-link",e),marginTop:1},a.default.createElement(l.default,{type:"link",className:"detected-tokens-link__link",onClick:()=>{t(!0),o({event:p.MetaMetricsEventName.TokenImportClicked,category:p.MetaMetricsEventCategory.Wallet,properties:{source:p.MetaMetricsTokenEventSource.Detected,tokens:m}})}},1===f.length?n("numberOfNewTokensDetectedSingular"):n("numberOfNewTokensDetectedPlural",[f.length])))};h.propTypes={setShowDetectedTokens:o.default.func.isRequired,className:o.default.string};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/asset-list/detected-tokens-link/detected-tokens-link.js"}],[3506,{"./asset-list":3504},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./asset-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/asset-list/index.js"}],[3507,{"../../../../shared/modules/gas.utils":3449,"../../../ducks/metamask/metamask":4087,"../../../hooks/useI18nContext":4155,"../../../hooks/useIncrementedGasFees":4156,"../../../pages/send/send.utils":4338,"../../../selectors":4461,"../../ui/button":3931,"@material-ui/core":851,classnames:1987,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=e("@material-ui/core"),r=h(e("react")),o=h(e("prop-types")),i=e("react-redux"),s=h(e("classnames")),l=h(e("../../ui/button")),c=e("../../../../shared/modules/gas.utils"),u=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/useI18nContext"),p=e("../../../hooks/useIncrementedGasFees"),f=e("../../../pages/send/send.utils"),m=e("../../../selectors");function h(e){return e&&e.__esModule?e:{default:e}}function g({cancelTransaction:e,transaction:t,detailsModal:n}){const o=(0,d.useI18nContext)(),h=(0,p.useIncrementedGasFees)(t),g=(0,i.useSelector)(m.getSelectedAccount),y=(0,i.useSelector)(u.getConversionRate),v=(0,f.isBalanceSufficient)({amount:"0x0",gasTotal:(0,c.getMaximumGasTotalInHexWei)(h),balance:g.balance,conversionRate:y}),b=r.default.createElement(l.default,{onClick:e,type:"secondary",className:(0,s.default)({"transaction-list-item__header-button":!n,"transaction-list-item-details__header-button-rounded-button":n}),disabled:!v,"data-testid":"cancel-button"},o("cancel"));return v?b:r.default.createElement(a.Tooltip,{title:o("notEnoughGas"),"data-testid":"not-enough-gas__tooltip",position:"bottom"},r.default.createElement("div",null,b))}g.propTypes={transaction:o.default.object,cancelTransaction:o.default.func,detailsModal:o.default.bool}}}},{package:"$root$",file:"ui/components/app/cancel-button/cancel-button.js"}],[3508,{"./cancel-button":3507},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./cancel-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/cancel-button/index.js"}],[3509,{"../../../../shared/constants/gas":3418,"../../../contexts/gasFee":4071,"../../../contexts/transaction-modal":4074,"../../../helpers/constants/design-system":4095,"../../../helpers/utils/gas":4118,"../../../hooks/useI18nContext":4155,"../../../selectors":4461,"../../ui/box":3927,"../../ui/button":3931,"../../ui/info-tooltip":3990,"../../ui/popover":4026,"../../ui/typography":4064,"../app-loading-spinner":3500,"../edit-gas-fee-button":3572,"../gas-details-item":3590,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/design-system"),s=e("../../../selectors"),l=e("../../../helpers/utils/gas"),c=e("../../../contexts/gasFee"),u=e("../../../hooks/useI18nContext"),d=e("../../../contexts/transaction-modal"),p=_(e("../edit-gas-fee-button")),f=_(e("../gas-details-item")),m=_(e("../../ui/box")),h=_(e("../../ui/button")),g=_(e("../../ui/info-tooltip")),y=_(e("../../ui/popover")),v=_(e("../../ui/typography")),b=_(e("../app-loading-spinner"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var T=()=>{const{cancelTransaction:e,editGasMode:t,gasFeeEstimates:n,speedUpTransaction:_,transaction:E,updateTransaction:T,updateTransactionToTenPercentIncreasedGasFee:k,updateTransactionUsingEstimate:w}=(0,c.useGasFeeContext)(),x=(0,u.useI18nContext)(),{closeModal:O,currentModal:P}=(0,d.useTransactionModalContext)(),C=(0,a.useSelector)(s.getAppIsLoading);if((0,r.useEffect)((()=>{if(E.previousGas||C||"cancelSpeedUpTransaction"!==P)return;n&&(0,l.gasEstimateGreaterThanGasUsedPlusTenPercent)(E.txParams,n,o.PriorityLevels.medium)?w(o.PriorityLevels.medium):k(!0)}),[C,P,t,n,E,T,k,w]),"cancelSpeedUpTransaction"!==P)return null;return r.default.createElement(y.default,{title:r.default.createElement(r.default.Fragment,null,t===o.EditGasModes.cancel?`❌${x("cancel")}`:`🚀${x("speedUp")}`),onClose:()=>O(["cancelSpeedUpTransaction"]),className:"cancel-speedup-popover"},r.default.createElement(b.default,{className:"cancel-speedup-popover__spinner"}),r.default.createElement("div",{className:"cancel-speedup-popover__wrapper"},r.default.createElement(v.default,{boxProps:{alignItems:i.AlignItems.center,display:i.DISPLAY.FLEX},variant:i.TypographyVariant.H6,marginTop:0,marginBottom:2},x("cancelSpeedUpLabel",[r.default.createElement("strong",{key:"cancelSpeedupReplace"},x("replace"))]),r.default.createElement(g.default,{position:"top",contentText:r.default.createElement(m.default,null,x("cancelSpeedUpTransactionTooltip",[t===o.EditGasModes.cancel?x("cancel"):x("speedUp")]),r.default.createElement("div",null,r.default.createElement("a",{href:"https://community.metamask.io/t/how-to-speed-up-or-cancel-transactions-on-metamask/3296",target:"_blank",rel:"noopener noreferrer"},x("learnMoreUpperCase"))))})),r.default.createElement("div",{className:"cancel-speedup-popover__separator"}),r.default.createElement(m.default,{display:i.DISPLAY.FLEX,alignItems:i.AlignItems.center,flexDirection:i.FLEX_DIRECTION.COLUMN,marginTop:4},r.default.createElement(m.default,{className:"cancel-speedup-popover__edit-gas-button"},!C&&r.default.createElement(p.default,null)),r.default.createElement(m.default,{className:"cancel-speedup-popover__gas-details"},r.default.createElement(f.default,null))),r.default.createElement(h.default,{type:"primary",onClick:()=>{t===o.EditGasModes.cancel?e():_(),O(["cancelSpeedUpTransaction"])}},x("submit"))))};n.default=T}}},{package:"$root$",file:"ui/components/app/cancel-speedup-popover/cancel-speedup-popover.js"}],[3510,{"./cancel-speedup-popover":3509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./cancel-speedup-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/cancel-speedup-popover/index.js"}],[3511,{"../../../helpers/constants/design-system":4095,"../../../hooks/useI18nContext":4155,"../../../hooks/useTransactionFunctionType":4175,"../../../selectors":4461,"../../component-library":3863,"../../ui/box/box":3926,"../../ui/disclosure":3953,"../transaction-decoding":3769,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=m(e("prop-types")),o=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../selectors"),l=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useTransactionFunctionType"),u=m(e("../../ui/box/box")),d=m(e("../../ui/disclosure")),p=m(e("../transaction-decoding")),f=e("../../component-library");function m(e){return e&&e.__esModule?e:{default:e}}const h=({txData:e,dataComponent:t})=>{const n=(0,l.useI18nContext)(),{txParams:r={}}=e,m=(0,o.useSelector)((e=>(0,s.getKnownMethodData)(e,r.data)||{})),{functionType:h}=(0,c.useTransactionFunctionType)(e);if(t)return t;if(!r.data)return null;const{params:g}=m,y=null!=g&&g.length?`(${g.map((({type:e})=>e)).join(", ")})`:"";return a.default.createElement(u.default,{color:i.Color.textAlternative,className:"confirm-data",padding:4},a.default.createElement(u.default,{paddingBottom:3,paddingTop:2},a.default.createElement(f.Text,{as:"span",textTransform:i.TEXT_TRANSFORM.UPPERCASE,variant:i.TextVariant.bodySm},`${n("functionType")}:`),a.default.createElement(f.Text,{as:"span",color:i.Color.textDefault,paddingLeft:1,textTransform:i.TEXT_TRANSFORM.CAPITALIZE,variant:i.TextVariant.bodySmBold},`${h} ${y}`)),a.default.createElement(d.default,null,a.default.createElement(p.default,{to:null==r?void 0:r.to,inputData:null==r?void 0:r.data})))};h.propTypes={txData:r.default.object,dataComponent:r.default.element};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/confirm-data/confirm-data.js"}],[3512,{"./confirm-data":3511},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmData",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-data"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-data/index.js"}],[3513,{"../../../../shared/constants/transaction":3432,"../../../ducks/send":4089,"../../../helpers/utils/transactions.util":4131,"../../../selectors":4461,"../gas-details-item":3590,"./confirm-legacy-gas-display":3515,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),i=e("../../../selectors"),s=e("../../../helpers/utils/transactions.util"),l=p(e("../gas-details-item")),c=e("../../../ducks/send"),u=e("../../../../shared/constants/transaction"),d=e("./confirm-legacy-gas-display");function p(e){return e&&e.__esModule?e:{default:e}}const f=({userAcknowledgedGasMissing:e=!1})=>{const{txParams:t}=(0,o.useSelector)((e=>(0,i.txDataSelector)(e))),n=(0,o.useSelector)(c.getCurrentDraftTransaction),r=null==n?void 0:n.transactionType;let p;p=r?r===u.TransactionEnvelopeType.legacy:(0,s.isLegacyTransaction)(t);return(0,o.useSelector)(i.checkNetworkAndAccountSupports1559)&&!p?a.default.createElement(l.default,{userAcknowledgedGasMissing:e}):a.default.createElement(d.ConfirmLegacyGasDisplay,null)};f.propTypes={userAcknowledgedGasMissing:r.default.bool};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/confirm-gas-display/confirm-gas-display.js"}],[3514,{"../../../../ducks/metamask/metamask":4087,"../../../../helpers/constants/common":4093,"../../../../helpers/constants/design-system":4095,"../../../../hooks/useDraftTransactionGasValues":4151,"../../../../hooks/useI18nContext":4155,"../../../../selectors":4461,"../../../component-library/text":3890,"../../../ui/info-tooltip":3990,"../../../ui/loading-heartbeat":3997,"../../multilayer-fee-message/multi-layer-fee-message":3664,"../../transaction-detail-item":3772,"../../user-preferenced-currency-display":3787,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=y(e("react")),r=e("react-redux"),o=e("../../../../hooks/useI18nContext"),i=e("../../../../selectors"),s=e("../../../../helpers/constants/common"),l=y(e("../../transaction-detail-item")),c=y(e("../../user-preferenced-currency-display")),u=y(e("../../../ui/info-tooltip")),d=y(e("../../../ui/loading-heartbeat")),p=e("../../../component-library/text"),f=e("../../../../helpers/constants/design-system"),m=e("../../../../hooks/useDraftTransactionGasValues"),h=e("../../../../ducks/metamask/metamask"),g=y(e("../../multilayer-fee-message/multi-layer-fee-message"));function y(e){return e&&e.__esModule?e:{default:e}}const v=()=>a.default.createElement(d.default,null);var b=()=>{const e=(0,o.useI18nContext)(),t=(0,r.useSelector)(i.getIsMainnet),n=(0,r.useSelector)(i.getIsMultiLayerFeeNetwork),d=(0,r.useSelector)(i.getUseCurrencyRateCheck),{useNativeCurrencyAsPrimaryCurrency:y}=(0,r.useSelector)(i.getPreferences),b=(0,r.useSelector)(h.getNativeCurrency),_=(0,r.useSelector)(i.getUnapprovedTransactions),{transactionData:E}=(0,m.useDraftTransactionGasValues)(),T=(0,r.useSelector)((e=>(0,i.txDataSelector)(e))),{id:k,dappSuggestedGasFees:w}=T,x=Object.keys(E).length?E:_[k]||{},{hexMinimumTransactionFee:O,hexMaximumTransactionFee:P}=(0,r.useSelector)((e=>(0,i.transactionFeeSelector)(e,x)));return n?[a.default.createElement(l.default,{key:"total-item",detailTitle:e("transactionDetailLayer2GasHeading"),detailTotal:a.default.createElement(c.default,{type:s.PRIMARY,value:O,hideLabel:!y,numberOfDecimals:18}),detailText:a.default.createElement(c.default,{type:s.SECONDARY,value:O,hideLabel:Boolean(y)}),noBold:!0,flexWidthValues:!0}),a.default.createElement(g.default,{key:"confirm-layer-1",transaction:T,layer2fee:O,nativeCurrency:b})]:a.default.createElement(l.default,{key:"legacy-gas-details",detailTitle:w?a.default.createElement(a.default.Fragment,null,e("transactionDetailGasHeading"),a.default.createElement(u.default,{contentText:e("transactionDetailDappGasTooltip"),position:"top"},a.default.createElement("i",{className:"fa fa-info-circle"}))):a.default.createElement(a.default.Fragment,null,e("transactionDetailGasHeading"),a.default.createElement(u.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,e("transactionDetailGasTooltipIntro",[t?e("networkNameEthereum"):""])),a.default.createElement("p",null,e("transactionDetailGasTooltipExplanation")),a.default.createElement("p",null,a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},e("transactionDetailGasTooltipConversion")))),position:"top"},a.default.createElement("i",{className:"fa fa-info-circle"}))),detailText:d&&a.default.createElement("div",null,v(),a.default.createElement(c.default,{type:s.SECONDARY,value:O,hideLabel:Boolean(y)})),detailTotal:a.default.createElement("div",null,v(),a.default.createElement(c.default,{type:s.PRIMARY,value:O,hideLabel:!y,numberOfDecimals:6})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement("strong",{key:"editGasSubTextFeeLabel"},e("editGasSubTextFeeLabel")),a.default.createElement("div",{key:"editGasSubTextFeeValue"},v(),a.default.createElement(c.default,{key:"editGasSubTextFeeAmount",type:s.PRIMARY,value:P,hideLabel:!y}))),subTitle:a.default.createElement(a.default.Fragment,null,w&&a.default.createElement(p.Text,{variant:f.TextVariant.bodySm,fontStyle:f.FONT_STYLE.ITALIC,color:f.TextColor.textAlternative,as:"h6"},e("transactionDetailDappGasMoreInfo")))})};n.default=b}}},{package:"$root$",file:"ui/components/app/confirm-gas-display/confirm-legacy-gas-display/confirm-legacy-gas-display.js"}],[3515,{"./confirm-legacy-gas-display":3514},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmLegacyGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-legacy-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-gas-display/confirm-legacy-gas-display/index.js"}],[3516,{"./confirm-gas-display":3513},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-gas-display/index.js"}],[3517,{"../../../../shared/modules/buffer-utils":3444,"../../../helpers/constants/design-system":4095,"../../../hooks/useI18nContext":4155,"../../../hooks/useTransactionFunctionType":4175,"../../../selectors":4461,"../../component-library":3863,"../../ui/box":3927,"../transaction-decoding/components/ui/copy-raw-data":3767,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=m(e("prop-types")),o=e("react-redux"),i=e("../../../../shared/modules/buffer-utils"),s=e("../../../selectors"),l=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useTransactionFunctionType"),u=e("../../../helpers/constants/design-system"),d=m(e("../../ui/box")),p=e("../../component-library"),f=m(e("../transaction-decoding/components/ui/copy-raw-data"));function m(e){return e&&e.__esModule?e:{default:e}}const h=({txData:e,dataHexComponent:t})=>{const n=(0,l.useI18nContext)(),{txParams:r={}}=e,m=(0,o.useSelector)((e=>(0,s.getKnownMethodData)(e,r.data)||{})),{functionType:h}=(0,c.useTransactionFunctionType)(e);if(t)return t;if(!r.data||!r.to)return null;const{params:g}=m,y=null!=g&&g.length?`(${g.map((({type:e})=>e)).join(", ")})`:"";return a.default.createElement(d.default,{padding:4},a.default.createElement(d.default,{paddingBottom:3,paddingTop:2},a.default.createElement(p.Text,{as:"span",textTransform:u.TEXT_TRANSFORM.UPPERCASE,variant:u.TextVariant.bodySm},`${n("functionType")}:`),a.default.createElement(p.Text,{as:"span",color:u.Color.textDefault,paddingLeft:1,textTransform:u.TEXT_TRANSFORM.CAPITALIZE,variant:u.TextVariant.bodySmBold},`${h} ${y}`)),g&&a.default.createElement(d.default,{backgroundColor:u.Color.backgroundAlternative,padding:4},a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TEXT_TRANSFORM.UPPERCASE,variant:u.TextVariant.bodySm},`${n("parameters")}:`),a.default.createElement(p.Text,{overflowWrap:u.OVERFLOW_WRAP.BREAK_WORD,variant:u.TextVariant.bodySm},a.default.createElement("pre",null,JSON.stringify(g,null,2)))),a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TEXT_TRANSFORM.UPPERCASE,variant:u.TextVariant.bodySm},`${n("hexData")}: ${(0,i.toBuffer)(null==r?void 0:r.data).length} bytes`),a.default.createElement(p.Text,{backgroundColor:u.Color.backgroundAlternative,overflowWrap:u.OVERFLOW_WRAP.BREAK_WORD,padding:4,variant:u.TextVariant.bodySm},null==r?void 0:r.data),a.default.createElement(f.default,{data:null==r?void 0:r.data}))};h.propTypes={txData:r.default.object,dataHexComponent:r.default.element};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/confirm-hexdata/confirm-hexdata.js"}],[3518,{"./confirm-hexdata":3517},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmHexData",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-hexdata"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-hexdata/index.js"}],[3519,{"../../../../helpers/constants/common":4093,"../../user-preferenced-currency-display":3787,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("classnames")),i=l(e("../../user-preferenced-currency-display")),s=e("../../../../helpers/constants/common");function l(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const{label:t,primaryText:n,secondaryText:r,onHeaderClick:l,primaryValueTextColor:c,headerText:u,headerTextClassName:d,value:p}=e;return a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement("div",{className:"confirm-detail-row__label"},t),a.default.createElement("div",{className:"confirm-detail-row__details"},u&&a.default.createElement("div",{className:(0,o.default)("confirm-detail-row__header-text",d),onClick:()=>null==l?void 0:l()},u),n?a.default.createElement("div",{className:"confirm-detail-row__primary",style:{color:c}},n):a.default.createElement(i.default,{className:"confirm-detail-row__primary",type:s.PRIMARY,value:p,showEthLogo:!0,ethLogoHeight:18,style:{color:c},hideLabel:!0}),r?a.default.createElement("div",{className:"confirm-detail-row__secondary"},r):a.default.createElement(i.default,{className:"confirm-detail-row__secondary",type:s.SECONDARY,value:p,showEthLogo:!0,hideLabel:!0})))};c.propTypes={headerText:r.default.string,headerTextClassName:r.default.string,label:r.default.string,onHeaderClick:r.default.func,primaryValueTextColor:r.default.string,primaryText:r.default.oneOfType([r.default.string,r.default.node]),secondaryText:r.default.string,value:r.default.string};var u=c;n.default=u}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-detail-row/confirm-detail-row.component.js"}],[3520,{"./confirm-detail-row.component":3519},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-detail-row.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-detail-row/index.js"}],[3521,{".":3526,"../../../../helpers/constants/design-system":4095,"../../../../helpers/constants/error-keys":4096,"../../../ui/actionable-message/actionable-message":3923,"../../../ui/button":3931,"../../../ui/error-message":3959,"../../../ui/page-container":4019,"../../../ui/tabs":4046,"../../../ui/typography":4064,"../../security-provider-banner-message/security-provider-banner-message":3705,"../../security-provider-banner-message/security-provider-banner-message.constants":3704,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=y(e("prop-types")),o=y(e("classnames")),i=e("../../../ui/tabs"),s=y(e("../../../ui/button")),l=y(e("../../../ui/actionable-message/actionable-message")),c=e("../../../ui/page-container"),u=y(e("../../../ui/error-message")),d=e("../../../../helpers/constants/error-keys"),p=y(e("../../../ui/typography")),f=e("../../../../helpers/constants/design-system"),m=y(e("../../security-provider-banner-message/security-provider-banner-message")),h=e("../../security-provider-banner-message/security-provider-banner-message.constants"),g=e(".");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.Component{renderContent(){const{detailsComponent:e,dataComponent:t}=this.props;return e&&t?this.renderTabs():e||t}renderTabs(){const{t:e}=this.context,{detailsComponent:t,dataComponent:n,dataHexComponent:r}=this.props;return a.default.createElement(i.Tabs,null,a.default.createElement(i.Tab,{className:"confirm-page-container-content__tab",name:e("details"),tabKey:"details"},t),n&&a.default.createElement(i.Tab,{className:"confirm-page-container-content__tab",name:e("data"),tabKey:"data"},n),r&&a.default.createElement(i.Tab,{className:"confirm-page-container-content__tab",name:e("dataHex"),tabKey:"dataHex"},r))}render(){var e,t;const{action:n,errorKey:r,errorMessage:i,image:y,titleComponent:v,subtitleComponent:b,tokenAddress:_,nonce:E,detailsComponent:T,dataComponent:k,warning:w,onCancelAll:x,onCancel:O,cancelText:P,onSubmit:C,submitText:M,disabled:N,unapprovedTxCount:j,rejectNText:S,origin:I,ethGasPriceWarning:A,supportsEIP1559:D,hasTopBorder:L,nativeCurrency:R,networkName:F,toAddress:$,transactionType:W,isBuyableChain:G,txData:B}=this.props,{t:U}=this.context,H=D&&(r||i)&&r===d.INSUFFICIENT_FUNDS_ERROR_KEY;return a.default.createElement("div",{className:(0,o.default)("confirm-page-container-content",{"confirm-page-container-content--with-top-border":L})},w?a.default.createElement(g.ConfirmPageContainerWarning,{warning:w}):null,A&&a.default.createElement(g.ConfirmPageContainerWarning,{warning:A}),(null==B||null===(e=B.securityProviderResponse)||void 0===e?void 0:e.flagAsDangerous)!==undefined&&(null==B||null===(t=B.securityProviderResponse)||void 0===t?void 0:t.flagAsDangerous)!==h.SECURITY_PROVIDER_MESSAGE_SEVERITIES.NOT_MALICIOUS||null!=B&&B.securityProviderResponse&&0===Object.keys(B.securityProviderResponse).length?a.default.createElement(m.default,{securityProviderResponse:B.securityProviderResponse}):null,a.default.createElement(g.ConfirmPageContainerSummary,{className:(0,o.default)({"confirm-page-container-summary--border":!T||!k}),action:n,image:y,titleComponent:v,subtitleComponent:b,tokenAddress:_,nonce:E,origin:I,toAddress:$,transactionType:W}),this.renderContent(),!D&&(r||i)&&a.default.createElement("div",{className:"confirm-page-container-content__error-container"},a.default.createElement(u.default,{errorMessage:i,errorKey:r})),H&&a.default.createElement("div",{className:"confirm-page-container-content__error-container"},a.default.createElement(l.default,{className:"actionable-message--warning",message:G?a.default.createElement(p.default,{variant:f.TypographyVariant.H7,align:"left"},U("insufficientCurrencyBuyOrDeposit",[R,F,a.default.createElement(s.default,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{global.platform.openTab({url:"https://portfolio.metamask.io/buy?metamaskEntry=ext_buy_button"})},key:`${R}-buy-button`},U("buyAsset",[R]))])):a.default.createElement(p.default,{variant:f.TypographyVariant.H7,align:"left"},U("insufficientCurrencyDeposit",[R,F])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"})),a.default.createElement(c.PageContainerFooter,{onCancel:O,cancelText:P,onSubmit:C,submitText:M,disabled:N},j>1?a.default.createElement("a",{onClick:x},S):null))}}n.default=_,b(_,"contextTypes",{t:r.default.func.isRequired}),b(_,"propTypes",{action:r.default.string,dataComponent:r.default.node,dataHexComponent:r.default.node,detailsComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,tokenAddress:r.default.string,nonce:r.default.string,subtitleComponent:r.default.node,image:r.default.string,titleComponent:r.default.node,warning:r.default.string,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,cancelText:r.default.string,onSubmit:r.default.func,submitText:r.default.string,disabled:r.default.bool,unapprovedTxCount:r.default.number,rejectNText:r.default.string,supportsEIP1559:r.default.bool,hasTopBorder:r.default.bool,nativeCurrency:r.default.string,networkName:r.default.string,toAddress:r.default.string,transactionType:r.default.string,isBuyableChain:r.default.bool,txData:r.default.object})}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-content.component.js"}],[3522,{"../../../../../../shared/constants/app":3415,"../../../../../../shared/constants/transaction":3432,"../../../../../../shared/modules/hexstring-utils":3450,"../../../../../helpers/utils/util":4133,"../../../../../hooks/useAddressDetails":4145,"../../../../../hooks/useI18nContext":4155,"../../../../../selectors":4461,"../../../../ui/identicon":3989,"../../../../ui/info-tooltip":3990,"../../../../ui/site-origin":4042,"../../../modals/nickname-popovers":3652,classnames:1987,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=v(e("prop-types")),i=v(e("classnames")),s=e("../../../../../../shared/constants/transaction"),l=e("../../../../../../shared/modules/hexstring-utils"),c=e("../../../../../hooks/useI18nContext"),u=v(e("../../../../../hooks/useAddressDetails")),d=e("../../../../../selectors"),p=v(e("../../../../ui/identicon")),f=v(e("../../../../ui/info-tooltip")),m=v(e("../../../modals/nickname-popovers")),h=e("../../../../../../shared/constants/app"),g=v(e("../../../../ui/site-origin")),y=e("../../../../../helpers/utils/util");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const _=e=>{const{action:t,titleComponent:n,subtitleComponent:o,className:v,tokenAddress:b,toAddress:_,nonce:E,origin:T,image:k,transactionType:w}=e,[x,O]=(0,a.useState)(!1),P=(0,c.useI18nContext)(),C=(0,r.useSelector)(d.getIpfsGateway),M=[s.TransactionType.contractInteraction,s.TransactionType.tokenMethodTransfer,s.TransactionType.tokenMethodTransferFrom,s.TransactionType.tokenMethodSafeTransferFrom].includes(w);let N;M&&(N=w===s.TransactionType.tokenMethodTransfer||w===s.TransactionType.tokenMethodTransferFrom||w===s.TransactionType.tokenMethodSafeTransferFrom||w===s.TransactionType.tokenMethodSetApprovalForAll?b:_);const{toName:j,isTrusted:S}=(0,u.default)(N),I=(0,l.toChecksumHexAddress)(N);return a.default.createElement("div",{className:(0,i.default)("confirm-page-container-summary",v)},T===h.ORIGIN_METAMASK?null:a.default.createElement(g.default,{className:"confirm-page-container-summary__origin",siteOrigin:T}),a.default.createElement("div",{className:"confirm-page-container-summary__action-row"},a.default.createElement("div",{className:"confirm-page-container-summary__action"},M&&j&&a.default.createElement("span",{className:"confirm-page-container-summary__action__contract-address"},a.default.createElement("button",{className:"confirm-page-container-summary__action__contract-address-btn",onClick:()=>O(!0),role:"button"},j),":"),a.default.createElement("span",{className:"confirm-page-container-summary__action__name"},t),M&&!1===S&&a.default.createElement(f.default,{position:"top",contentText:P("unverifiedContractAddressMessage")})),E&&a.default.createElement("div",{className:"confirm-page-container-summary__nonce"},`#${E}`)),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-page-container-summary__title"},(()=>{const e=(0,y.getAssetImageURL)(k,C);return k?a.default.createElement("img",{className:"confirm-page-container-summary__icon",width:36,src:e}):N?a.default.createElement(p.default,{className:"confirm-page-container-summary__icon",diameter:36,address:N}):null})(),n),o),x&&a.default.createElement(m.default,{onClose:()=>O(!1),address:I}))};_.propTypes={action:o.default.string,image:o.default.string,titleComponent:o.default.node,subtitleComponent:o.default.node,className:o.default.string,tokenAddress:o.default.string,toAddress:o.default.string,nonce:o.default.string,origin:o.default.string.isRequired,transactionType:o.default.string};var E=_;n.default=E}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/confirm-page-container-summary.component.js"}],[3523,{"./confirm-page-container-summary.component":3522},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-summary.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/index.js"}],[3524,{"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("react")),r=o(e("prop-types"));function o(e){return e&&e.__esModule?e:{default:e}}const i=e=>a.default.createElement("div",{className:"confirm-page-container-warning"},a.default.createElement("i",{className:"fa fa-info-circle confirm-page-container-warning__icon"}),a.default.createElement("div",{className:"confirm-page-container-warning__warning"},e.warning));i.propTypes={warning:r.default.string};var s=i;n.default=s}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/confirm-page-container-warning.component.js"}],[3525,{"./confirm-page-container-warning.component":3524},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-warning.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/index.js"}],[3526,{"./confirm-page-container-content.component":3521,"./confirm-page-container-summary":3523,"./confirm-page-container-warning":3525},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerWarning",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=i(e("./confirm-page-container-content.component")),r=i(e("./confirm-page-container-summary")),o=i(e("./confirm-page-container-warning"));function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/index.js"}],[3527,{"../../../../../app/scripts/lib/util":82,"../../../../../shared/constants/app":3415,"../../../../helpers/utils/util":4133,"../../../../hooks/useI18nContext":4155,"../../../component-library":3863,"../../../ui/account-mismatch-warning/account-mismatch-warning.component":3922,"../../../ui/identicon":3989,"../../network-display":3669,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("../../../../../shared/constants/app"),i=e("../../../../../app/scripts/lib/util"),s=f(e("../../network-display")),l=f(e("../../../ui/identicon")),c=e("../../../../helpers/utils/util"),u=f(e("../../../ui/account-mismatch-warning/account-mismatch-warning.component")),d=e("../../../../hooks/useI18nContext"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onEdit:e,showEdit:t,accountAddress:n,showAccountInHeader:r,children:f}){const m=(0,d.useI18nContext)(),h=(0,i.getEnvironmentType)(),g=h!==o.ENVIRONMENT_TYPE_NOTIFICATION&&h!==o.ENVIRONMENT_TYPE_POPUP;return!t&&g?f:a.default.createElement("div",{className:"confirm-page-container-header","data-testid":"header-container"},a.default.createElement("div",{className:"confirm-page-container-header__row"},r?a.default.createElement("div",{className:"confirm-page-container-header__address-container"},a.default.createElement("div",{className:"confirm-page-container-header__address-identicon"},a.default.createElement(l.default,{address:n,diameter:24})),a.default.createElement("div",{className:"confirm-page-container-header__address","data-testid":"header-address"},(0,c.shortenAddress)(n)),a.default.createElement(u.default,{address:n})):a.default.createElement("div",{className:"confirm-page-container-header__back-button-container",style:{visibility:t?"initial":"hidden"}},a.default.createElement(p.Icon,{name:p.IconName.ArrowLeft}),a.default.createElement("span",{"data-testid":"confirm-page-back-edit-button",className:"confirm-page-container-header__back-button",onClick:()=>e()},m("edit"))),g?null:a.default.createElement(s.default,null)),f)}m.propTypes={accountAddress:r.default.string,showAccountInHeader:r.default.bool,showEdit:r.default.bool,onEdit:r.default.func,children:r.default.node}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-header/confirm-page-container-header.component.js"}],[3528,{"./confirm-page-container-header.component":3527},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-header/index.js"}],[3529,{"../../../../contexts/i18n":4072,"../../../../ducks/confirm-transaction/confirm-transaction.duck":4080,"../../../../helpers/constants/routes":4099,"../../../../selectors":4461,react:3172,"react-redux":3125,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../../selectors"),s=e("../../../../contexts/i18n"),l=e("../../../../helpers/constants/routes"),c=e("../../../../ducks/confirm-transaction/confirm-transaction.duck");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var d=()=>{const e=(0,a.useContext)(s.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),{id:u}=(0,o.useParams)(),d=(0,r.useSelector)(i.unapprovedDecryptMsgsSelector),p=(0,r.useSelector)(i.unapprovedEncryptionPublicKeyMsgsSelector),f=(0,r.useSelector)(i.unconfirmedTransactionsHashSelector),m=[...Object.keys(d||{}),...Object.keys(p||{})],h=Object.keys(f).filter((e=>!1===m.includes(e))),g=h.indexOf(u),y=h.length,v=g+1,b=h[g+1],_=h[g-1],E=h.length>1,T=h[0],k=h[h.length-1],w=e=>{var a;e&&(t((0,c.clearConfirmTransaction)()),n.push(null!==(a=f[e])&&void 0!==a&&a.msgParams?`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.SIGNATURE_REQUEST_PATH}`:`${l.CONFIRM_TRANSACTION_ROUTE}/${e}`))};return a.default.createElement("div",{className:"confirm-page-container-navigation",style:{display:E?"flex":"none"}},a.default.createElement("div",{className:"confirm-page-container-navigation__container","data-testid":"navigation-container",style:{visibility:_?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"first-page",onClick:()=>w(T)},a.default.createElement("i",{className:"fa fa-angle-double-left fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"previous-page",onClick:()=>w(_)},a.default.createElement("i",{className:"fa fa-angle-left fa-2x"}))),a.default.createElement("div",{className:"confirm-page-container-navigation__textcontainer"},a.default.createElement("div",{className:"confirm-page-container-navigation__navtext"},v," ",e("ofTextNofM")," ",y),a.default.createElement("div",{className:"confirm-page-container-navigation__longtext"},e("requestsAwaitingAcknowledgement"))),a.default.createElement("div",{className:"confirm-page-container-navigation__container",style:{visibility:b?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"next-page",onClick:()=>w(b)},a.default.createElement("i",{className:"fa fa-angle-right fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"last-page",onClick:()=>w(k)},a.default.createElement("i",{className:"fa fa-angle-double-right fa-2x"}))))};n.default=d}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-navigation/confirm-page-container-navigation.component.js"}],[3530,{"./confirm-page-container-navigation.component":3529},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-navigation.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-navigation/index.js"}],[3531,{".":3532,"../../../../shared/constants/gas":3418,"../../../../shared/constants/metametrics":3422,"../../../../shared/constants/network":3423,"../../../../shared/constants/transaction":3432,"../../../../shared/lib/token-util.ts":3439,"../../../contexts/gasFee":4071,"../../../contexts/metametrics":4073,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/error-keys":4096,"../../../hooks/experiences/useRamps":4136,"../../../hooks/useI18nContext":4155,"../../../selectors":4461,"../../component-library":3863,"../../ui/actionable-message/actionable-message":3923,"../../ui/button":3931,"../../ui/error-message":3959,"../../ui/page-container":4019,"../../ui/sender-to-recipient":4033,"../advanced-gas-fee-popover":3486,"../edit-gas-fee-popover/edit-gas-fee-popover":3573,"../edit-gas-popover":3586,"../network-account-balance-header/network-account-balance-header":3668,"../set-approval-for-all-warning":3709,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=N(e("prop-types")),o=e("react-redux"),i=e("../../../../shared/constants/gas"),s=e("../../../contexts/gasFee"),l=e("../../../../shared/constants/transaction"),c=e("../../../../shared/constants/network"),u=e("../../ui/page-container"),d=N(e("../../ui/button")),p=N(e("../../ui/actionable-message/actionable-message")),f=N(e("../../ui/sender-to-recipient")),m=N(e("../advanced-gas-fee-popover")),h=N(e("../edit-gas-fee-popover/edit-gas-fee-popover")),g=N(e("../edit-gas-popover")),y=N(e("../../ui/error-message")),v=e("../../../helpers/constants/error-keys"),b=e("../../component-library"),_=e("../../../helpers/constants/design-system"),E=N(e("../network-account-balance-header/network-account-balance-header")),T=e("../../../../shared/lib/token-util.ts"),k=N(e("../set-approval-for-all-warning")),w=e("../../../hooks/useI18nContext"),x=e("../../../selectors"),O=N(e("../../../hooks/experiences/useRamps")),P=e("../../../contexts/metametrics"),C=e("../../../../shared/constants/metametrics"),M=e(".");function N(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}const S=e=>{const{showEdit:t,onEdit:n,fromName:r,fromAddress:N,toEns:j,toNickname:S,toAddress:I,disabled:A,errorKey:D,errorMessage:L,contentComponent:R,action:F,title:$,image:W,titleComponent:G,subtitleComponent:B,detailsComponent:U,dataComponent:H,dataHexComponent:V,onCancelAll:q,onCancel:Y,onSubmit:K,onSetApprovalForAll:X,showWarningModal:z,tokenAddress:J,nonce:Q,unapprovedTxCount:Z,warning:ee,hideSenderToRecipient:te,showAccountInHeader:ne,origin:ae,ethGasPriceWarning:re,editingGas:oe,handleCloseEditGas:ie,currentTransaction:se,supportsEIP1559:le,nativeCurrency:ce,txData:ue,assetStandard:de,isApprovalOrRejection:pe}=e,fe=(0,w.useI18nContext)(),me=(0,a.useContext)(P.MetaMetricsContext),[he,ge]=(0,a.useState)(0),ye=(0,o.useSelector)(x.getIsBuyableChain),ve=(0,o.useSelector)((e=>(0,x.getAddressBookEntry)(e,I))),be=(0,o.useSelector)(x.getNetworkIdentifier),_e=(0,o.useSelector)(x.getSwapsDefaultToken).string,Ee=(0,o.useSelector)(x.getMetaMaskIdentities),Te=(0,x.getAccountName)(Ee,I),ke=Te||(null==ve?void 0:ve.name),we=Boolean(Te),xe=(0,o.useSelector)((e=>(0,x.getMetadataContractName)(e,I))),{openBuyCryptoInPdapp:Oe}=(0,O.default)(),Pe=se.type===l.TransactionType.tokenMethodSetApprovalForAll,Ce=R&&A&&(D||L),Me=c.NETWORK_TO_NAME_MAP[se.chainId]||be,Ne=(0,a.useCallback)((async()=>{var e,t;const n=await(0,T.fetchTokenBalance)(J,N,global.ethereumProvider);ge((null==n||null===(e=n.balance)||void 0===e||null===(t=e.words)||void 0===t?void 0:t[0])||0)}),[N,J]);return(0,a.useEffect)((()=>{Pe&&de===l.TokenStandard.ERC721&&Ne()}),[se,de,Pe,Ne,he]),a.default.createElement(s.GasFeeContextProvider,{transaction:se},a.default.createElement("div",{className:"page-container","data-testid":"page-container"},a.default.createElement(M.ConfirmPageContainerNavigation,null),de===l.TokenStandard.ERC20||de===l.TokenStandard.ERC721||de===l.TokenStandard.ERC1155?a.default.createElement(E.default,{accountName:r,accountBalance:_e,tokenName:ce,accountAddress:N,networkName:Me,chainId:se.chainId}):a.default.createElement(M.ConfirmPageContainerHeader,{showEdit:t,onEdit:()=>n(),showAccountInHeader:ne,accountAddress:N},te?null:a.default.createElement(f.default,{senderName:r,senderAddress:N,recipientName:ke,recipientMetadataName:xe,recipientAddress:I,recipientEns:j,recipientNickname:S,recipientIsOwnedAccount:we})),R||a.default.createElement(M.ConfirmPageContainerContent,{action:F,title:$,image:W,titleComponent:G,subtitleComponent:B,detailsComponent:U,dataComponent:H,dataHexComponent:V,errorMessage:L,errorKey:D,tokenAddress:J,nonce:Q,warning:ee,onCancelAll:q,onCancel:Y,cancelText:fe("reject"),onSubmit:K,submitText:fe("confirm"),disabled:A,unapprovedTxCount:Z,rejectNText:fe("rejectTxsN",[Z]),origin:ae,ethGasPriceWarning:re,supportsEIP1559:le,currentTransaction:se,nativeCurrency:ce,networkName:Me,toAddress:I,transactionType:se.type,isBuyableChain:ye,txData:ue}),Ce&&D===v.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(p.default,{message:ye?a.default.createElement(b.Text,{variant:_.TextVariant.bodySm,textAlign:_.TEXT_ALIGN.LEFT,as:"h6"},fe("insufficientCurrencyBuyOrDeposit",[ce,Me,a.default.createElement(d.default,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{Oe(),me({event:C.MetaMetricsEventName.NavBuyButtonClicked,category:C.MetaMetricsEventCategory.Navigation,properties:{location:"Transaction Confirmation",text:"Buy"}})},key:`${ce}-buy-button`},fe("buyAsset",[ce]))])):a.default.createElement(b.Text,{variant:_.TextVariant.bodySm,textAlign:_.TEXT_ALIGN.LEFT,as:"h6"},fe("insufficientCurrencyDeposit",[ce,Me])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"})),Ce&&D!==v.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(y.default,{errorKey:D})),z&&a.default.createElement(k.default,{collectionName:$,senderAddress:N,name:r,isERC721:de===l.TokenStandard.ERC20,total:he,onSubmit:K,onCancel:Y}),R&&a.default.createElement(u.PageContainerFooter,{onCancel:Y,cancelText:fe("reject"),onSubmit:Pe&&pe?X:K,submitText:fe("confirm"),submitButtonType:Pe&&pe?"danger-primary":"primary",disabled:A},Z>1&&a.default.createElement("a",{onClick:q},fe("rejectTxsN",[Z]))),oe&&!le&&a.default.createElement(g.default,{mode:i.EditGasModes.modifyInPlace,onClose:ie,transaction:se}),le&&a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,null),a.default.createElement(m.default,null))))};S.propTypes={action:r.default.string,onEdit:r.default.func,showEdit:r.default.bool,subtitleComponent:r.default.node,title:r.default.string,image:r.default.string,titleComponent:r.default.node,hideSenderToRecipient:r.default.bool,showAccountInHeader:r.default.bool,assetStandard:r.default.string,fromAddress:r.default.string,fromName:r.default.string,toAddress:r.default.string,toEns:r.default.string,toNickname:r.default.string,contentComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,dataComponent:r.default.node,dataHexComponent:r.default.node,detailsComponent:r.default.node,txData:r.default.object,tokenAddress:r.default.string,nonce:r.default.string,warning:r.default.string,unapprovedTxCount:r.default.number,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,onSubmit:r.default.func,onSetApprovalForAll:r.default.func,showWarningModal:r.default.bool,disabled:r.default.bool,editingGas:r.default.bool,handleCloseEditGas:r.default.func,currentTransaction:r.default.object.isRequired,supportsEIP1559:r.default.bool,nativeCurrency:r.default.string,isApprovalOrRejection:r.default.bool};var I=S;n.default=I}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container.component.js"}],[3532,{"./confirm-detail-row":3520,"./confirm-page-container-content":3526,"./confirm-page-container-header":3528,"./confirm-page-container-navigation":3530,"./confirm-page-container.component":3531},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmDetailRow",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"ConfirmPageContainerContent",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"ConfirmPageContainerHeader",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerNavigation",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return s.ConfirmPageContainerSummary}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=c(e("./confirm-page-container.component")),r=c(e("./confirm-page-container-header")),o=c(e("./confirm-detail-row")),i=c(e("./confirm-page-container-navigation")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("./confirm-page-container-content"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/index.js"}],[3533,{"../../../helpers/constants/common":4093,"../../../helpers/constants/design-system":4095,"../../../hooks/useTransactionInfo":4176,"../../../selectors":4461,"../../component-library":3863,"../user-preferenced-currency-display":3787,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),i=e("../../../helpers/constants/common"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=p(e("../user-preferenced-currency-display")),u=e("../../../selectors"),d=e("../../../hooks/useTransactionInfo");function p(e){return e&&e.__esModule?e:{default:e}}const f=({txData:e,hexTransactionAmount:t,subtitleComponent:n})=>{const r=(0,o.useSelector)(u.getShouldShowFiat),{isNftTransfer:p}=(0,d.useTransactionInfo)(e);return r||p?n||a.default.createElement(s.Text,{as:"h5",ellipsis:!0,fontWeight:l.FONT_WEIGHT.NORMAL,variant:l.TextVariant.bodyMd,color:l.Color.textAlternative},a.default.createElement(c.default,{value:t,type:i.SECONDARY,showEthLogo:!0,hideLabel:!0})):null};f.propTypes={hexTransactionAmount:r.default.string,subtitleComponent:r.default.element,txData:r.default.object.isRequired};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/confirm-subtitle/confirm-subtitle.js"}],[3534,{"./confirm-subtitle":3533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmSubTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-subtitle"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-subtitle/index.js"}],[3535,{"../../../../shared/constants/transaction":3432,"../../../helpers/constants/common":4093,"../../../helpers/constants/design-system":4095,"../../component-library":3863,"../user-preferenced-currency-display":3787,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../shared/constants/transaction"),i=e("../../../helpers/constants/common"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=u(e("../user-preferenced-currency-display"));function u(e){return e&&e.__esModule?e:{default:e}}const d=({title:e,hexTransactionAmount:t,txData:n})=>{var r;const u=n.type===o.TransactionType.contractInteraction;return(u||n.type===o.TransactionType.deployContract)&&"0x0"===(null===(r=n.txParams)||void 0===r?void 0:r.value)?null:e?a.default.createElement(s.Text,{as:e&&e.length<10?"h1":"h3",ellipsis:!0,title:e,variant:e&&e.length<10?l.TextVariant.displayMd:l.TextVariant.headingMd,fontWeight:l.FONT_WEIGHT.NORMAL},e):a.default.createElement(s.Text,{as:"h3",ellipsis:!0,fontWeight:l.FONT_WEIGHT.NORMAL,variant:l.TextVariant.headingMd},a.default.createElement(c.default,{ethLogoHeight:24,hideLabel:!u,showCurrencySuffix:u,showEthLogo:!0,type:i.PRIMARY,value:t}))};d.propTypes={txData:r.default.object.isRequired,title:r.default.oneOfType([r.default.string,r.default.number]),hexTransactionAmount:r.default.string};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/confirm-title/confirm-title.js"}],[3536,{"./confirm-title":3535},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-title/index.js"}],[3537,{"../../../helpers/constants/design-system":4095,"../../../hooks/useI18nContext":4155,"../../component-library":3863,"../../ui/box":3927,"../../ui/button":3931,"../../ui/popover":4026,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=d(e("../../ui/popover")),s=d(e("../../ui/box")),l=d(e("../../ui/button")),c=e("../../../helpers/constants/design-system"),u=e("../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}const p=({onSubmit:e,onCancel:t})=>{const n=(0,o.useI18nContext)();return a.default.createElement(i.default,{className:"confirmation-warning-modal__content",footer:a.default.createElement(s.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.COLUMN,justifyContent:c.JustifyContent.spaceBetween,className:"confirmation-warning-modal__footer"},a.default.createElement(l.default,{className:"confirmation-warning-modal__footer__approve-button",type:"danger-primary",onClick:e},n("approveButtonText")),a.default.createElement(l.default,{className:"confirmation-warning-modal__footer__cancel-button",type:"secondary",onClick:t},n("reject")))},a.default.createElement(s.default,{display:c.DISPLAY.FLEX,flexDirection:c.FLEX_DIRECTION.ROW,alignItems:c.AlignItems.center,padding:3,margin:0,className:"confirmation-warning-modal__content__header"},a.default.createElement(u.Icon,{name:u.IconName.Danger,color:c.IconColor.errorDefault,className:"confirmation-warning-modal__content__header__warning-icon",size:u.IconSize.Xl}),a.default.createElement(u.Text,{variant:c.TextVariant.headingSm,as:"h4",fontWeight:c.FONT_WEIGHT.BOLD},n("addEthereumChainWarningModalTitle"))),a.default.createElement(s.default,{marginLeft:6,marginRight:6,marginTop:0,marginBottom:3},a.default.createElement(u.Text,{marginTop:4,variant:c.TextVariant.bodySm,as:"h6"},n("addEthereumChainWarningModalHeader",[a.default.createElement("strong",{key:"part-2"},n("addEthereumChainWarningModalHeaderPartTwo"))])),a.default.createElement(u.Text,{marginTop:4,variant:c.TextVariant.bodySm,as:"h6"},n("addEthereumChainWarningModalListHeader")),a.default.createElement("ul",null,a.default.createElement("li",null,a.default.createElement(u.Text,{marginTop:2,variant:c.TextVariant.bodySm,as:"h6"},n("addEthereumChainWarningModalListPointOne"))),a.default.createElement("li",null,a.default.createElement(u.Text,{marginTop:2,variant:c.TextVariant.bodySm,as:"h6"},n("addEthereumChainWarningModalListPointTwo"))),a.default.createElement("li",null,a.default.createElement(u.Text,{marginTop:2,variant:c.TextVariant.bodySm,as:"h6"},n("addEthereumChainWarningModalListPointThree"))))))};p.propTypes={onSubmit:r.default.func,onCancel:r.default.func};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/confirmation-warning-modal/confirmation-warning-modal.js"}],[3538,{"./confirmation-warning-modal":3537},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirmation-warning-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirmation-warning-modal/index.js"}],[3539,{"../../../ui/identicon":3989,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("classnames")),r=l(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=l(e("../../../ui/identicon"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.PureComponent{render(){const{address:e,className:t,name:n,status:r,action:s,options:l}=this.props;return o.default.createElement("div",{className:(0,a.default)("connected-accounts-list__row",t)},o.default.createElement("div",{className:"connected-accounts-list__row-content"},o.default.createElement(i.default,{className:"connected-accounts-list__identicon",address:e,diameter:32}),o.default.createElement("div",null,o.default.createElement("p",{className:"connected-accounts-list__account-name"},o.default.createElement("strong",null,n)),r?o.default.createElement("p",{className:"connected-accounts-list__account-status"},"  ",r):null,s)),l)}}n.default=u,c(u,"contextTypes",{t:r.default.func.isRequired}),c(u,"propTypes",{address:r.default.string.isRequired,className:r.default.string,name:r.default.node.isRequired,status:r.default.string,action:r.default.node,options:r.default.node}),c(u,"defaultProps",{className:null,options:null,action:null})}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-item/connected-accounts-list-item.component.js"}],[3540,{"./connected-accounts-list-item.component":3539},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./connected-accounts-list-item.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-item/index.js"}],[3541,{"../../../../hooks/useI18nContext":4155,"../../../component-library":3863,"../../../ui/menu":4008,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("prop-types"))&&a.__esModule?a:{default:a},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=e("../../../ui/menu"),s=e("../../../component-library"),l=e("../../../../hooks/useI18nContext");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({children:e,onShowOptions:t,onHideOptions:n,show:a})=>{const r=(0,o.useRef)(!1),c=(0,l.useI18nContext)();return o.default.createElement("div",{ref:r},o.default.createElement(s.ButtonIcon,{iconName:s.IconName.MoreVertical,className:"connected-accounts-options__button",onClick:t,ariaLabel:c("options")}),a?o.default.createElement(i.Menu,{anchorElement:r.current,onHide:n,popperOptions:{modifiers:[{name:"preventOverflow",options:{altBoundary:!0}}]}},e):null)};u.propTypes={children:r.default.node.isRequired,onHideOptions:r.default.func.isRequired,onShowOptions:r.default.func.isRequired,show:r.default.bool.isRequired};var d=u;n.default=d}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-options/connected-accounts-list-options.component.js"}],[3542,{"./connected-accounts-list-options.component":3541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./connected-accounts-list-options.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-options/index.js"}],[3543,{"../../component-library":3863,"../../ui/menu":4008,"./connected-accounts-list-item":3540,"./connected-accounts-list-options":3542,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("../../component-library"),i=e("../../ui/menu"),s=u(e("./connected-accounts-list-item")),l=u(e("./connected-accounts-list-options"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.PureComponent{constructor(...e){super(...e),d(this,"state",{accountWithOptionsShown:null}),d(this,"disconnectAccount",(()=>{this.hideAccountOptions(),this.props.removePermittedAccount(this.state.accountWithOptionsShown)})),d(this,"switchAccount",(e=>{this.hideAccountOptions(),this.props.setSelectedAddress(e)})),d(this,"hideAccountOptions",(()=>{this.setState({accountWithOptionsShown:null})})),d(this,"showAccountOptions",(e=>{this.setState({accountWithOptionsShown:e})}))}renderUnconnectedAccount(){const{accountToConnect:e,connectAccount:t}=this.props,{t:n}=this.context;if(!e)return null;const{address:a,name:o}=e;return r.default.createElement(s.default,{className:"connected-accounts-list__row--highlight",address:a,name:`${o} (…${a.substr(-4,4)})`,status:n("statusNotConnected"),action:r.default.createElement("a",{className:"connected-accounts-list__account-status-link",onClick:()=>t(e.address)},n("connect"))})}renderListItemOptions(e){const{accountWithOptionsShown:t}=this.state,{t:n}=this.context;return r.default.createElement(l.default,{onHideOptions:this.hideAccountOptions,onShowOptions:this.showAccountOptions.bind(null,e),show:t===e},r.default.createElement(i.MenuItem,{iconName:o.IconName.Logout,onClick:this.disconnectAccount},n("disconnectThisAccount")))}renderListItemAction(e){const{t:t}=this.context;return r.default.createElement("a",{className:"connected-accounts-list__account-status-link",onClick:()=>this.switchAccount(e)},t("switchToThisAccount"))}render(){const{connectedAccounts:e,selectedAddress:t,shouldRenderListOptions:n}=this.props,{t:a}=this.context;return r.default.createElement(r.default.Fragment,null,r.default.createElement("main",{className:"connected-accounts-list"},this.renderUnconnectedAccount(),e.map((({address:e,name:o},i)=>r.default.createElement(s.default,{key:e,address:e,name:`${o} (…${e.substr(-4,4)})`,status:0===i?a("active"):null,options:n?this.renderListItemOptions(e):null,action:e===t?null:this.renderListItemAction(e)})))))}}n.default=p,d(p,"contextTypes",{t:a.default.func.isRequired}),d(p,"defaultProps",{accountToConnect:null}),d(p,"propTypes",{accountToConnect:a.default.shape({address:a.default.string.isRequired,name:a.default.string.isRequired}),connectedAccounts:a.default.arrayOf(a.default.shape({address:a.default.string.isRequired,name:a.default.string.isRequired,lastActive:a.default.number})).isRequired,connectAccount:a.default.func.isRequired,selectedAddress:a.default.string.isRequired,removePermittedAccount:a.default.func,setSelectedAddress:a.default.func.isRequired,shouldRenderListOptions:(e,t,n)=>"boolean"!=typeof e[t]?new Error(`Warning: Failed prop type: '${t}' of component '${n}' must be a boolean. Received: ${typeof e[t]}`):e[t]&&!e.removePermittedAccount?new Error(`Warning: Failed prop type: '${t}' of component '${n}' requires prop 'removePermittedAccount'.`):undefined})}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list.component.js"}],[3544,{"./connected-accounts-list.component":3543},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./connected-accounts-list.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/index.js"}],[3545,{"../../../helpers/utils/permission":4128,"../../../hooks/useI18nContext":4155,"../../ui/check-box":3937,classnames:1987,lodash:2915,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("classnames")),r=d(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=e("lodash"),s=d(e("../../ui/check-box")),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/utils/permission");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}const p=({permissions:e})=>{const t=(0,l.useI18nContext)(),[n,r]=(0,o.useState)(!1);if(!e.length)return null;const u=(0,i.flatten)(e.map((({key:e,value:n})=>(0,c.getPermissionDescription)({t:t,permissionName:e,permissionValue:n}))));return o.default.createElement("div",{className:"connected-accounts-permissions"},o.default.createElement("p",{className:"connected-accounts-permissions__header",onClick:()=>{r((e=>!e))}},o.default.createElement("strong",null,t("permissions")),o.default.createElement("button",{className:(0,a.default)("fas",{"fa-angle-down":!n,"fa-angle-up":n}),title:t("showPermissions")})),o.default.createElement("div",{className:(0,a.default)("connected-accounts-permissions__list-container",{"connected-accounts-permissions__list-container--expanded":n})},o.default.createElement("p",null,t("authorizedPermissions"),":"),o.default.createElement("ul",{className:"connected-accounts-permissions__list"},u.map((({label:e},t)=>o.default.createElement("li",{key:`connected-permission-${t}`,className:"connected-accounts-permissions__list-item"},o.default.createElement(s.default,{checked:!0,disabled:!0,id:`connected-permission-${t}`,className:"connected-accounts-permissions__checkbox"}),o.default.createElement("label",{htmlFor:`connected-permission-${t}`},e)))))))};p.propTypes={permissions:r.default.arrayOf(r.default.shape({key:r.default.string.isRequired}))},p.defaultProps={permissions:[]},p.displayName="ConnectedAccountsPermissions";var f=o.default.memo(p);n.default=f}}},{package:"$root$",file:"ui/components/app/connected-accounts-permissions/connected-accounts-permissions.js"}],[3546,{"./connected-accounts-permissions":3545},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./connected-accounts-permissions"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-accounts-permissions/index.js"}],[3547,{"../../../helpers/utils/util":4133,"../../ui/button":3931,"../../ui/site-icon":4040,"../../ui/site-origin":4042,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=c(e("prop-types")),o=c(e("../../ui/button")),i=c(e("../../ui/site-icon")),s=e("../../../helpers/utils/util"),l=c(e("../../ui/site-origin"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Component{render(){const{connectedSubjects:e,onDisconnect:t}=this.props,{t:n}=this.context;return a.default.createElement("main",{className:"connected-sites-list__content-rows"},e.map((e=>a.default.createElement("div",{key:e.origin,className:"connected-sites-list__content-row"},a.default.createElement("div",{className:"connected-sites-list__subject-info"},a.default.createElement(i.default,{icon:e.iconUrl,name:e.name,size:32,className:"connected-sites-list__subject-icon"}),a.default.createElement(l.default,{className:"connected-sites-list__subject-name",title:e.extensionId||e.origin,siteOrigin:this.getSubjectDisplayName(e)})),a.default.createElement(o.default,{className:"connected-sites-list__content-row-link-button",onClick:()=>t(e.origin),type:"link"},n("disconnect"))))))}getSubjectDisplayName(e){return e.extensionId?this.context.t("externalExtension"):(0,s.stripHttpsSchemeWithoutPort)(e.origin)}}n.default=p,d(p,"contextTypes",{t:r.default.func}),d(p,"propTypes",{connectedSubjects:r.default.arrayOf(r.default.shape({name:r.default.string,iconUrl:r.default.string,origin:r.default.string})).isRequired,onDisconnect:r.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/connected-sites-list/connected-sites-list.component.js"}],[3548,{"./connected-sites-list.component":3547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./connected-sites-list.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-sites-list/index.js"}],[3549,{"../../../helpers/constants/connected-sites":4094,"../../../helpers/constants/design-system":4095,"../../../hooks/useI18nContext":4155,"../../../selectors":4461,"../../multichain":3909,"../../ui/color-indicator":3942,lodash:2915,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),i=e("lodash"),s=e("../../../helpers/constants/connected-sites"),l=p(e("../../ui/color-indicator")),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../selectors");e("../../multichain");function p(e){return e&&e.__esModule?e:{default:e}}function f({onClick:e}){const t=(0,u.useI18nContext)(),n=(0,o.useSelector)(d.getSelectedAddress),r=(0,o.useSelector)(d.getAddressConnectedSubjectMap),p=(0,o.useSelector)(d.getOriginOfCurrentTab),f=r[n];let m;m=Boolean(f&&f[p])?s.STATUS_CONNECTED:(0,i.findKey)(r,p)?s.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT:s.STATUS_NOT_CONNECTED;let h=l.default.TYPES.OUTLINE,g=c.Color.iconDefault,y=c.Color.iconAlternative;m===s.STATUS_CONNECTED?(g=c.Color.successDefault,h=l.default.TYPES.PARTIAL,y=c.Color.successDefault):m===s.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT&&(g=c.Color.errorDefault,y=c.BackgroundColor.backgroundDefault);const v=m===s.STATUS_CONNECTED?t("statusConnected"):t("statusNotConnected");m===s.STATUS_CONNECTED?t("tooltipSatusConnected"):t("tooltipSatusNotConnected");return a.default.createElement("button",{className:"connected-status-indicator",onClick:e},a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{color:g,type:h}),a.default.createElement("div",{className:"connected-status-indicator__text"},v)))}f.defaultProps={onClick:undefined},f.propTypes={onClick:r.default.func}}}},{package:"$root$",file:"ui/components/app/connected-status-indicator/connected-status-indicator.js"}],[3550,{"./connected-status-indicator":3549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./connected-status-indicator"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-status-indicator/index.js"}],[3551,{"../../ui/button":3931,"./recipient-group/recipient-group.component":3553,lodash:2915,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=e("lodash"),i=l(e("../../ui/button")),s=l(e("./recipient-group/recipient-group.component"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),u(this,"state",{isShowingAllRecent:!1})}renderRecents(){const{t:e}=this.context,{isShowingAllRecent:t}=this.state,n=this.props.searchForRecents(),r=!t&&n.length>2;return a.default.createElement("div",{className:"send__select-recipient-wrapper__recent-group-wrapper"},a.default.createElement(s.default,{label:e("recents"),items:r?n.slice(0,2):n,onSelect:this.props.selectRecipient,selectedAddress:this.props.selectedAddress}),r&&a.default.createElement(i.default,{type:"link",className:"send__select-recipient-wrapper__recent-group-wrapper__load-more",onClick:()=>this.setState({isShowingAllRecent:!0})},e("loadMore")))}renderAddressBook(){const e=this.props.searchForContacts().reduce(((e,t)=>{const n=t.name[0].toUpperCase();return{...e,[n]:[...e[n]||[],t]}}),{});return Object.keys(e).sort().map((t=>[t,(0,o.sortBy)(e[t],(e=>e.name.toLowerCase()))])).map((([e,t])=>a.default.createElement(s.default,{key:`${e}-contact-group`,label:e,items:t,onSelect:this.props.selectRecipient,selectedAddress:this.props.selectedAddress})))}renderMyAccounts(){const e=this.props.searchForMyAccounts();return a.default.createElement(s.default,{items:e,onSelect:this.props.selectRecipient,selectedAddress:this.props.selectedAddress})}render(){const{children:e,searchForRecents:t,searchForContacts:n,searchForMyAccounts:r}=this.props;return a.default.createElement("div",{className:"send__select-recipient-wrapper__list"},e||null,t?this.renderRecents():null,n?this.renderAddressBook():null,r?this.renderMyAccounts():null)}}n.default=d,u(d,"propTypes",{searchForContacts:r.default.func,searchForRecents:r.default.func,searchForMyAccounts:r.default.func,selectRecipient:r.default.func,children:r.default.node,selectedAddress:r.default.string}),u(d,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/contact-list/contact-list.component.js"}],[3552,{"./contact-list.component":3551},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./contact-list.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/contact-list/index.js"}],[3553,{"../../../../pages/send/send.utils":4338,"../../../ui/identicon":3989,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=l(e("react")),r=l(e("prop-types")),o=l(e("classnames")),i=l(e("../../../ui/identicon")),s=e("../../../../pages/send/send.utils");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return String(e).toLowerCase()===String(t).toLowerCase()}function u({label:e,items:t,onSelect:n,selectedAddress:r}){return t&&t.length?a.default.createElement("div",{className:"send__select-recipient-wrapper__group","data-testid":"recipient-group"},e&&a.default.createElement("div",{className:"send__select-recipient-wrapper__group-label"},e),t.map((({address:e,name:t})=>a.default.createElement("div",{key:e,onClick:()=>n(e,t),className:(0,o.default)({"send__select-recipient-wrapper__group-item":!c(e,r),"send__select-recipient-wrapper__group-item--selected":c(e,r)})},a.default.createElement(i.default,{address:e,diameter:28}),a.default.createElement("div",{className:"send__select-recipient-wrapper__group-item__content","data-testid":"recipient"},a.default.createElement("div",{className:"send__select-recipient-wrapper__group-item__title"},t||(0,s.ellipsify)(e)),t&&a.default.createElement("div",{className:"send__select-recipient-wrapper__group-item__subtitle"},(0,s.ellipsify)(e))))))):null}u.propTypes={label:r.default.string,items:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,name:r.default.string})),onSelect:r.default.func.isRequired,selectedAddress:r.default.string}}}},{package:"$root$",file:"ui/components/app/contact-list/recipient-group/recipient-group.component.js"}],[3554,{"../../../helpers/constants/common":4093,"../../../hooks/useI18nContext":4155,"../../component-library":3863,"../../ui/button":3931,"../../ui/check-box":3937,"../../ui/text-field":4050,"../srp-input":3733,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=p(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=p(e("../../ui/text-field")),s=p(e("../../ui/button")),l=p(e("../../ui/check-box")),c=e("../../component-library"),u=p(e("../srp-input")),d=e("../../../helpers/constants/common");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({disabled:e=!1,includeTerms:t=!1,onSubmit:n,submitText:r}){const[p,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[_,E]=(0,a.useState)(""),[T,k]=(0,a.useState)(!1),w=(0,o.useI18nContext)(),x=(0,a.useCallback)((e=>{let t="",n="";e&&e.length<d.PASSWORD_MIN_LENGTH&&(n=w("passwordNotLongEnough")),p&&e!==p&&(t=w("passwordsDontMatch")),y(e),b(n),h(t)}),[p,w]),O=(0,a.useCallback)((e=>{let t="";g!==e&&(t=w("passwordsDontMatch")),f(e),h(t)}),[g,w]),P=!e&&g&&p&&g===p&&_&&(!t||T)&&!v&&!m,C=(0,a.useCallback)((async e=>{e.preventDefault(),P&&await n(g,_)}),[P,n,g,_]),M=(0,a.useCallback)((()=>{k((e=>!e))}),[]),N=w("acceptTermsOfUse",[a.default.createElement("a",{className:"create-new-vault__terms-link",key:"create-new-vault__link-text",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer"},w("terms"))]);return a.default.createElement("form",{className:"create-new-vault__form",onSubmit:C},a.default.createElement(u.default,{onChange:E,srpText:w("secretRecoveryPhrase")}),a.default.createElement("div",{className:"create-new-vault__create-password"},a.default.createElement(i.default,{"data-testid":"create-vault-password",id:"password",label:w("newPassword"),type:"password",value:g,onChange:e=>x(e.target.value),error:v,autoComplete:"new-password",margin:"normal",largeLabel:!0}),a.default.createElement(i.default,{"data-testid":"create-vault-confirm-password",id:"confirm-password",label:w("confirmPassword"),type:"password",value:p,onChange:e=>O(e.target.value),error:m,autoComplete:"new-password",margin:"normal",largeLabel:!0})),t?a.default.createElement("div",{className:"create-new-vault__terms"},a.default.createElement(l.default,{id:"create-new-vault__terms-checkbox",dataTestId:"create-new-vault__terms-checkbox",checked:T,onClick:M}),a.default.createElement("label",{className:"create-new-vault__terms-label",htmlFor:"create-new-vault__terms-checkbox"},a.default.createElement(c.Text,{as:"span"},N))):null,a.default.createElement(s.default,{"data-testid":"create-new-vault-submit-button",className:"create-new-vault__submit-button",type:"primary",submit:!0,disabled:!P},r))}m.propTypes={disabled:r.default.bool,includeTerms:r.default.bool,onSubmit:r.default.func.isRequired,submitText:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/create-new-vault/create-new-vault.js"}],[3555,{"./create-new-vault":3554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./create-new-vault"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/create-new-vault/index.js"}],[3556,{"../../../../shared/constants/common":3417,"../../../../shared/modules/conversion.utils":3446,"../../../contexts/i18n":4072,"../../../ducks/metamask/metamask":4087,"../../../selectors":4461,"../../ui/currency-display":3947,"../../ui/unit-input":4066,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=e("react-redux"),i=f(e("../../ui/unit-input")),s=f(e("../../ui/currency-display")),l=e("../../../contexts/i18n"),c=e("../../../ducks/metamask/metamask"),u=e("../../../selectors"),d=e("../../../../shared/modules/conversion.utils"),p=e("../../../../shared/constants/common");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h({hexValue:e,featureSecondary:t,onChange:n,onPreferenceToggle:r}){const f=(0,a.useContext)(l.I18nContext),m=(0,o.useSelector)(c.getNativeCurrency),h=(0,o.useSelector)(u.getCurrentCurrency),g=(0,o.useSelector)(c.getConversionRate),y=!(0,o.useSelector)(u.getShouldShowFiat),v=m||p.EtherDenomination.ETH,b=h.toUpperCase(),[_,E]=(0,a.useState)(!1),[T,k]=(0,a.useState)(e),[w,x]=(0,a.useState)(t),O=!y&&Boolean(w),P=e?(()=>{const t=O?(0,d.getValueFromWeiHex)({value:e,toCurrency:h,conversionRate:g,numberOfDecimals:2}):(0,d.getValueFromWeiHex)({value:e,toCurrency:p.EtherDenomination.ETH,numberOfDecimals:8});return Number(t)||0})():0,C=e=>{const t=O?(0,d.getWeiHexFromDecimalValue)({value:e,fromCurrency:h,conversionRate:g,invertConversionRate:!0}):(0,d.getWeiHexFromDecimalValue)({value:e,fromCurrency:p.EtherDenomination.ETH,fromDenomination:p.EtherDenomination.ETH,conversionRate:g});k(t),n(t),E(!_)};(0,a.useEffect)((()=>{k(e)}),[e]),(0,a.useEffect)((()=>{t&&C(P)}),[t,P]);return a.default.createElement(i.default,{hexValue:e,preferredCurrency:m,secondaryCurrency:h,hideSecondary:y,featureSecondary:t,conversionRate:g,onChange:n,onPreferenceToggle:r,dataTestId:"currency-input",suffix:O?b:v,onChange:C,value:P,actionComponent:a.default.createElement("button",{className:"currency-input__swap-component","data-testid":"currency-swap",onClick:async()=>{await r(),E(!_),x(!w)}},a.default.createElement("i",{className:"fa fa-retweet fa-lg"}))},(()=>{let e,t;return y?a.default.createElement("div",{className:"currency-input__conversion-component"},f("noConversionRateAvailable")):(O?(e=m||p.EtherDenomination.ETH,t=8):(e=h,t=2),a.default.createElement(s.default,{className:"currency-input__conversion-component",currency:e,value:T,numberOfDecimals:t}))})())}h.propTypes={hexValue:r.default.string,featureSecondary:r.default.bool,onChange:r.default.func,onPreferenceToggle:r.default.func}}}},{package:"$root$",file:"ui/components/app/currency-input/currency-input.js"}],[3557,{"./currency-input":3556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./currency-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/currency-input/index.js"}],[3558,{"../../../helpers/constants/design-system":4095,"../../component-library":3863,"../../ui/box":3927,"../../ui/tooltip":4060,"../../ui/typography":4064,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CustomSpendingCapTooltip=void 0;var a=u(e("react")),r=u(e("prop-types")),o=u(e("../../ui/box")),i=u(e("../../ui/typography")),s=u(e("../../ui/tooltip")),l=e("../../../helpers/constants/design-system"),c=e("../../component-library");function u(e){return e&&e.__esModule?e:{default:e}}const d=({tooltipContentText:e,tooltipIcon:t})=>a.default.createElement(o.default,{display:l.DISPLAY.INLINE_BLOCK},a.default.createElement(s.default,{interactive:!0,position:"top",html:a.default.createElement(i.default,{variant:l.TypographyVariant.H7,margin:3,color:l.TextColor.textAlternative,className:"form-field__heading-title__tooltip"},e)},t?a.default.createElement(c.Icon,{name:c.IconName.Danger,className:"form-field__heading-title__tooltip__warning-icon",size:c.IconSize.Auto,style:{"vertical-align":"bottom"}}):""!==t&&a.default.createElement(c.Icon,{name:c.IconName.Question,size:c.IconSize.Inherit})));n.CustomSpendingCapTooltip=d,d.propTypes={tooltipContentText:r.default.oneOfType([r.default.string,r.default.node]),tooltipIcon:r.default.oneOfType([r.default.string,r.default.bool])}}}},{package:"$root$",file:"ui/components/app/custom-spending-cap/custom-spending-cap-tooltip.js"}],[3559,{"../../../../shared/constants/tokens":3431,"../../../../shared/lib/transactions-controller-utils":3440,"../../../../shared/modules/Numeric":3442,"../../../../shared/modules/conversion.utils":3446,"../../../contexts/gasFee":4071,"../../../contexts/i18n":4072,"../../../ducks/app/app":4079,"../../../helpers/constants/design-system":4095,"../../../pages/confirm-approve/confirm-approve.util":4193,"../../../selectors":4461,"../../../store/actions":4468,"../../component-library":3863,"../../ui/box":3927,"../../ui/form-field":3963,"./custom-spending-cap-tooltip":3558,"bignumber.js":1858,classnames:1987,"ethereumjs-util":2221,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=O;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=w(e("prop-types")),i=w(e("classnames")),s=w(e("bignumber.js")),l=e("ethereumjs-util"),c=e("../../../contexts/i18n"),u=w(e("../../ui/box")),d=w(e("../../ui/form-field")),p=e("../../component-library"),f=e("../../../helpers/constants/design-system"),m=e("../../../selectors"),h=e("../../../ducks/app/app"),g=e("../../../../shared/lib/transactions-controller-utils"),y=e("../../../../shared/modules/conversion.utils"),v=e("../../../../shared/constants/tokens"),b=e("../../../../shared/modules/Numeric"),_=e("../../../store/actions"),E=e("../../../pages/confirm-approve/confirm-approve.util"),T=e("../../../contexts/gasFee"),k=e("./custom-spending-cap-tooltip");function w(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function O({txParams:e,tokenName:t,currentTokenBalance:n,dappProposedValue:o,siteOrigin:w,passTheErrorText:x,decimals:O,setInputChangeInProgress:P}){const C=(0,a.useContext)(c.I18nContext),M=(0,r.useDispatch)(),{updateTransaction:N}=(0,T.useGasFeeContext)(),j=(0,a.useRef)(null),S=(0,r.useSelector)(m.getCustomTokenAmount),[I,A]=(0,a.useState)(""),[D,L]=(0,a.useState)(S!==String(o)&&!0),R=C("inputLogicEmptyState"),F=e=>e.replace(/,/gu,"."),$=(e,t)=>new b.Numeric(Number(F(e)),10).greaterThan(Number(t),10),W=e=>new b.Numeric(Number(F(e)),10).lessThanOrEqualTo(new b.Numeric(Number(n),10))?{className:"custom-spending-cap__lowerValue",description:C("inputLogicEqualOrSmallerNumber",[a.default.createElement(p.Text,{key:"custom-spending-cap",variant:f.TextVariant.bodySmBold,as:"h6",className:"custom-spending-cap__input-value-and-token-name"},F(e)," ",t)])}:$(e,n)?{className:"custom-spending-cap__higherValue",description:C("inputLogicHigherNumber")}:{className:"custom-spending-cap__emptyState",description:C("inputLogicEmptyState")},[G,B]=(0,a.useState)(W(S).description),U=async t=>{var n;if(!e)return;P(!0);let a="";const r=W(t).description,o=v.DECIMAL_REGEX.exec(F(t));if((null==o||null===(n=o[1])||void 0===n?void 0:n.length)>O)return void P(!1);t&&!v.NUM_W_OPT_DECIMAL_COMMA_OR_DOT_REGEX.test(t)?(a=C("spendingCapError"),B(C("spendingCapErrorDescription",[w])),A(a)):(B(r),A(""));const i=(0,g.calcTokenAmount)(v.MAX_TOKEN_ALLOWANCE_AMOUNT,O);if(Number(t.length)>1&&Number(t)){new s.default(t).greaterThan(i)&&(a=C("spendLimitTooLarge"),A(a))}M((0,h.setCustomTokenAmount)(String(t)));try{const n=(0,E.getCustomTxParamsData)(e.data,{customPermissionAmount:t,decimals:O}),{from:a,to:r,value:o}=e,i=await(0,_.estimateGas)({from:a,to:r,value:o,data:n});i&&await N({gasLimit:(0,y.hexToDecimal)((0,l.addHexPrefix)(i))})}catch(e){console.error("Error in trying to update gas limit",e)}P(!1)};(0,a.useEffect)((()=>{S!==String(o)&&L(!0)}),[S,o]),(0,a.useEffect)((()=>{x(I)}),[I,x]),(0,a.useEffect)((()=>{j.current&&j.current.focus({preventScroll:!0})}),[j.current]);const H=$(S,n)?C("warningTooltipText",[a.default.createElement(p.Text,{key:"tooltip-text",variant:f.TextVariant.bodySmBold,as:"h6",color:f.TextColor.errorDefault},a.default.createElement(p.Icon,{name:p.IconName.Warning})," ",C("beCareful"))]):C("inputLogicEmptyState");return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.default,{className:"custom-spending-cap",borderRadius:f.Size.SM,paddingTop:2,paddingRight:6,paddingLeft:6,display:f.DISPLAY.FLEX,alignItems:f.AlignItems.flexStart,flexDirection:f.FLEX_DIRECTION.COLUMN,backgroundColor:f.BackgroundColor.backgroundAlternative,gap:2},a.default.createElement(u.default,{justifyContent:f.JustifyContent.center,display:f.DISPLAY.BLOCK,className:"custom-spending-cap__input"},a.default.createElement("label",{htmlFor:$(S,n)?"custom-spending-cap-input-value":"custom-spending-cap"},a.default.createElement(d.default,{inputRef:j,dataTestId:"custom-spending-cap-input",wrappingLabelProps:{as:"div"},id:$(S,n)?"custom-spending-cap-input-value":"custom-spending-cap",TooltipCustomComponent:a.default.createElement(k.CustomSpendingCapTooltip,{tooltipContentText:F(S)?H:"",tooltipIcon:F(S)?$(S,n):""}),onChange:U,titleText:C("customSpendingCap"),placeholder:C("enterANumber"),error:I,value:S,titleDetail:D&&a.default.createElement(p.ButtonLink,{size:f.Size.auto,onClick:e=>{e.preventDefault(),L(!1),U(o)}},C("useDefault")),titleDetailWrapperProps:{marginBottom:2,marginRight:0}}),a.default.createElement(u.default,{width:f.BLOCK_SIZES.MAX,marginLeft:"auto",paddingRight:4,paddingBottom:2,textAlign:f.TEXT_ALIGN.END,className:(0,i.default)("custom-spending-cap__max",{"custom-spending-cap__max--with-error-message":I})},a.default.createElement(p.ButtonLink,{size:f.Size.auto,onClick:e=>{e.preventDefault(),U(n)}},C("max"))),a.default.createElement(u.default,{className:(0,i.default)("custom-spending-cap__description",{"custom-spending-cap__description--with-error-message":I})},a.default.createElement(p.Text,{color:f.TextColor.textDefault,variant:f.TextVariant.bodySm,as:"h6",paddingTop:2,paddingBottom:2},F(S)?G:R))))))}O.propTypes={txParams:o.default.object.isRequired,tokenName:o.default.string,currentTokenBalance:o.default.string,dappProposedValue:o.default.string,siteOrigin:o.default.string,passTheErrorText:o.default.func,decimals:o.default.string,setInputChangeInProgress:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/custom-spending-cap/custom-spending-cap.js"}],[3560,{"../../../../helpers/constants/design-system":4095,"../../../../helpers/utils/util":4133,"../../../../hooks/useCopyToClipboard":4148,"../../../../hooks/useI18nContext":4155,"../../../ui/box":3927,"../../../ui/button":3931,"../../../ui/tooltip":4060,"../../../ui/typography":4064,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../hooks/useCopyToClipboard"),s=f(e("../../../ui/box")),l=f(e("../../../ui/button")),c=f(e("../../../ui/typography")),u=f(e("../../../ui/tooltip")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../helpers/utils/util");function f(e){return e&&e.__esModule?e:{default:e}}const m=({tokenAddress:e})=>{const t=(0,o.useI18nContext)(),[n,r]=(0,i.useCopyToClipboard)();return a.default.createElement(s.default,{display:d.DISPLAY.INLINE_FLEX,className:"detected-token-address"},a.default.createElement(c.default,{variant:d.TypographyVariant.H7,color:d.TextColor.textDefault},`${t("tokenAddress")}:`),a.default.createElement(c.default,{variant:d.TypographyVariant.H7,color:d.TextColor.primaryDefault,marginLeft:2,marginRight:2},(0,p.shortenAddress)(e)),a.default.createElement(u.default,{position:"bottom",title:t(n?"copiedExclamation":"copyToClipboard")},a.default.createElement(l.default,{type:"link",className:"detected-token-address__copy-link",onClick:()=>{r(e)}},a.default.createElement("i",{className:"fa fa-copy"}))))};m.propTypes={tokenAddress:r.default.string};var h=m;n.default=h}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-address/detected-token-address.js"}],[3561,{"../../../../helpers/constants/design-system":4095,"../../../../hooks/useI18nContext":4155,"../../../ui/box":3927,"../../../ui/button":3931,"../../../ui/typography/typography":4065,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=u(e("../../../ui/box")),s=u(e("../../../ui/button")),l=u(e("../../../ui/typography/typography")),c=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({aggregators:e})=>{const t=(0,o.useI18nContext)(),n=parseInt(e.length,10)-2,[r,u]=(0,a.useState)(!1);return a.default.createElement(i.default,{display:c.DISPLAY.INLINE_FLEX,className:"detected-token-aggregators"},a.default.createElement(l.default,{variant:c.TypographyVariant.H7,fontWeight:c.FONT_WEIGHT.NORMAL},t("fromTokenLists",[n>0&&!r?a.default.createElement(l.default,{variant:c.TypographyVariant.H7,fontWeight:c.FONT_WEIGHT.NORMAL,key:"detected-token-aggrgators-with-more"},`${e.slice(0,2).join(", ")}`,a.default.createElement(s.default,{type:"link",className:"detected-token-aggregators__link",onClick:()=>u(!0),key:"detected-token-aggrgators-link"},t("plusXMore",[n]))):a.default.createElement(l.default,{variant:c.TypographyVariant.H7,fontWeight:c.FONT_WEIGHT.NORMAL,key:"detected-token-aggrgators-without-more"},`${e.join(", ")}.`)])))};p.propTypes={aggregators:r.default.array.isRequired};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-aggregators/detected-token-aggregators.js"}],[3562,{"../../../../helpers/constants/design-system":4095,"../../../../selectors":4461,"../../../ui/box":3927,"../../../ui/identicon":3989,"../detected-token-address/detected-token-address":3560,"../detected-token-aggregators/detected-token-aggregators":3561,"../detected-token-values/detected-token-values":3565,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("react-redux"),i=f(e("../../../ui/box")),s=f(e("../../../ui/identicon")),l=f(e("../detected-token-values/detected-token-values")),c=f(e("../detected-token-address/detected-token-address")),u=f(e("../detected-token-aggregators/detected-token-aggregators")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}const m=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var r;const f=(0,o.useSelector)(p.getTokenList)[null===(r=e.address)||void 0===r?void 0:r.toLowerCase()];return a.default.createElement(i.default,{display:d.DISPLAY.FLEX,className:"detected-token-details",marginBottom:4},a.default.createElement(s.default,{className:"detected-token-details__identicon",address:e.address,diameter:40}),a.default.createElement(i.default,{display:d.DISPLAY.GRID,marginLeft:2,className:"detected-token-details__data"},a.default.createElement(l.default,{token:e,handleTokenSelection:t,tokensListDetected:n}),a.default.createElement(c.default,{tokenAddress:e.address}),(null==f?void 0:f.aggregators.length)>0&&a.default.createElement(u.default,{aggregators:null==f?void 0:f.aggregators})))};m.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,iconUrl:r.default.string,aggregators:r.default.array}),handleTokenSelection:r.default.func.isRequired,tokensListDetected:r.default.object};var h=m;n.default=h}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-details/detected-token-details.js"}],[3563,{"../../../../helpers/constants/design-system":4095,"../../../../hooks/useI18nContext":4155,"../../../ui/button":3931,"../../../ui/popover":4026,"../../../ui/typography/typography":4065,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("prop-types")),o=d(e("classnames")),i=e("../../../../hooks/useI18nContext"),s=d(e("../../../ui/popover")),l=d(e("../../../ui/button")),c=d(e("../../../ui/typography/typography")),u=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}const p=({partiallyIgnoreDetectedTokens:e,onCancelIgnore:t,handleClearTokensSelection:n})=>{const r=(0,i.useI18nContext)(),d=a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{className:"detected-token-ignored-popover__ignore-button",type:"secondary",onClick:t},r("cancel")),a.default.createElement(l.default,{className:"detected-token-ignored-popover__import-button",type:"primary",onClick:n},r("confirm")));return a.default.createElement(s.default,{title:r(e?"importSelectedTokens":"areYouSure"),className:(0,o.default)("detected-token-ignored-popover",{"detected-token-ignored-popover--import":e,"detected-token-ignored-popover--ignore":!e}),footer:d},a.default.createElement(c.default,{variant:u.TypographyVariant.H6,tag:u.TypographyVariant.H6,marginTop:0,marginRight:5,marginBottom:7,marginLeft:5},r(e?"importSelectedTokensDescription":"ignoreTokenWarning")))};p.propTypes={partiallyIgnoreDetectedTokens:r.default.bool.isRequired,onCancelIgnore:r.default.func.isRequired,handleClearTokensSelection:r.default.func.isRequired};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-ignored-popover/detected-token-ignored-popover.js"}],[3564,{"../../../../../shared/constants/metametrics":3422,"../../../../contexts/metametrics":4073,"../../../../hooks/useI18nContext":4155,"../../../../selectors":4461,"../../../ui/box":3927,"../../../ui/button":3931,"../../../ui/popover":4026,"../detected-token-details/detected-token-details":3562,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../contexts/metametrics"),l=e("../../../../../shared/constants/metametrics"),c=e("../../../../selectors"),u=m(e("../../../ui/popover")),d=m(e("../../../ui/box")),p=m(e("../../../ui/button")),f=m(e("../detected-token-details/detected-token-details"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({tokensListDetected:e,handleTokenSelection:t,onImport:n,onIgnoreAll:r,setShowDetectedTokens:m,sortingBasedOnTokenSelection:h})=>{const g=(0,i.useI18nContext)(),y=(0,a.useContext)(s.MetaMetricsContext),v=(0,o.useSelector)(c.getDetectedTokensInCurrentNetwork),{selected:b=[]}=h(e),_=b.length===v.length?"All":`(${b.length})`,E=a.default.createElement(a.default.Fragment,null,a.default.createElement(p.default,{className:"detected-token-selection-popover__ignore-button",type:"secondary",onClick:()=>r()},g("ignoreAll")),a.default.createElement(p.default,{className:"detected-token-selection-popover__import-button",type:"primary",onClick:n,disabled:0===b.length},g("importWithCount",[_])));return a.default.createElement(u.default,{className:"detected-token-selection-popover",title:1===v.length?g("tokenFoundTitle"):g("tokensFoundTitle",[v.length]),onClose:()=>{m(!1);const e=v.map((({address:e,symbol:t})=>`${t} - ${e}`));y({event:l.MetaMetricsEventName.TokenImportCanceled,category:l.MetaMetricsEventCategory.Wallet,properties:{source:l.MetaMetricsTokenEventSource.Detected,tokens:e}})},footer:E},a.default.createElement(d.default,{margin:3},v.map(((n,r)=>a.default.createElement(f.default,{key:r,token:n,handleTokenSelection:t,tokensListDetected:e})))))};g.propTypes={tokensListDetected:r.default.object,handleTokenSelection:r.default.func.isRequired,onIgnoreAll:r.default.func.isRequired,onImport:r.default.func.isRequired,setShowDetectedTokens:r.default.func.isRequired,sortingBasedOnTokenSelection:r.default.func.isRequired};var y=g;n.default=y}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-selection-popover/detected-token-selection-popover.js"}],[3565,{"../../../../helpers/constants/design-system":4095,"../../../../hooks/useTokenFiatAmount":4170,"../../../../hooks/useTokenTracker":4171,"../../../../selectors":4461,"../../../ui/box":3927,"../../../ui/check-box":3937,"../../../ui/typography":4064,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=e("react-redux"),i=f(e("../../../ui/box")),s=f(e("../../../ui/typography")),l=f(e("../../../ui/check-box")),c=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useTokenTracker"),d=e("../../../../hooks/useTokenFiatAmount"),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var r;const[f,m]=(0,a.useState)((()=>{var t;return null===(t=n[e.address])||void 0===t?void 0:t.selected})),{tokensWithBalances:h}=(0,u.useTokenTracker)([e]),g=null===(r=h[0])||void 0===r?void 0:r.string,y=(0,d.useTokenFiatAmount)(e.address,g,e.symbol),v=(0,o.useSelector)(p.getUseCurrencyRateCheck);(0,a.useEffect)((()=>{var t;m(null===(t=n[e.address])||void 0===t?void 0:t.selected)}),[n,e.address,f,m]);return a.default.createElement(i.default,{display:c.DISPLAY.INLINE_FLEX,className:"detected-token-values"},a.default.createElement(i.default,{marginBottom:1},a.default.createElement(s.default,{variant:c.TypographyVariant.H4},`${g||"0"} ${e.symbol}`),a.default.createElement(s.default,{variant:c.TypographyVariant.H7,color:c.TextColor.textAlternative},v?y||"$0":y)),a.default.createElement(i.default,{className:"detected-token-values__checkbox"},a.default.createElement(l.default,{checked:f,onClick:()=>{m(!f),t(e)}})))};h.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,iconUrl:r.default.string,aggregators:r.default.array}),handleTokenSelection:r.default.func.isRequired,tokensListDetected:r.default.object};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-values/detected-token-values.js"}],[3566,{"../../../../shared/constants/metametrics":3422,"../../../../shared/constants/transaction":3432,"../../../contexts/metametrics":4073,"../../../selectors":4461,"../../../store/actions":4468,"./detected-token-ignored-popover/detected-token-ignored-popover":3563,"./detected-token-selection-popover/detected-token-selection-popover":3564,lodash:2915,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=e("react-redux"),i=e("lodash"),s=e("../../../store/actions"),l=e("../../../selectors"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/transaction"),d=e("../../../../shared/constants/metametrics"),p=m(e("./detected-token-selection-popover/detected-token-selection-popover")),f=m(e("./detected-token-ignored-popover/detected-token-ignored-popover"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=e=>(0,i.chain)(e).values().groupBy((e=>e.selected?"selected":"deselected")).mapValues((e=>e.map((({token:e})=>{const{address:t,symbol:n,decimals:a,aggregators:r}=e;return{address:t,symbol:n,decimals:a,aggregators:r}})))).value(),y=({setShowDetectedTokens:e})=>{const t=(0,o.useDispatch)(),n=(0,a.useContext)(c.MetaMetricsContext),r=(0,o.useSelector)(l.getDetectedTokensInCurrentNetwork),[i,m]=(0,a.useState)((()=>r.reduce(((e,t)=>(e[t.address]={token:t,selected:!0},e)),{}))),[h,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),_=async e=>{e.forEach((e=>{n({event:d.MetaMetricsEventName.TokenAdded,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,source:d.MetaMetricsTokenEventSource.Detected,token_standard:u.TokenStandard.ERC20,asset_type:u.AssetType.token}})})),await t((0,s.addImportedTokens)(e));const a=e.map((({symbol:e})=>e));t((0,s.setNewTokensImported)(a.join(", ")))};return a.default.createElement(a.default.Fragment,null,h&&a.default.createElement(f.default,{onCancelIgnore:()=>{y(!1),b(!1)},handleClearTokensSelection:async()=>{const{selected:a=[],deselected:o=[]}=g(i);o.length<r.length&&await _(a);const l=o.map((({symbol:e,address:t})=>`${e} - ${t}`));n({event:d.MetaMetricsEventName.TokenHidden,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{tokens:l,location:d.MetaMetricsEventLocation.TokenDetection,token_standard:u.TokenStandard.ERC20,asset_type:u.AssetType.token}});const c=o.map((({address:e})=>e));await t((0,s.ignoreTokens)({tokensToIgnore:c,dontShowLoadingIndicator:!0})),e(!1),b(!1)},partiallyIgnoreDetectedTokens:v}),r.length>0&&a.default.createElement(p.default,{detectedTokens:r,tokensListDetected:i,handleTokenSelection:e=>{m((t=>({...t,[e.address]:{...t[e.address],selected:!t[e.address].selected}})))},onImport:async()=>{const{selected:t=[]}=g(i);t.length<r.length?(y(!0),b(!0)):(await _(t),e(!1))},onIgnoreAll:()=>{const e={...i};for(const t of Object.keys(i))e[t].selected=!1;m(e),y(!0)},setShowDetectedTokens:e,sortingBasedOnTokenSelection:g}))};y.propTypes={setShowDetectedTokens:r.default.func.isRequired};var v=y;n.default=v}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token.js"}],[3567,{"../menu-droppo":3606,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DropdownMenuItem=n.Dropdown=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("prop-types")),o=i(e("../menu-droppo"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}class l extends a.Component{render(){const{containerClassName:e,isOpen:t,onClickOutside:n,style:r,innerStyle:i,children:s,useCssTransition:l}=this.props,c={borderRadius:"4px",padding:"8px 16px",background:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)",...i};return a.default.createElement(o.default,{containerClassName:e,useCssTransition:l,isOpen:t,zIndex:55,onClickOutside:n,style:r,innerStyle:c},a.default.createElement("style",null,"\n            li.dropdown-menu-item:hover {\n              color:var(--color-text-default);\n              background-color: var(--color-background-default-hover);\n              border-radius: 4px;\n            }\n          "),s)}}n.Dropdown=l,l.defaultProps={useCssTransition:!1},l.propTypes={isOpen:r.default.bool.isRequired,children:r.default.node,style:r.default.object.isRequired,onClickOutside:r.default.func,innerStyle:r.default.object,useCssTransition:r.default.bool,containerClassName:r.default.string};class c extends a.Component{render(){const{onClick:e,closeMenu:t,children:n,style:r}=this.props;return a.default.createElement("li",{className:"dropdown-menu-item","data-testid":"dropdown-menu-item",onClick:()=>{e(),t()},onKeyPress:n=>{"Enter"===n.key&&(e(),t())},style:{listStyle:"none",padding:"8px 0px",fontSize:"18px",fontStyle:"normal",cursor:"pointer",display:"flex",justifyContent:"flex-start",alignItems:"center",...r},tabIndex:"0"},n)}}n.DropdownMenuItem=c,c.propTypes={closeMenu:r.default.func.isRequired,onClick:r.default.func.isRequired,children:r.default.node,style:r.default.object}}}},{package:"$root$",file:"ui/components/app/dropdowns/dropdown.js"}],[3568,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":3415,"../../../../shared/constants/metametrics":3422,"../../../../shared/constants/network":3423,"../../../../shared/modules/network.utils":3452,"../../../ducks/alerts/invalid-custom-network":4077,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/routes":4099,"../../../selectors":4461,"../../../store/actions":4468,"../../component-library":3863,"../../component-library/button-icon/deprecated":3837,"../../ui/button":3931,"../../ui/color-indicator":3942,"./dropdown":3567,lodash:2915,"prop-types":3027,react:3172,"react-redux":3125,"react-router-dom":3145,redux:3189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=O(e("prop-types")),r=x(e("react")),o=e("react-redux"),i=e("react-router-dom"),s=e("redux"),l=e("lodash"),c=O(e("../../ui/button")),u=x(e("../../../store/actions")),d=e("../../../ducks/alerts/invalid-custom-network"),p=e("../../../../shared/constants/network"),f=e("../../../../shared/modules/network.utils"),m=O(e("../../ui/color-indicator")),h=e("../../../helpers/constants/design-system"),g=e("../../../selectors"),y=e("../../../../app/scripts/lib/util"),v=e("../../../../shared/constants/app"),b=e("../../../../shared/constants/metametrics"),_=e("../../../helpers/constants/routes"),E=e("../../component-library/button-icon/deprecated"),T=e("../../component-library"),k=e("./dropdown");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function O(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=["menu-icon","network-name","network-indicator","network-caret","network-component","modal-container__footer-button"],M={fontSize:"16px",lineHeight:"20px",padding:"16px"};class N extends r.Component{handleClick(e){const{provider:{type:t},setProviderType:n}=this.props,{trackEvent:a}=this.context;a({category:b.MetaMetricsEventCategory.Navigation,event:b.MetaMetricsEventName.NavNetworkSwitched,properties:{from_network:t,to_network:e}}),n(e)}renderAddCustomButton(){const{onAddClick:e}=this.props;return r.default.createElement("div",{className:"network__add-network-button"},r.default.createElement(c.default,{type:"secondary",onClick:()=>{e?e():(0,y.getEnvironmentType)()===v.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(_.ADD_POPULAR_CUSTOM_NETWORK):this.props.history.push(_.ADD_POPULAR_CUSTOM_NETWORK),this.props.hideNetworkDropdown()}},this.context.t("addNetwork")))}renderCustomRpcList(e,t,n={}){return Object.entries(e).map((([e,a])=>{const{rpcUrl:o,chainId:i,nickname:s="",id:l}=a,c=t.type===p.NETWORK_TYPES.RPC&&o===t.rpcUrl;return r.default.createElement(k.DropdownMenuItem,{key:`common${o}`,closeMenu:()=>this.props.hideNetworkDropdown(),onClick:()=>{(0,f.isPrefixedFormattedHexString)(i)?this.props.setActiveNetwork(e):this.props.displayInvalidCustomNetworkAlert(s||o)},style:{fontSize:"16px",lineHeight:"20px",padding:"16px"}},c?r.default.createElement(T.Icon,{name:T.IconName.Check,color:h.IconColor.successDefault}):r.default.createElement("div",{className:"network-check__transparent"},"✓"),r.default.createElement(m.default,{color:n.isLocalHost?"localhost":h.IconColor.iconMuted,size:h.Size.LG,type:m.default.TYPES.FILLED}),r.default.createElement("span",{className:"network-name-item","data-testid":`${s}-network-item`,style:{color:c?"var(--color-text-default)":"var(--color-text-alternative)"}},s||o),c?null:r.default.createElement(E.ButtonIcon,{className:"delete",iconName:T.IconName.Close,size:T.IconSize.Sm,ariaLabel:this.context.t("delete"),onClick:e=>{e.stopPropagation(),this.props.showConfirmDeleteNetworkModal({target:l,onConfirm:()=>undefined})}}))}))}getNetworkName(){const{provider:e}=this.props,t=e.type,{t:n}=this.context;switch(t){case p.NETWORK_TYPES.MAINNET:return n("mainnet");case p.NETWORK_TYPES.GOERLI:return n("goerli");case p.NETWORK_TYPES.SEPOLIA:return n("sepolia");case p.NETWORK_TYPES.LINEA_TESTNET:return n("lineatestnet");case p.NETWORK_TYPES.LOCALHOST:return n("localhost");default:return e.nickname||n("unknownNetwork")}}renderNetworkEntry(e){const{provider:{type:t}}=this.props;return r.default.createElement(k.DropdownMenuItem,{key:e,closeMenu:this.props.hideNetworkDropdown,onClick:()=>this.handleClick(e),style:M},t===e?r.default.createElement(T.Icon,{name:T.IconName.Check,color:h.IconColor.successDefault}):r.default.createElement("div",{className:"network-check__transparent"},"✓"),r.default.createElement(m.default,{color:e,size:h.Size.LG,type:m.default.TYPES.FILLED}),r.default.createElement("span",{className:"network-name-item","data-testid":`${e}-network-item`,style:{color:t===e?"var(--color-text-default)":"var(--color-text-alternative)"}},this.context.t(e)))}renderNonInfuraDefaultNetwork(e,t){const{provider:n,setActiveNetwork:a,upsertNetworkConfiguration:o}=this.props,{chainId:i,ticker:s,blockExplorerUrl:c}=p.BUILT_IN_NETWORKS[t],u=p.NETWORK_TO_NAME_MAP[t],d=p.CHAIN_ID_TO_RPC_URL_MAP[i],f=n.type===p.NETWORK_TYPES.RPC&&d===n.rpcUrl;return r.default.createElement(k.DropdownMenuItem,{key:t,closeMenu:this.props.hideNetworkDropdown,onClick:async()=>{let t=null;(0,l.pickBy)(e,(e=>e.rpcUrl===p.CHAIN_ID_TO_RPC_URL_MAP[i]))&&(t=await o({rpcUrl:d,ticker:s,chainId:i,nickname:u,rpcPrefs:{blockExplorerUrl:c}},{setActive:!0,source:b.MetaMetricsNetworkEventSource.CustomNetworkForm})),a(t)},style:M},f?r.default.createElement(T.Icon,{name:T.IconName.Check,color:h.IconColor.successDefault}):r.default.createElement("div",{className:"network-check__transparent"},"✓"),r.default.createElement(m.default,{color:t,size:h.Size.LG,type:m.default.TYPES.FILLED}),r.default.createElement("span",{className:"network-name-item","data-testid":`${t}-network-item`,style:{color:n.type===t?"var(--color-text-default)":"var(--color-text-alternative)"}},this.context.t(t)))}render(){const{history:e,hideElementsForOnboarding:t,hideNetworkDropdown:n,shouldShowTestNetworks:a,showTestnetMessageInDropdown:o,hideTestNetMessage:i,networkConfigurations:s}=this.props,u=(0,l.pickBy)(s,(e=>e.rpcUrl!==p.LOCALHOST_RPC_URL&&e.rpcUrl!==p.LINEA_TESTNET_RPC_URL)),d=(0,l.pickBy)(s,(e=>e.rpcUrl===p.LOCALHOST_RPC_URL)),f=this.props.networkDropdownOpen,{t:m}=this.context;return r.default.createElement(k.Dropdown,{isOpen:f,onClickOutside:e=>{const{classList:t}=e.target;-1===C.findIndex((e=>t.contains(e)))&&(e.stopPropagation(),n())},containerClassName:"network-droppo",zIndex:55,style:this.props.dropdownStyles||{position:"absolute",top:"58px",width:"309px",zIndex:"55"},innerStyle:{padding:"16px 0"}},r.default.createElement("div",{className:"network-dropdown-header"},t?null:r.default.createElement("div",{className:"network-dropdown-title"},m("networks")),t?null:r.default.createElement("div",{className:"network-dropdown-divider"}),o&&!t?r.default.createElement("div",{className:"network-dropdown-content"},m("toggleTestNetworks",[r.default.createElement("a",{href:"#",key:"advancedSettingsLink",className:"network-dropdown-content--link",onClick:t=>{t.preventDefault(),n(),e.push(`${_.ADVANCED_ROUTE}#show-testnets`)}},m("showHide"))]),r.default.createElement(c.default,{onClick:i,className:"network-dropdown-content--dismiss"},m("dismiss"))):null),r.default.createElement("div",{className:"network-dropdown-list"},this.renderNetworkEntry(p.NETWORK_TYPES.MAINNET),this.renderCustomRpcList(u,this.props.provider),a&&r.default.createElement(r.default.Fragment,null,this.renderNetworkEntry(p.NETWORK_TYPES.GOERLI),this.renderNetworkEntry(p.NETWORK_TYPES.SEPOLIA),p.SHOULD_SHOW_LINEA_TESTNET_NETWORK&&r.default.createElement(r.default.Fragment,null,this.renderNonInfuraDefaultNetwork(s,p.NETWORK_TYPES.LINEA_TESTNET)),this.renderCustomRpcList(d,this.props.provider,{isLocalHost:!0}))),this.renderAddCustomButton())}}P(N,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),P(N,"propTypes",{provider:a.default.shape({nickname:a.default.string,rpcUrl:a.default.string,type:a.default.string,ticker:a.default.string}).isRequired,setProviderType:a.default.func.isRequired,setActiveNetwork:a.default.func.isRequired,hideNetworkDropdown:a.default.func.isRequired,networkConfigurations:a.default.object.isRequired,shouldShowTestNetworks:a.default.bool,networkDropdownOpen:a.default.bool.isRequired,displayInvalidCustomNetworkAlert:a.default.func.isRequired,showConfirmDeleteNetworkModal:a.default.func.isRequired,showTestnetMessageInDropdown:a.default.bool.isRequired,hideTestNetMessage:a.default.func.isRequired,history:a.default.object,dropdownStyles:a.default.object,hideElementsForOnboarding:a.default.bool,onAddClick:a.default.func,upsertNetworkConfiguration:a.default.func.isRequired});var j=(0,s.compose)(i.withRouter,(0,o.connect)((function(e){return{provider:e.metamask.provider,shouldShowTestNetworks:(0,g.getShowTestNetworks)(e),networkConfigurations:e.metamask.networkConfigurations,networkDropdownOpen:e.appState.networkDropdownOpen,showTestnetMessageInDropdown:e.metamask.showTestnetMessageInDropdown}}),(function(e){return{setProviderType:t=>{e(u.setProviderType(t))},setActiveNetwork:t=>{e(u.setActiveNetwork(t))},upsertNetworkConfiguration:(...t)=>e(u.upsertNetworkConfiguration(...t)),hideNetworkDropdown:()=>e(u.hideNetworkDropdown()),displayInvalidCustomNetworkAlert:t=>{e((0,d.openAlert)(t))},showConfirmDeleteNetworkModal:({target:t,onConfirm:n})=>e(u.showModal({name:"CONFIRM_DELETE_NETWORK",target:t,onConfirm:n})),hideTestNetMessage:()=>u.hideTestNetMessage()}})))(N);n.default=j}}},{package:"$root$",file:"ui/components/app/dropdowns/network-dropdown.js"}],[3569,{"../../../../shared/constants/gas":3418,"../../../contexts/i18n":4072,"../../../helpers/constants/design-system":4095,"../../../helpers/utils/confirm-tx.util":4115,"../../component-library":3863,"../../ui/actionable-message/actionable-message":3923,"../../ui/button":3931,"../../ui/error-message":3959,"../../ui/info-tooltip":3990,"../advanced-gas-controls/advanced-gas-controls.component":3468,"bignumber.js":1858,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=g(e("prop-types")),o=g(e("bignumber.js")),i=e("../../../../shared/constants/gas"),s=g(e("../../ui/button")),l=e("../../../helpers/constants/design-system"),c=e("../../component-library"),u=e("../../../helpers/utils/confirm-tx.util"),d=g(e("../../ui/info-tooltip")),p=g(e("../../ui/error-message")),f=g(e("../advanced-gas-controls/advanced-gas-controls.component")),m=g(e("../../ui/actionable-message/actionable-message")),h=e("../../../contexts/i18n");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({mode:e=i.EditGasModes.modifyInPlace,estimatedMinimumNative:t,transaction:n,gasPrice:r,setGasPrice:g,gasLimit:y,setGasLimit:v,properGasLimit:b,dappSuggestedGasFeeAcknowledged:_,setDappSuggestedGasFeeAcknowledged:E,onManualChange:T,minimumGasLimit:k,balanceError:w,gasErrors:x,txParamsHaveBeenCustomized:O}){const P=(0,a.useContext)(h.I18nContext),C=(0,a.useRef)(null),M=(0,u.areDappSuggestedAndTxParamGasFeesTheSame)(n),N=Boolean((null==n?void 0:n.dappSuggestedGasFees)&&!_&&M);let j;y!==undefined&&b!==undefined&&new o.default(y).lessThan(new o.default(b))&&(j=P("gasLimitRecommended",[b]));const S=w&&O;let I;return w&&(I="insufficientFunds"),a.default.createElement("div",{className:"edit-gas-display"},a.default.createElement("div",{className:"edit-gas-display__content"},S&&a.default.createElement("div",{className:"edit-gas-display__warning"},a.default.createElement(p.default,{errorKey:I})),j&&a.default.createElement("div",{className:"edit-gas-display__warning"},a.default.createElement(m.default,{className:"actionable-message--warning",message:j,iconFillColor:"var(--color-warning-default)",useIcon:!0})),N&&a.default.createElement("div",{className:"edit-gas-display__dapp-acknowledgement-warning"},a.default.createElement(m.default,{className:"actionable-message--warning",message:P("gasDisplayDappWarning",[n.origin]),iconFillColor:"var(--color-warning-default)",useIcon:!0})),e===i.EditGasModes.speedUp&&a.default.createElement("div",{className:"edit-gas-display__top-tooltip"},a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FONT_WEIGHT.BOLD},P("speedUpTooltipText")," ",a.default.createElement(d.default,{position:"top",contentText:P("speedUpExplanation")}))),a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.displayMd,as:"h1",textAlign:l.TEXT_ALIGN.CENTER},t),N&&a.default.createElement(s.default,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>E(!0)},P("gasDisplayAcknowledgeDappButtonText")),!N&&a.default.createElement(f.default,{gasLimit:y,setGasLimit:v,gasPrice:r,setGasPrice:g,onManualChange:T,minimumGasLimit:k,gasErrors:x})),a.default.createElement("div",{ref:C,className:"edit-gas-display__scroll-bottom"}))}v.propTypes={mode:r.default.oneOf(Object.values(i.EditGasModes)),estimatedMinimumNative:r.default.string,gasPrice:r.default.string,setGasPrice:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,properGasLimit:r.default.number,dappSuggestedGasFeeAcknowledged:r.default.bool,setDappSuggestedGasFeeAcknowledged:r.default.func,transaction:r.default.object,onManualChange:r.default.func,minimumGasLimit:r.default.string,balanceError:r.default.bool,gasErrors:r.default.object,txParamsHaveBeenCustomized:r.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-display/edit-gas-display.component.js"}],[3570,{"./edit-gas-display.component":3569},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-display/index.js"}],[3571,{"../../../../shared/constants/gas":3418,"../../../contexts/gasFee":4071,"../../../contexts/transaction-modal":4074,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/gas":4097,"../../../hooks/useI18nContext":4155,"../../../hooks/useTransactionEventFragment":4174,"../../component-library":3863,"../../ui/info-tooltip/info-tooltip":3992,"../../ui/typography/typography":4065,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=h(e("react")),r=h(e("prop-types")),o=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/gas"),l=e("../../../contexts/gasFee"),c=e("../../../hooks/useI18nContext"),u=e("../../../hooks/useTransactionEventFragment"),d=e("../../../contexts/transaction-modal"),p=h(e("../../ui/info-tooltip/info-tooltip")),f=h(e("../../ui/typography/typography")),m=e("../../component-library");function h(e){return e&&e.__esModule?e:{default:e}}function g({userAcknowledgedGasMissing:e}){const t=(0,c.useI18nContext)(),{editGasMode:n,gasLimit:r,hasSimulationError:h,estimateUsed:g,maxFeePerGas:y,maxPriorityFeePerGas:v,supportsEIP1559:b,transaction:_}=(0,l.useGasFeeContext)(),{updateTransactionEventFragment:E}=(0,u.useTransactionEventFragment)(),{openModal:T}=(0,d.useTransactionModalContext)();if(!b||!g||!(!h||!0===e))return null;let k=g,w=g;g===o.PriorityLevels.high&&n===o.EditGasModes.swaps?(k="swapSuggested",w="swapSuggested"):g===o.PriorityLevels.tenPercentIncreased&&(k=undefined,w="tenPercentIncreased");return a.default.createElement("div",{className:"edit-gas-fee-button"},a.default.createElement("button",{onClick:()=>{E({gas_edit_attempted:"basic"}),T("editGasFee")},"data-testid":"edit-gas-fee-button"},k&&a.default.createElement("span",{className:"edit-gas-fee-button__icon"},s.PRIORITY_LEVEL_ICON_MAP[k]),a.default.createElement("span",{className:"edit-gas-fee-button__label"},t(w)),a.default.createElement(m.Icon,{name:m.IconName.ArrowRight,color:i.Color.primaryDefault,size:m.IconSize.Xs})),"custom"===g&&a.default.createElement("button",{onClick:()=>{E({gas_edit_attempted:"advanced"}),T("advancedGasFee")}},t("edit")),"dappSuggested"===g&&a.default.createElement(p.default,{contentText:a.default.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==_?void 0:_.origin)&&a.default.createElement(f.default,{variant:i.TypographyVariant.H7,color:i.TextColor.textAlternative},t("dappSuggestedTooltip",[_.origin])),a.default.createElement(f.default,{variant:i.TypographyVariant.H7},a.default.createElement("b",null,t("maxBaseFee"))," ",y),a.default.createElement(f.default,{variant:i.TypographyVariant.H7},a.default.createElement("b",null,t("maxPriorityFee"))," ",v),a.default.createElement(f.default,{variant:i.TypographyVariant.H7},a.default.createElement("b",null,t("gasLimit"))," ",r)),position:"top"}))}g.propTypes={userAcknowledgedGasMissing:r.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/edit-gas-fee-button.js"}],[3572,{"./edit-gas-fee-button":3571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/index.js"}],[3573,{"../../../../shared/constants/gas":3418,"../../../contexts/gasFee":4071,"../../../contexts/transaction-modal":4074,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/error-keys":4096,"../../../helpers/constants/zendesk-url":4102,"../../../hooks/useI18nContext":4155,"../../ui/box":3927,"../../ui/error-message":3959,"../../ui/popover":4026,"../../ui/typography/typography":4065,"../app-loading-spinner":3500,"./edit-gas-item":3575,"./network-statistics":3580,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=v(e("react")),r=e("../../../../shared/constants/gas"),o=e("../../../hooks/useI18nContext"),i=e("../../../contexts/transaction-modal"),s=v(e("../../ui/box")),l=v(e("../../ui/error-message")),c=v(e("../../ui/popover")),u=v(e("../../ui/typography/typography")),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/error-keys"),f=e("../../../contexts/gasFee"),m=v(e("../app-loading-spinner")),h=v(e("../../../helpers/constants/zendesk-url")),g=v(e("./edit-gas-item")),y=v(e("./network-statistics"));function v(e){return e&&e.__esModule?e:{default:e}}var b=()=>{const{balanceError:e,editGasMode:t}=(0,f.useGasFeeContext)(),n=(0,o.useI18nContext)(),{closeAllModals:v,closeModal:b,currentModal:_,openModalCount:E}=(0,i.useTransactionModalContext)();if("editGasFee"!==_)return null;let T="editGasFeeModalTitle";return t===r.EditGasModes.cancel?T="editCancellationGasFeeModalTitle":t===r.EditGasModes.speedUp&&(T="editSpeedUpEditGasFeeModalTitle"),a.default.createElement(c.default,{title:n(T),onBack:1===E?undefined:()=>b(["editGasFee"]),onClose:v,className:"edit-gas-fee-popover"},a.default.createElement(a.default.Fragment,null,a.default.createElement(m.default,null),a.default.createElement("div",{className:"edit-gas-fee-popover__wrapper"},a.default.createElement("div",{className:"edit-gas-fee-popover__content"},a.default.createElement(s.default,null,e&&a.default.createElement(l.default,{errorKey:p.INSUFFICIENT_FUNDS_ERROR_KEY}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__header"},a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-option"},n("gasOption")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-time"},t!==r.EditGasModes.swaps&&n("time")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-max-fee"},n("maxFee"))),(t===r.EditGasModes.cancel||t===r.EditGasModes.speedUp)&&a.default.createElement(g.default,{priorityLevel:r.PriorityLevels.tenPercentIncreased}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(g.default,{priorityLevel:r.PriorityLevels.low}),a.default.createElement(g.default,{priorityLevel:r.PriorityLevels.medium}),a.default.createElement(g.default,{priorityLevel:r.PriorityLevels.high}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__separator"}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(g.default,{priorityLevel:r.PriorityLevels.dAppSuggested}),a.default.createElement(g.default,{priorityLevel:r.PriorityLevels.custom})),a.default.createElement(s.default,null,a.default.createElement(y.default,null),a.default.createElement(u.default,{className:"edit-gas-fee-popover__know-more",align:"center",color:d.TextColor.textAlternative,tag:d.TypographyVariant.paragraph,variant:d.TypographyVariant.H7},n("learnMoreAboutGas",[a.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:h.default.USER_GUIDE_GAS},n("learnMore"))])))))))};n.default=b}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-fee-popover.js"}],[3574,{"../../../../../shared/constants/gas":3418,"../../../../contexts/gasFee":4071,"../../../../contexts/transaction-modal":4074,"../../../../helpers/constants/common":4093,"../../../../helpers/constants/gas":4097,"../../../../helpers/utils/util":4133,"../../../../hooks/useI18nContext":4155,"../../../../hooks/useTransactionEventFragment":4174,"../../../ui/info-tooltip":3990,"../../../ui/loading-heartbeat":3997,"../../user-preferenced-currency-display":3787,"../edit-gas-tooltip/edit-gas-tooltip":3578,"./useGasItemFeeDetails":3577,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=b(e("classnames")),r=b(e("prop-types")),o=b(e("react")),i=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/gas"),l=e("../../../../helpers/constants/common"),c=e("../../../../helpers/utils/util"),u=e("../../../../contexts/gasFee"),d=e("../../../../hooks/useI18nContext"),p=e("../../../../hooks/useTransactionEventFragment"),f=e("../../../../contexts/transaction-modal"),m=b(e("../../../ui/info-tooltip")),h=b(e("../../../ui/loading-heartbeat")),g=b(e("../../user-preferenced-currency-display")),y=b(e("../edit-gas-tooltip/edit-gas-tooltip")),v=e("./useGasItemFeeDetails");function b(e){return e&&e.__esModule?e:{default:e}}const _=({priorityLevel:e})=>{const{editGasMode:t,estimateUsed:n,gasLimit:r,updateTransactionToTenPercentIncreasedGasFee:b,updateTransactionUsingDAPPSuggestedValues:_,updateTransactionUsingEstimate:E,transaction:T}=(0,u.useGasFeeContext)(),{updateTransactionEventFragment:k}=(0,p.useTransactionEventFragment)(),w=(0,d.useI18nContext)(),{closeModal:x,openModal:O}=(0,f.useTransactionModalContext)(),{dappSuggestedGasFees:P}=T,{estimateGreaterThanGasUse:C,hexMaximumTransactionFee:M,maxFeePerGas:N,maxPriorityFeePerGas:j,minWaitTime:S}=(0,v.useGasItemFeeDetails)(e);if(!(e!==i.PriorityLevels.dAppSuggested||null!=P&&P.maxFeePerGas||null!=P&&P.gasPrice))return null;const{title:I,icon:A}=((e,t)=>{let n=e,a=e;return e===i.PriorityLevels.dAppSuggested?a="dappSuggestedShortLabel":e===i.PriorityLevels.tenPercentIncreased?(n=null,a="tenPercentIncreased"):e===i.PriorityLevels.high&&t===i.EditGasModes.swaps&&(n="swapSuggested",a="swapSuggested"),{title:a,icon:n}})(e,t);return o.default.createElement("button",{className:(0,a.default)("edit-gas-item",{"edit-gas-item--selected":e===n,"edit-gas-item--disabled":C}),onClick:()=>{e===i.PriorityLevels.custom?(k({properties:{gas_edit_attempted:"advanced"}}),O("advancedGasFee")):(k({properties:{gas_edit_type:"basic"}}),x(["editGasFee"]),e===i.PriorityLevels.tenPercentIncreased?b():e===i.PriorityLevels.dAppSuggested?_():E(e))},"aria-label":e,autoFocus:e===n,disabled:C,"data-testid":`edit-gas-fee-item-${e}`},o.default.createElement("span",{className:"edit-gas-item__name"},A&&o.default.createElement("span",{className:`edit-gas-item__icon edit-gas-item__icon-${e}`},s.PRIORITY_LEVEL_ICON_MAP[A]),w(I)),o.default.createElement("span",{className:`edit-gas-item__time-estimate edit-gas-item__time-estimate-${e}`},t!==i.EditGasModes.swaps&&(S?(0,c.toHumanReadableTime)(w,S):"--")),o.default.createElement("span",{className:`edit-gas-item__fee-estimate edit-gas-item__fee-estimate-${e}`},M?o.default.createElement("div",{className:"edit-gas-item__maxfee"},o.default.createElement(h.default,{backgroundColor:e===n?"var(--color-background-alternative)":"var(--color-background-default)",estimateUsed:e}),o.default.createElement(g.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:M})):"--"),o.default.createElement("span",{className:"edit-gas-item__tooltip","data-testid":"gas-tooltip"},o.default.createElement(m.default,{contentText:o.default.createElement(y.default,{t:w,priorityLevel:e,maxFeePerGas:N,maxPriorityFeePerGas:j,editGasMode:t,gasLimit:r,transaction:T,estimateGreaterThanGasUse:C}),position:"top"})))};_.propTypes={priorityLevel:r.default.string};var E=_;n.default=E}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/edit-gas-item.js"}],[3575,{"./edit-gas-item":3574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/index.js"}],[3576,{"../../../../../shared/constants/gas":3418,"../../../../ducks/metamask/metamask":4087,"../../../../store/actions":4468,"bignumber.js":1858,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCustomTimeEstimate=void 0;var a,r=e("react"),o=e("react-redux"),i=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},s=e("../../../../../shared/constants/gas"),l=e("../../../../ducks/metamask/metamask"),c=e("../../../../store/actions");n.useCustomTimeEstimate=({gasFeeEstimates:e,maxFeePerGas:t,maxPriorityFeePerGas:n})=>{const a=(0,o.useSelector)(l.getGasEstimateType),u=(0,o.useSelector)(l.getIsGasEstimatesLoading),[d,p]=(0,r.useState)(null),f=u||a!==s.GasEstimateTypes.feeMarket||!n,m=(null==e?void 0:e.low)&&Number(n)<Number(e.low.suggestedMaxPriorityFeePerGas);if((0,r.useEffect)((()=>{!u&&a===s.GasEstimateTypes.feeMarket&&n&&m&&(0,c.getGasFeeTimeEstimate)(new i.default(n,10).toString(10),new i.default(t,10).toString(10)).then((e=>{p(e)}))}),[a,m,u,t,n,f]),f)return{};const{low:h={},medium:g={},high:y={}}=e;let v="";return v=m&&d&&"unknown"!==d&&"unknown"!==(null==d?void 0:d.upperTimeBound)?Number(null==d?void 0:d.upperTimeBound):Number(n)>=Number(g.suggestedMaxPriorityFeePerGas)?y.minWaitTimeEstimate:h.maxWaitTimeEstimate,{waitTimeEstimate:v}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useCustomTimeEstimate.js"}],[3577,{"../../../../../shared/constants/gas":3418,"../../../../../shared/modules/conversion.utils":3446,"../../../../../shared/modules/gas.utils":3449,"../../../../contexts/gasFee":4071,"../../../../helpers/utils/gas":4118,"../../../../selectors":4461,"./useCustomTimeEstimate":3576,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasItemFeeDetails=void 0;var a=e("react"),r=e("react-redux"),o=e("../../../../../shared/constants/gas"),i=e("../../../../../shared/modules/gas.utils"),s=e("../../../../helpers/utils/gas"),l=e("../../../../selectors"),c=e("../../../../contexts/gasFee"),u=e("../../../../../shared/modules/conversion.utils"),d=e("./useCustomTimeEstimate");n.useGasItemFeeDetails=e=>{const{editGasMode:t,estimateUsed:n,gasFeeEstimates:p,gasLimit:f,maxFeePerGas:m,maxPriorityFeePerGas:h,transaction:g}=(0,c.useGasFeeContext)(),[y,v]=(0,a.useState)(!1),b=(0,r.useSelector)(l.getAdvancedGasFeeValues);let _,E,T;const{dappSuggestedGasFees:k}=g;if(null!=p&&p[e])_=p[e].suggestedMaxFeePerGas,E=p[e].suggestedMaxPriorityFeePerGas;else if(e===o.PriorityLevels.dAppSuggested&&k)_=(0,u.hexWEIToDecGWEI)(k.maxFeePerGas||k.gasPrice),E=(0,u.hexWEIToDecGWEI)(k.maxPriorityFeePerGas||_);else if(e===o.PriorityLevels.custom)n===o.PriorityLevels.custom?(_=m,E=h):b&&t!==o.EditGasModes.swaps&&(_=b.maxBaseFee,E=b.priorityFee);else if(e===o.PriorityLevels.tenPercentIncreased&&g.previousGas){var w,x;_=(0,u.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(w=g.previousGas)||void 0===w?void 0:w.maxFeePerGas)),E=(0,u.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(x=g.previousGas)||void 0===x?void 0:x.maxPriorityFeePerGas))}const{waitTimeEstimate:O}=(0,d.useCustomTimeEstimate)({gasFeeEstimates:p,maxFeePerGas:_,maxPriorityFeePerGas:E});T=p[e]?e===o.PriorityLevels.high?null==p?void 0:p.high.minWaitTimeEstimate:null==p?void 0:p.low.maxWaitTimeEstimate:O;const P=_?(0,i.getMaximumGasTotalInHexWei)({gasLimit:(0,u.decimalToHex)(f),maxFeePerGas:(0,u.decGWEIToHexWEI)(_)}):null;return(0,a.useEffect)((()=>{if(!(t!==o.EditGasModes.cancel&&t!==o.EditGasModes.speedUp||e!==o.PriorityLevels.medium&&e!==o.PriorityLevels.high)){const t=!(0,s.gasEstimateGreaterThanGasUsedPlusTenPercent)(g.previousGas||g.txParams,p,e);v(t)}}),[t,p,e,g]),{estimateGreaterThanGasUse:y,maxFeePerGas:_,maxPriorityFeePerGas:E,minWaitTime:T,hexMaximumTransactionFee:P}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useGasItemFeeDetails.js"}],[3578,{"../../../../../shared/constants/gas":3418,"../../../../helpers/constants/design-system":4095,"../../../../helpers/utils/gas":4118,"../../../../helpers/utils/util":4133,"../../../ui/typography":4064,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("prop-types")),o=e("../../../../../shared/constants/gas"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../helpers/utils/gas"),l=e("../../../../helpers/utils/util"),c=u(e("../../../ui/typography"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({editGasMode:e,estimateGreaterThanGasUse:t,gasLimit:n,priorityLevel:r,maxFeePerGas:u,maxPriorityFeePerGas:d,transaction:p,t:f})=>{const m=(0,a.useMemo)((()=>{switch(r){case o.PriorityLevels.low:return f("lowGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("low")))]);case o.PriorityLevels.medium:return t?f("disabledGasOptionToolTipMessage",[a.default.createElement("span",{key:`disabled-priority-level-${r}`},f(r))]):f("mediumGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("medium")))]);case o.PriorityLevels.high:return t?f("disabledGasOptionToolTipMessage",[a.default.createElement("span",{key:`disabled-priority-level-${r}`},f(r))]):e===o.EditGasModes.swaps?f("swapSuggestedGasSettingToolTipMessage"):f("highGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("high")))]);case o.PriorityLevels.custom:return f("customGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("custom")))]);case o.PriorityLevels.dAppSuggested:return null!=p&&p.origin?f("dappSuggestedGasSettingToolTipMessage",[a.default.createElement("span",{key:null==p?void 0:p.origin},null==p?void 0:p.origin)]):null;default:return""}}),[e,t,r,p,f]);let h;r===o.PriorityLevels.low?h=f("curveLowGasEstimate"):r===o.PriorityLevels.medium?h=f("curveMediumGasEstimate"):r===o.PriorityLevels.high&&(h=f("curveHighGasEstimate"));const g=(0,s.isMetamaskSuggestedGasEstimate)(r)&&!(r===o.PriorityLevels.high&&e===o.EditGasModes.swaps)&&!t;return a.default.createElement("div",{className:"edit-gas-tooltip__container"},g?a.default.createElement("img",{alt:h,src:`./images/curve-${r}.svg`}):null,m&&a.default.createElement("div",{className:"edit-gas-tooltip__container__message"},a.default.createElement(c.default,{variant:i.TypographyVariant.H7},m)),r===o.PriorityLevels.custom||t?null:a.default.createElement("div",{className:"edit-gas-tooltip__container__values"},a.default.createElement("div",null,a.default.createElement(c.default,{variant:i.TypographyVariant.H7,fontWeight:i.FONT_WEIGHT.BOLD,className:"edit-gas-tooltip__container__label"},f("maxBaseFee")),u&&a.default.createElement(c.default,{variant:i.TypographyVariant.H7,color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,l.roundToDecimalPlacesRemovingExtraZeroes)(u,4))),a.default.createElement("div",null,a.default.createElement(c.default,{variant:i.TypographyVariant.H7,fontWeight:i.FONT_WEIGHT.BOLD,className:"edit-gas-tooltip__container__label"},f("priorityFeeProperCase")),d&&a.default.createElement(c.default,{variant:i.TypographyVariant.H7,color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,l.roundToDecimalPlacesRemovingExtraZeroes)(d,4))),a.default.createElement("div",null,a.default.createElement(c.default,{variant:i.TypographyVariant.H7,fontWeight:i.FONT_WEIGHT.BOLD,className:"edit-gas-tooltip__container__label"},f("gasLimit")),n&&a.default.createElement(c.default,{variant:i.TypographyVariant.H7,color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,l.roundToDecimalPlacesRemovingExtraZeroes)(n,4)))))};p.propTypes={estimateGreaterThanGasUse:r.default.bool,priorityLevel:r.default.string,maxFeePerGas:r.default.oneOfType([r.default.number,r.default.string]),maxPriorityFeePerGas:r.default.oneOfType([r.default.number,r.default.string]),t:r.default.func,editGasMode:r.default.string,gasLimit:r.default.number,transaction:r.default.object};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-tooltip/edit-gas-tooltip.js"}],[3579,{"./edit-gas-fee-popover":3573},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/index.js"}],[3580,{"./network-statistics":3581},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-statistics"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/index.js"}],[3581,{"../../../../contexts/gasFee":4071,"../../../../contexts/i18n":4072,"../../../../helpers/constants/design-system":4095,"../../../../helpers/utils/gas":4118,"../../../../helpers/utils/util":4133,"../../../ui/typography/typography":4065,"./status-slider":3582,"./tooltips":3584,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("../../../../helpers/constants/design-system"),o=e("../../../../helpers/utils/util"),i=e("../../../../helpers/utils/gas"),s=e("../../../../contexts/i18n"),l=e("../../../../contexts/gasFee"),c=p(e("../../../ui/typography/typography")),u=e("./tooltips"),d=p(e("./status-slider"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m=()=>{const e=(0,a.useContext)(s.I18nContext),{gasFeeEstimates:t}=(0,l.useGasFeeContext)(),n=(0,i.formatGasFeeOrFeeRange)(null==t?void 0:t.estimatedBaseFee,{precision:0}),p=(0,i.formatGasFeeOrFeeRange)(null==t?void 0:t.latestPriorityFeeRange,{precision:[1,0]}),f=null==t?void 0:t.networkCongestion;return a.default.createElement("div",{className:"network-statistics"},a.default.createElement(c.default,{color:r.TextColor.textAlternative,fontWeight:r.FONT_WEIGHT.BOLD,marginTop:3,marginBottom:3,variant:r.TypographyVariant.H8},e("networkStatus")),a.default.createElement("div",{className:"network-statistics__info"},(0,o.isNullish)(n)?null:a.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-base-fee"},a.default.createElement(u.BaseFeeTooltip,null,a.default.createElement("span",{className:"network-statistics__field-data"},n),a.default.createElement("span",{className:"network-statistics__field-label"},e("baseFee")))),(0,o.isNullish)(p)?null:a.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-priority-fee-range"},a.default.createElement(u.PriorityFeeTooltip,null,a.default.createElement("span",{className:"network-statistics__field-data"},p),a.default.createElement("span",{className:"network-statistics__field-label"},e("priorityFee")))),(0,o.isNullish)(f)?null:a.default.createElement("div",{className:"network-statistics__field"},a.default.createElement(d.default,null))))};n.default=m}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/network-statistics.js"}],[3582,{"./status-slider":3583},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./status-slider"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/index.js"}],[3583,{"../../../../../../shared/constants/gas":3418,"../../../../../contexts/gasFee":4071,"../../../../../hooks/useI18nContext":4155,"../tooltips":3584,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../shared/constants/gas"),i=e("../../../../../contexts/gasFee"),s=e("../../../../../hooks/useI18nContext"),l=e("../tooltips");const c=["#037DD6","#1876C8","#2D70BA","#4369AB","#57629E","#6A5D92","#805683","#9A4D71","#B44561","#C54055","#D73A49"];var u=()=>{const e=(0,s.useI18nContext)(),{gasFeeEstimates:t}=(0,i.useGasFeeContext)(),n=(e=>{const t=e??.5,n=Math.round(10*t),a=c[n],r=10*n;return t>=o.NetworkCongestionThresholds.busy?{statusLabel:"busy",tooltipLabel:"highLowercase",color:a,sliderTickValue:r}:t>=o.NetworkCongestionThresholds.stable?{statusLabel:"stable",tooltipLabel:"stableLowercase",color:a,sliderTickValue:r}:{statusLabel:"notBusy",tooltipLabel:"lowLowercase",color:a,sliderTickValue:r}})(t.networkCongestion);return r.default.createElement(l.NetworkStabilityTooltip,{color:n.color,tooltipLabel:n.tooltipLabel},r.default.createElement("div",{className:"status-slider"},r.default.createElement("div",{className:"status-slider__arrow-container"},r.default.createElement("div",{className:"status-slider__arrow-border",style:{marginLeft:`${n.sliderTickValue}%`},"data-testid":"status-slider-arrow-border"},r.default.createElement("div",{className:"status-slider__arrow",style:{borderTopColor:n.color},"data-testid":"status-slider-arrow"}))),r.default.createElement("div",{className:"status-slider__line"}),r.default.createElement("div",{className:"status-slider__label",style:{color:n.color},"data-testid":"status-slider-label"},e(n.statusLabel))))};n.default=u}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/status-slider.js"}],[3584,{"../../../../helpers/constants/design-system":4095,"../../../../hooks/useI18nContext":4155,"../../../ui/box":3927,"../../../ui/tooltip":4060,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityFeeTooltip=n.NetworkStabilityTooltip=n.BaseFeeTooltip=void 0;var a=c(e("react")),r=c(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=c(e("../../../ui/box")),s=c(e("../../../ui/tooltip")),l=e("../../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}const u=({children:e,html:t,title:n})=>a.default.createElement(s.default,{position:"top",html:t,title:n},a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN},e));u.propTypes={children:r.default.node.isRequired,html:r.default.node,title:r.default.string};const d=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(u,{html:t("networkStatusBaseFeeTooltip",[a.default.createElement("strong",{key:"base_fee_medium_estimate",className:"network-status__tooltip-label"},t("medium")),a.default.createElement("strong",{key:"base_fee_high_estimate",className:"network-status__tooltip-label"},t("high"))])},e)};n.BaseFeeTooltip=d,d.propTypes={children:r.default.node.isRequired};const p=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(u,{title:t("networkStatusPriorityFeeTooltip")},e)};n.PriorityFeeTooltip=p,p.propTypes={children:r.default.node.isRequired};const f=({children:e,color:t,tooltipLabel:n})=>{const r=(0,o.useI18nContext)();return a.default.createElement(u,{html:r("networkStatusStabilityFeeTooltip",[a.default.createElement("strong",{key:"network-status__tooltip",className:"network-status__tooltip-label",style:{color:t}},r(n))])},e)};n.NetworkStabilityTooltip=f,f.propTypes={children:r.default.node.isRequired,color:r.default.string.isRequired,tooltipLabel:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/tooltips.js"}],[3585,{"../../../../shared/constants/gas":3418,"../../../../shared/modules/conversion.utils":3446,"../../../../shared/modules/transaction.utils":3459,"../../../contexts/i18n":4072,"../../../hooks/gasFeeInput/useGasFeeInputs":4139,"../../../hooks/useIncrementedGasFees":4156,"../../../store/actions":4468,"../../ui/button":3931,"../../ui/loading-heartbeat":3997,"../../ui/popover":4026,"../edit-gas-display":3570,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=y(e("prop-types")),o=e("react-redux"),i=e("../../../hooks/gasFeeInput/useGasFeeInputs"),s=e("../../../../shared/modules/transaction.utils"),l=e("../../../../shared/constants/gas"),c=y(e("../../ui/popover")),u=y(e("../../ui/button")),d=y(e("../edit-gas-display")),p=e("../../../contexts/i18n"),f=e("../../../store/actions"),m=y(e("../../ui/loading-heartbeat")),h=e("../../../hooks/useIncrementedGasFees"),g=e("../../../../shared/modules/conversion.utils");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}function _({popoverTitle:e="",confirmButtonText:t="",editGasDisplayProps:n={},transaction:r,mode:y,onClose:v,minimumGasLimit:_=l.GAS_LIMITS.SIMPLE}){const E=(0,a.useContext)(p.I18nContext),T=(0,o.useDispatch)(),[k,w]=(0,a.useState)(!1),x=(0,g.hexToDecimal)(_),O=(0,h.useIncrementedGasFees)(r);let P=r;y!==l.EditGasModes.speedUp&&y!==l.EditGasModes.cancel||(P={...r,userFeeLevel:l.CUSTOM_GAS_ESTIMATE,txParams:{...r.txParams,...O}});const{estimatedMinimumNative:C,gasPrice:M,setGasPrice:N,gasLimit:j,setGasLimit:S,properGasLimit:I,estimateToUse:A,hasGasErrors:D,gasErrors:L,onManualChange:R,balanceError:F}=(0,i.useGasFeeInputs)(l.GasRecommendations.medium,P,_,y),$=A===l.CUSTOM_GAS_ESTIMATE||(0,s.txParamsAreDappSuggested)(P),W=(0,a.useCallback)((()=>{v?v():T((0,f.hideModal)())}),[v,T]),G=(0,a.useCallback)((async()=>{P&&y||W();const e={gas:(0,g.decimalToHex)(j),gasLimit:(0,g.decimalToHex)(j),estimateUsed:A,gasPrice:(0,g.decGWEIToHexWEI)(M)},t={...P.txParams},n={...P,userEditedGasLimit:j!==Number(r.originalGasEstimate),userFeeLevel:A||l.CUSTOM_GAS_ESTIMATE,txParams:{...t,...e}};switch(y){case l.EditGasModes.cancel:T((0,f.createCancelTransaction)(P.id,e));break;case l.EditGasModes.speedUp:T((0,f.createSpeedUpTransaction)(P.id,e));break;case l.EditGasModes.modifyInPlace:e.userEditedGasLimit=n.userEditedGasLimit,e.userFeeLevel=n.userFeeLevel,T((0,f.showLoadingIndication)()),await T((0,f.updateTransactionGasFees)(n.id,e)),T((0,f.hideLoadingIndication)())}W()}),[P,y,T,W,j,M,r.originalGasEstimate,A]);let B=E("editGasTitle");e?B=e:y===l.EditGasModes.speedUp?B=E("speedUpPopoverTitle"):y===l.EditGasModes.cancel&&(B=E("cancelPopoverTitle"));const U=t||E("save");return a.default.createElement(c.default,{title:B,onClose:W,className:"edit-gas-popover__wrapper",footer:a.default.createElement(u.default,{type:"primary",onClick:G,disabled:D||F||!$},U)},a.default.createElement("div",{style:{padding:"0 20px 20px 20px",position:"relative"}},a.default.createElement(m.default,null),a.default.createElement(d.default,b({dappSuggestedGasFeeAcknowledged:k,setDappSuggestedGasFeeAcknowledged:w,estimatedMinimumNative:C,gasPrice:M,setGasPrice:N,gasLimit:j,setGasLimit:S,properGasLimit:I,mode:y,transaction:P,onManualChange:R,minimumGasLimit:x,balanceError:F,txParamsHaveBeenCustomized:$,gasErrors:L},n))))}_.propTypes={popoverTitle:r.default.string,editGasDisplayProps:r.default.object,confirmButtonText:r.default.string,onClose:r.default.func,transaction:r.default.object,mode:r.default.oneOf(Object.values(l.EditGasModes)),minimumGasLimit:r.default.string}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/edit-gas-popover.component.js"}],[3586,{"./edit-gas-popover.component":3585},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-popover.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/index.js"}],[3587,{"../../../../helpers/constants/design-system":4095,"../../../../hooks/useI18nContext":4155,"../../../../selectors":4461,"../../../ui/box":3927,"../../../ui/info-tooltip/info-tooltip":3992,"../../../ui/typography/typography":4065,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=e("react-redux"),o=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../selectors"),l=d(e("../../../ui/box")),c=d(e("../../../ui/info-tooltip/info-tooltip")),u=d(e("../../../ui/typography/typography"));function d(e){return e&&e.__esModule?e:{default:e}}var p=()=>{const e=(0,i.useI18nContext)(),t=(0,r.useSelector)(s.getIsMainnet);return a.default.createElement(l.default,{display:"flex"},a.default.createElement(l.default,{marginRight:1},e("gas")),a.default.createElement("span",{className:"gas-details-item-title__estimate"},"(",e("transactionDetailGasInfoV2"),")"),a.default.createElement(c.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement(u.default,{variant:o.TypographyVariant.H7},e("transactionDetailGasTooltipIntro",[t?e("networkNameEthereum"):""])),a.default.createElement(u.default,{variant:o.TypographyVariant.H7},e("transactionDetailGasTooltipExplanation")),a.default.createElement(u.default,{variant:o.TypographyVariant.H7},a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},e("transactionDetailGasTooltipConversion")))),position:"bottom"}))};n.default=p}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item-title/gas-details-item-title.js"}],[3588,{"./gas-details-item-title":3587},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-details-item-title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item-title/index.js"}],[3589,{"../../../../shared/modules/conversion.utils":3446,"../../../contexts/gasFee":4071,"../../../ducks/send":4089,"../../../helpers/constants/common":4093,"../../../helpers/constants/design-system":4095,"../../../hooks/useDraftTransactionGasValues":4151,"../../../hooks/useI18nContext":4155,"../../../selectors":4461,"../../ui/box":3927,"../../ui/loading-heartbeat":3997,"../gas-timing/gas-timing.component":3591,"../transaction-detail-item/transaction-detail-item.component":3773,"../user-preferenced-currency-display":3787,"./gas-details-item-title":3588,classnames:1987,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=E(e("react")),r=E(e("prop-types")),o=E(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/common"),c=e("../../../selectors"),u=e("../../../ducks/send"),d=e("../../../contexts/gasFee"),p=e("../../../hooks/useI18nContext"),f=E(e("../../ui/box")),m=E(e("../../ui/loading-heartbeat")),h=E(e("../gas-timing/gas-timing.component")),g=E(e("../transaction-detail-item/transaction-detail-item.component")),y=E(e("../user-preferenced-currency-display")),v=e("../../../../shared/modules/conversion.utils"),b=e("../../../hooks/useDraftTransactionGasValues"),_=E(e("./gas-details-item-title"));function E(e){return e&&e.__esModule?e:{default:e}}const T=({userAcknowledgedGasMissing:e=!1})=>{var t,n;const r=(0,p.useI18nContext)(),E=(0,i.useSelector)(u.getCurrentDraftTransaction),{transactionData:T}=(0,b.useDraftTransactionGasValues)(),{hexMinimumTransactionFee:k,hexMaximumTransactionFee:w}=(0,i.useSelector)((e=>(0,c.transactionFeeSelector)(e,T))),{estimateUsed:x,hasSimulationError:O,maximumCostInHexWei:P,minimumCostInHexWei:C,maxPriorityFeePerGas:M,maxFeePerGas:N}=(0,d.useGasFeeContext)(),{useNativeCurrencyAsPrimaryCurrency:j}=(0,i.useSelector)(c.getPreferences),S=(0,i.useSelector)(c.getUseCurrencyRateCheck);if(O&&!e)return null;const I=(M??(0,v.hexWEIToDecGWEI)((null===(t=T.txParams)||void 0===t?void 0:t.maxPriorityFeePerGas)??"0x0")).toString(),A=(N??(0,v.hexWEIToDecGWEI)((null===(n=T.txParams)||void 0===n?void 0:n.maxFeePerGas)??"0x0")).toString();return a.default.createElement(g.default,{key:"gas-item",detailTitle:a.default.createElement(_.default,null),detailTitleColor:s.TextColor.textDefault,detailText:S&&0===Object.keys(E).length&&a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(m.default,{estimateUsed:x}),a.default.createElement(y.default,{type:l.SECONDARY,value:C,hideLabel:Boolean(j)})),detailTotal:a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(m.default,{estimateUsed:x}),a.default.createElement(y.default,{type:l.PRIMARY,value:C||k,hideLabel:!j})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:(0,o.default)("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":"high"===x})},a.default.createElement(m.default,{estimateUsed:x}),a.default.createElement(f.default,{marginRight:1},a.default.createElement("strong",null,"high"===x&&"⚠ ",r("editGasSubTextFeeLabel"))),a.default.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container"},a.default.createElement(m.default,{estimateUsed:x}),a.default.createElement(y.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:P||w,hideLabel:!j})))),subTitle:a.default.createElement(h.default,{maxPriorityFeePerGas:I,maxFeePerGas:A})})};T.propTypes={userAcknowledgedGasMissing:r.default.bool};var k=T;n.default=k}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item.js"}],[3590,{"./gas-details-item":3589},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-details-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/gas-details-item/index.js"}],[3591,{"../../../../shared/constants/gas":3418,"../../../contexts/gasFee":4071,"../../../contexts/i18n":4072,"../../../ducks/metamask/metamask":4087,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/gas":4097,"../../../hooks/usePrevious":4159,"../../../store/actions":4468,"../../ui/typography/typography":4065,"bignumber.js":1858,classnames:1987,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=y(e("prop-types")),i=y(e("classnames")),s=y(e("bignumber.js")),l=e("../../../../shared/constants/gas"),c=e("../../../hooks/usePrevious"),u=e("../../../contexts/i18n"),d=e("../../../contexts/gasFee"),p=e("../../../ducks/metamask/metamask"),f=y(e("../../ui/typography/typography")),m=e("../../../helpers/constants/design-system"),h=e("../../../store/actions"),g=e("../../../helpers/constants/gas");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b=(e=1,t)=>{const n=Math.ceil(e/1e3);return n<=90?t("gasTimingSeconds",[n]):t("gasTimingMinutes",[Math.ceil(n/60)])};function _({maxFeePerGas:e=0,maxPriorityFeePerGas:t=0,gasWarnings:n}){const o=(0,r.useSelector)(p.getGasEstimateType),y=(0,r.useSelector)(p.getGasFeeEstimates),v=(0,r.useSelector)(p.getIsGasEstimatesLoading),[_,E]=(0,a.useState)(null),T=(0,a.useContext)(u.I18nContext),{estimateUsed:k}=(0,d.useGasFeeContext)(),w=(null==y?void 0:y.low)&&Number(t)<Number(y.low.suggestedMaxPriorityFeePerGas),x=(0,c.usePrevious)(e),O=(0,c.usePrevious)(t),P=(0,c.usePrevious)(w);if((0,a.useEffect)((()=>{const n=t,a=e;(w||n&&n!==O||a&&a!==x)&&(0,h.getGasFeeTimeEstimate)(new s.default(n,10).toString(10),new s.default(a,10).toString(10)).then((r=>{e===a&&t===n&&E(r)})),!1!==w&&!0===P&&E(null)}),[t,e,w,x,O,P]),(null==n?void 0:n.maxPriorityFee)===g.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW||(null==n?void 0:n.maxFee)===g.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW)return a.default.createElement(f.default,{variant:m.TypographyVariant.H7,fontWeight:m.FONT_WEIGHT.BOLD,className:(0,i.default)("gas-timing","gas-timing--negative")},T("editGasTooLow"));if(v||o!==l.GasEstimateTypes.feeMarket)return null;const{low:C={},medium:M={},high:N={}}=y;let j="",S="positive";return Number(t)>=Number(M.suggestedMaxPriorityFeePerGas)?j=Number(t)<Number(N.suggestedMaxPriorityFeePerGas)?T("gasTimingPositive",[b(C.maxWaitTimeEstimate,T)]):T("gasTimingVeryPositive",[b(N.minWaitTimeEstimate,T)]):("low"===k&&(S="negative"),j=w?_&&"unknown"!==_&&"unknown"!==(null==_?void 0:_.upperTimeBound)?T("gasTimingNegative",[b(Number(null==_?void 0:_.upperTimeBound),T)]):T("editGasTooLow"):T("gasTimingNegative",[b(C.maxWaitTimeEstimate,T)])),a.default.createElement(f.default,{variant:m.TypographyVariant.H7,className:(0,i.default)("gas-timing",{[`gas-timing--${S}`]:S})},j)}_.propTypes={maxPriorityFeePerGas:o.default.string,maxFeePerGas:o.default.string,gasWarnings:o.default.object}}}},{package:"$root$",file:"ui/components/app/gas-timing/gas-timing.component.js"}],[3592,{"../../../contexts/i18n":4072,"../../../helpers/constants/design-system":4095,"../../component-library":3863,"../../ui/box":3927,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("prop-types")),o=u(e("classnames")),i=e("../../../contexts/i18n"),s=e("../../component-library"),l=u(e("../../ui/box")),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({buttonText:e,onLongPressed:t}){const n=(0,a.useContext)(i.I18nContext),r=(0,a.useRef)(!1),[u,d]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),m=e=>{e.stopPropagation()},h=()=>{r.current&&d(!0)},g=(0,a.useCallback)((e=>{t(),f(!0),m(e)}),[t]),y=()=>{d(!1),f(!1)},v=(0,a.useCallback)((()=>a.default.createElement(l.default,{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":u,"hold-to-reveal-button__main-icon-show":p})},a.default.createElement(l.default,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:14,cy:14,r:13}))),a.default.createElement(l.default,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{onTransitionEnd:h,className:"hold-to-reveal-button__circle-foreground",cx:14,cy:14,r:13}))),a.default.createElement(l.default,{display:c.DISPLAY.FLEX,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,className:"hold-to-reveal-button__lock-icon-container"},a.default.createElement("img",{src:"images/lock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[u,p,n]),b=(0,a.useCallback)((()=>u?a.default.createElement("div",{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":p}),onAnimationEnd:y},a.default.createElement("div",{onAnimationEnd:m,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),a.default.createElement("div",{onAnimationEnd:m,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),a.default.createElement("div",{className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:g},a.default.createElement("img",{src:"images/unlock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[u,p,g,n]);return a.default.createElement(s.Button,{onMouseDown:()=>{r.current=!0},onMouseUp:()=>{r.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:c.DISPLAY.FLEX,alignItems:c.AlignItems.center}},a.default.createElement(l.default,{className:"hold-to-reveal-button__icon-container",marginRight:2},v(),b()),e)}p.propTypes={buttonText:r.default.string.isRequired,onLongPressed:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js"}],[3593,{"./hold-to-reveal-button":3592},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./hold-to-reveal-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/index.js"}],[3594,{"../../ui/button":3931,"../../ui/check-box":3937,"../../ui/tooltip":4060,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=c(e("classnames")),o=c(e("prop-types")),i=c(e("../../ui/button")),s=c(e("../../ui/check-box")),l=c(e("../../ui/tooltip"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=({acceptText:e,checkboxText:t,checkboxTooltipText:n,classNames:o=[],descriptionText:c,ignoreText:u,infoText:d,onAccept:p,onIgnore:f})=>{const[m,h]=(0,a.useState)(!1),g=t&&a.default.createElement(s.default,{id:"homeNotification_checkbox",checked:m,className:"home-notification__checkbox",onClick:()=>h((e=>!e))});return a.default.createElement("div",{className:(0,r.default)("home-notification",...o)},a.default.createElement("div",{className:"home-notification__content"},a.default.createElement("div",{className:"home-notification__content-container"},a.default.createElement("div",{className:"home-notification__text"},c)),d?a.default.createElement(l.default,{position:"top",title:d,wrapperClassName:"home-notification__tooltip-wrapper"},a.default.createElement("i",{className:"fa fa-info-circle"})):null),a.default.createElement("div",{className:"home-notification__buttons"},p&&e?a.default.createElement(i.default,{type:"primary",className:"home-notification__accept-button",onClick:p},e):null,f&&u?a.default.createElement(i.default,{type:"secondary",className:"home-notification__ignore-button",onClick:()=>f(m)},u):null,t?a.default.createElement("div",{className:"home-notification__checkbox-wrapper"},n?a.default.createElement(l.default,{position:"top",title:n,wrapperClassName:"home-notification__checkbox-label-tooltip"},g):g,a.default.createElement("label",{className:"home-notification__checkbox-label",htmlFor:"homeNotification_checkbox"},t)):null))};d.propTypes={acceptText:o.default.node,checkboxText:o.default.node,checkboxTooltipText:o.default.node,classNames:o.default.array,descriptionText:o.default.node.isRequired,ignoreText:o.default.node,infoText:o.default.node,onAccept:o.default.func,onIgnore:o.default.func};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/home-notification/home-notification.component.js"}],[3595,{"./home-notification.component":3594},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./home-notification.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/home-notification/index.js"}],[3596,{"../../../../shared/constants/metametrics":3422,"../../../contexts/metametrics":4073,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/routes":4099,"../../../hooks/useI18nContext":4155,"../../../selectors":4461,"../../../store/actions":4468,"../../ui/box/box":3926,"../../ui/button":3931,react:3172,"react-redux":3125,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useContext)(p.MetaMetricsContext),t=(0,i.useI18nContext)(),n=(0,o.useHistory)(),h=(0,r.useSelector)(m.getIsTokenDetectionSupported),g=(0,r.useSelector)(m.getIsTokenDetectionInactiveOnMainnet),y=h||g||Boolean(!1);return a.default.createElement(c.default,{className:"import-token-link",textAlign:u.TEXT_ALIGN.CENTER},y&&a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{className:"import-token-link__link","data-testid":"refresh-list-button",type:"link",onClick:()=>(0,d.detectNewTokens)()},t("refreshList")),t("or")),a.default.createElement(l.default,{className:"import-token-link__link","data-testid":"import-token-button",type:"link",onClick:()=>{n.push(s.IMPORT_TOKEN_ROUTE),e({event:f.MetaMetricsEventName.TokenImportButtonClicked,category:f.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}})}},y?t("importTokens"):t("importTokens").charAt(0).toUpperCase()+t("importTokens").slice(1)))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/routes"),l=h(e("../../ui/button")),c=h(e("../../ui/box/box")),u=e("../../../helpers/constants/design-system"),d=e("../../../store/actions"),p=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),m=e("../../../selectors");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/import-token-link/import-token-link.component.js"}],[3597,{"./import-token-link.component":3596},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./import-token-link.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/import-token-link/index.js"}],[3598,{"./ledger-instruction-field":3599},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./ledger-instruction-field"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/index.js"}],[3599,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":3415,"../../../../shared/constants/hardware-wallets":3419,"../../../ducks/app/app":4079,"../../../ducks/metamask/metamask":4087,"../../../helpers/constants/design-system":4095,"../../../hooks/useI18nContext":4155,"../../../store/actions":4468,"../../ui/button":3931,"../../ui/dialog":3951,"../../ui/typography/typography":4065,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=y(e("prop-types")),i=e("../../../../shared/constants/hardware-wallets"),s=e("../../../../shared/constants/app"),l=e("../../../ducks/app/app"),c=y(e("../../ui/typography/typography")),u=y(e("../../ui/button")),d=e("../../../hooks/useI18nContext"),p=e("../../../helpers/constants/design-system"),f=y(e("../../ui/dialog")),m=e("../../../../app/scripts/lib/util"),h=e("../../../ducks/metamask/metamask"),g=e("../../../store/actions");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b=(e,t=!0,n=p.TextColor.textDefault)=>t&&a.default.createElement(c.default,{boxProps:{margin:0},color:n,fontWeight:p.FONT_WEIGHT.BOLD,variant:p.TypographyVariant.H7},e);function _({showDataInstruction:e}){const t=(0,d.useI18nContext)(),n=(0,r.useDispatch)(),o=(0,r.useSelector)(l.getLedgerWebHidConnectedStatus),c=(0,r.useSelector)(h.getLedgerTransportType),y=(0,r.useSelector)(l.getLedgerTransportStatus),v=(0,m.getEnvironmentType)()===s.ENVIRONMENT_TYPE_FULLSCREEN;(0,a.useEffect)((()=>{(async()=>{if(c===i.LedgerTransportTypes.webhid&&o===i.WebHIDConnectedStatuses.connected&&y===i.HardwareTransportStates.none)try{const e=await(0,g.attemptLedgerTransportCreation)();n((0,l.setLedgerTransportStatus)(e?i.HardwareTransportStates.verified:i.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,l.setLedgerTransportStatus)(i.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,l.setLedgerTransportStatus)(i.HardwareTransportStates.verified)):n((0,l.setLedgerTransportStatus)(i.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(c===i.LedgerTransportTypes.webhid&&o!==i.WebHIDConnectedStatuses.connected){const e=(await window.navigator.hid.getDevices()).some((e=>e.vendorId===Number(i.LEDGER_USB_VENDOR_ID)));n((0,l.setLedgerWebHidConnectedStatus)(e?i.WebHIDConnectedStatuses.connected:i.WebHIDConnectedStatuses.notConnected))}})()}),[n,c,o,y]),(0,a.useEffect)((()=>()=>{n((0,l.setLedgerTransportStatus)(i.HardwareTransportStates.none))}),[n]);const _=c===i.LedgerTransportTypes.live,E=c===i.LedgerTransportTypes.webhid,T=(0,m.getPlatform)()===s.PLATFORM_FIREFOX;return a.default.createElement("div",null,a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement(f.default,{type:"message"},a.default.createElement("div",{className:"ledger-live-dialog"},b(t("ledgerConnectionInstructionHeader")),b(`- ${t("ledgerConnectionInstructionStepOne")}`,!T&&_),b(`- ${t("ledgerConnectionInstructionStepTwo")}`,!T&&_),b(`- ${t("ledgerConnectionInstructionStepThree")}`),b(`- ${t("ledgerConnectionInstructionStepFour")}`,e),b(a.default.createElement("span",null,a.default.createElement(u.default,{type:"link",onClick:async()=>{v?window.location.reload():global.platform.openExtensionInBrowser(null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps"))),y===i.HardwareTransportStates.deviceOpenFailure),b(a.default.createElement("span",null,a.default.createElement(u.default,{type:"link",onClick:async()=>{if(v){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:i.LEDGER_USB_VENDOR_ID}]})).some((e=>e.vendorId===Number(i.LEDGER_USB_VENDOR_ID)));n((0,l.setLedgerWebHidConnectedStatus)({webHidConnectedStatus:e?i.WebHIDConnectedStatuses.connected:i.WebHIDConnectedStatuses.notConnected}))}else global.platform.openExtensionInBrowser(null,null,!0)}},t(v?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid"))),E&&o===i.WebHIDConnectedStatuses.notConnected,p.TextColor.WARNING_DEFAULT)))))}_.propTypes={showDataInstruction:o.default.bool}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/ledger-instruction-field.js"}],[3600,{"./loading-network-screen.container":3602},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./loading-network-screen.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/loading-network-screen/index.js"}],[3601,{"../../../../shared/constants/network":3423,"../../../../shared/constants/time":3430,"../../ui/button":3931,"../../ui/loading-screen":4e3,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=c(e("prop-types")),o=c(e("../../ui/button")),i=c(e("../../ui/loading-screen")),s=e("../../../../shared/constants/time"),l=e("../../../../shared/constants/network");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.PureComponent{constructor(...e){super(...e),d(this,"state",{showErrorScreen:!1}),d(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*s.SECOND)})),d(this,"getConnectingLabel",(function(e){if(e)return e;const{provider:t,providerId:n}=this.props,a=t.type,{t:r}=this.context;switch(a){case l.NETWORK_TYPES.MAINNET:return r("connectingToMainnet");case l.NETWORK_TYPES.GOERLI:return r("connectingToGoerli");case l.NETWORK_TYPES.SEPOLIA:return r("connectingToSepolia");case l.NETWORK_TYPES.LINEA_TESTNET:return r("connectingToLineaTestnet");default:return r("connectingTo",[n])}})),d(this,"renderDeprecatedRpcUrlWarning",(()=>{const{showNetworkDropdown:e}=this.props;return a.default.createElement("div",{className:"loading-overlay__error-screen"},a.default.createElement("span",{className:"loading-overlay__emoji"},"😞"),a.default.createElement("span",null,this.context.t("currentRpcUrlDeprecated")),a.default.createElement("div",{className:"loading-overlay__error-buttons"},a.default.createElement(o.default,{type:"secondary",onClick:()=>{window.clearTimeout(this.cancelCallTimeout),e()}},this.context.t("switchNetworks"))))})),d(this,"renderErrorScreenContent",(()=>{const{showNetworkDropdown:e,setProviderArgs:t,setProviderType:n}=this.props;return a.default.createElement("div",{className:"loading-overlay__error-screen"},a.default.createElement("span",{className:"loading-overlay__emoji"},"😞"),a.default.createElement("span",null,this.context.t("somethingWentWrong")),a.default.createElement("div",{className:"loading-overlay__error-buttons"},a.default.createElement(o.default,{type:"secondary",onClick:()=>{window.clearTimeout(this.cancelCallTimeout),e()}},this.context.t("switchNetworks")),a.default.createElement(o.default,{type:"primary",onClick:()=>{this.setState({showErrorScreen:!1}),n(...t),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*s.SECOND)}},this.context.t("tryAgain"))))})),d(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),d(this,"componentDidUpdate",(e=>{const{provider:t}=this.props,{provider:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*s.SECOND))})),d(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e,showDeprecatedRpcUrlWarning:t}=this.props;let n;return n=this.state.showErrorScreen?this.renderErrorScreenContent():t?this.renderDeprecatedRpcUrlWarning():this.getConnectingLabel(this.props.loadingMessage),a.default.createElement(i.default,{header:a.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:n})}}n.default=p,d(p,"contextTypes",{t:r.default.func}),d(p,"propTypes",{loadingMessage:r.default.string,cancelTime:r.default.number,provider:r.default.oneOfType([r.default.string,r.default.object]),providerId:r.default.oneOfType([r.default.string,r.default.number]),showNetworkDropdown:r.default.func,setProviderArgs:r.default.array,setProviderType:r.default.func,rollbackToPreviousProvider:r.default.func,isNetworkLoading:r.default.bool,showDeprecatedRpcUrlWarning:r.default.bool})}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.component.js"}],[3602,{"../../../../shared/constants/network":3423,"../../../selectors":4461,"../../../store/actions":4468,"./loading-network-screen.component":3601,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../shared/constants/network"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("../../../store/actions")),s=e("../../../selectors"),l=(a=e("./loading-network-screen.component"))&&a.__esModule?a:{default:a};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=["0x3","0x2a","0x4"];var d=(0,r.connect)((e=>{const{loadingMessage:t}=e.appState,{provider:n}=e.metamask,{rpcUrl:a,chainId:r,ticker:i,nickname:l,type:c}=n,d=c===o.NETWORK_TYPES.RPC?[a,r,i,l]:[n.type],p=null==n?void 0:n.chainId,f=u.includes(p),m=(null==n?void 0:n.rpcUrl)&&new URL(n.rpcUrl).host.endsWith(".infura.io"),h=f&&m;return{isNetworkLoading:(0,s.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:d,provider:n,providerId:(0,s.getNetworkIdentifier)(e),showDeprecatedRpcUrlWarning:h}}),(e=>({setProviderType:t=>{e(i.setProviderType(t))},rollbackToPreviousProvider:()=>e(i.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(i.showNetworkDropdown())})))(l.default);n.default=d}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.container.js"}],[3603,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":3415,"../../../../shared/constants/keyring":3420,"../../../../shared/constants/metametrics":3422,"../../../contexts/metametrics":4073,"../../../helpers/constants/routes":4099,"../../../helpers/utils/util":4133,"../../../hooks/useI18nContext":4155,"../../../selectors":4461,"../../../store/actions":4468,"../../component-library":3863,"../../ui/menu":4008,"@metamask/etherscan-link":1227,"prop-types":3027,react:3172,"react-redux":3125,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("react-router-dom"),s=e("react-redux"),l=e("@metamask/etherscan-link"),c=e("../../../store/actions"),u=e("../../../helpers/constants/routes"),d=e("../../../helpers/utils/util"),p=e("../../ui/menu"),f=e("../../../selectors"),m=e("../../../hooks/useI18nContext"),h=e("../../../../app/scripts/lib/util"),g=e("../../../../shared/constants/app"),y=e("../../../../shared/constants/keyring"),v=e("../../../../shared/constants/metametrics"),b=e("../../../contexts/metametrics"),_=e("../../component-library");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function T({anchorElement:e,onClose:t}){const n=(0,m.useI18nContext)(),a=(0,s.useDispatch)(),o=(0,i.useHistory)(),E=(0,s.useSelector)(f.getCurrentKeyring),T=(0,s.useSelector)(f.getCurrentChainId),k=(0,s.useSelector)(f.getRpcPrefsForCurrentProvider),w=(0,s.useSelector)(f.getSelectedIdentity),{address:x}=w,O=(0,l.getAccountLink)(x,T,k),{blockExplorerUrl:P}=k,C=(0,d.getURLHostName)(P),M=(0,r.useContext)(b.MetaMetricsContext),N=(0,s.useSelector)(f.getBlockExplorerLinkText),j=E.type!==y.KeyringType.hdKeyTree;return r.default.createElement(p.Menu,{anchorElement:e,className:"account-options-menu",onHide:t},r.default.createElement(p.MenuItem,{onClick:"addBlockExplorer"===N.firstPart?()=>{o.push(`${u.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{M({event:v.MetaMetricsEventName.ExternalLinkClicked,category:v.MetaMetricsEventCategory.Navigation,properties:{link_type:v.MetaMetricsEventLinkType.AccountTracker,location:"Account Options",url_domain:(0,d.getURLHostName)(O)}}),global.platform.openTab({url:O}),t()},subtitle:C?r.default.createElement("span",{className:"account-options-menu__explorer-origin"},C):null,iconName:_.IconName.Export},n(N.firstPart,""===N.secondPart?null:[n(N.secondPart)])),(0,h.getEnvironmentType)()===g.ENVIRONMENT_TYPE_FULLSCREEN?null:r.default.createElement(p.MenuItem,{onClick:()=>{M({event:v.MetaMetricsEventName.AppWindowExpanded,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Account Options"}}),global.platform.openExtensionInBrowser(),t()},iconName:_.IconName.Expand},n("expandView")),r.default.createElement(p.MenuItem,{"data-testid":"account-options-menu__account-details",onClick:()=>{a((0,c.showModal)({name:"ACCOUNT_DETAILS"})),M({event:v.MetaMetricsEventName.NavAccountDetailsOpened,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Account Options"}}),t()},iconName:_.IconName.ScanBarcode},n("accountDetails")),r.default.createElement(p.MenuItem,{"data-testid":"account-options-menu__connected-sites",onClick:()=>{M({event:v.MetaMetricsEventName.NavConnectedSitesOpened,category:v.MetaMetricsEventCategory.Navigation,properties:{location:"Account Options"}}),o.push(u.CONNECTED_ROUTE),t()},iconName:_.IconName.Connect},n("connectedSites")),j?r.default.createElement(p.MenuItem,{"data-testid":"account-options-menu__remove-account",onClick:()=>{a((0,c.showModal)({name:"CONFIRM_REMOVE_ACCOUNT",identity:w})),t()},iconName:_.IconName.Trash},n("removeAccount")):null)}T.propTypes={anchorElement:o.default.instanceOf(window.Element),onClose:o.default.func.isRequired},T.defaultProps={anchorElement:undefined}}}},{package:"$root$",file:"ui/components/app/menu-bar/account-options-menu.js"}],[3604,{"./menu-bar":3605},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./menu-bar"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/menu-bar/index.js"}],[3605,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":3415,"../../../../shared/constants/metametrics":3422,"../../../contexts/metametrics":4073,"../../../helpers/constants/routes":4099,"../../../hooks/useI18nContext":4155,"../../../selectors":4461,"../../component-library":3863,"../connected-status-indicator":3550,"../selected-account":3706,"./account-options-menu":3603,react:3172,"react-redux":3125,"react-router-dom":3145,"webextension-polyfill":3399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,f.useI18nContext)(),t=(0,a.useContext)(h.MetaMetricsContext),n=(0,o.useHistory)(),[v,b]=(0,a.useState)(!1),_=(0,i.useSelector)(m.getOriginOfCurrentTab),E=(0,a.useRef)(!1),T=(0,c.getEnvironmentType)()===u.ENVIRONMENT_TYPE_POPUP&&_&&_!==r.default.runtime.id;return a.default.createElement("div",{className:"menu-bar"},T?a.default.createElement(l.default,{onClick:()=>n.push(p.CONNECTED_ACCOUNTS_ROUTE)}):null,a.default.createElement(s.default,null),a.default.createElement("span",{style:{display:"inherit"},ref:E},a.default.createElement(g.ButtonIcon,{iconName:g.IconName.MoreVertical,className:"menu-bar__account-options","data-testid":"account-options-menu-button",ariaLabel:e("accountOptions"),onClick:()=>{t({event:d.MetaMetricsEventName.NavAccountMenuOpened,category:d.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}}),b(!0)}})),v&&a.default.createElement(y.default,{anchorElement:E.current,onClose:()=>b(!1)}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=v(e("webextension-polyfill")),o=e("react-router-dom"),i=e("react-redux"),s=v(e("../selected-account")),l=v(e("../connected-status-indicator")),c=e("../../../../app/scripts/lib/util"),u=e("../../../../shared/constants/app"),d=e("../../../../shared/constants/metametrics"),p=e("../../../helpers/constants/routes"),f=e("../../../hooks/useI18nContext"),m=e("../../../selectors"),h=e("../../../contexts/metametrics"),g=e("../../component-library"),y=v(e("./account-options-menu"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/menu-bar/menu-bar.js"}],[3606,{"prop-types":3027,react:3172,"react-dom":3072,"react-transition-group/CSSTransitionGroup":3158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("react-dom"),i=l(e("react-transition-group/CSSTransitionGroup"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.Component{constructor(...e){super(...e),c(this,"globalClickOccurred",(e=>{const{target:t}=e,n=(0,o.findDOMNode)(this);var a,r;this.props.isOpen&&t!==n&&!this.container.contains(e.target)&&(null===(a=(r=this.props).onClickOutside)||void 0===a||a.call(r,e))}))}renderPrimary(){const{isOpen:e}=this.props;if(!e)return null;const t=this.props.innerStyle||{};return r.default.createElement("div",{className:"menu-droppo",key:"menu-droppo-drawer","data-testid":"menu-droppo",style:t},this.props.children)}componentDidMount(){if(this&&document.body){document.body.addEventListener("click",this.globalClickOccurred);const e=(0,o.findDOMNode)(this);this.container=e}}componentWillUnmount(){this&&document.body&&document.body.removeEventListener("click",this.globalClickOccurred)}render(){const{containerClassName:e="",style:t}=this.props,n=this.props.speed||"300ms",{useCssTransition:a}=this.props,o={position:"fixed",...t,zIndex:"zIndex"in this.props?this.props.zIndex:0};return r.default.createElement("div",{style:o,className:`menu-droppo-container ${e}`,"data-testid":e},r.default.createElement("style",null,`\n          .menu-droppo-enter {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(-200%);\n          }\n\n          .menu-droppo-enter.menu-droppo-enter-active {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(0%);\n          }\n\n          .menu-droppo-leave {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(0%);\n          }\n\n          .menu-droppo-leave.menu-droppo-leave-active {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(-200%);\n          }\n        `),a?r.default.createElement(i.default,{className:"css-transition-group",transitionName:"menu-droppo",transitionEnterTimeout:parseInt(n,10),transitionLeaveTimeout:parseInt(n,10)},this.renderPrimary()):this.renderPrimary())}}n.default=u,c(u,"propTypes",{isOpen:a.default.bool.isRequired,innerStyle:a.default.object,children:a.default.node.isRequired,onClickOutside:a.default.func,containerClassName:a.default.string,zIndex:a.default.number,style:a.default.object.isRequired,useCssTransition:a.default.bool,speed:a.default.string})}}},{package:"$root$",file:"ui/components/app/menu-droppo.js"}],[3607,{"./metamask-template-renderer":3608,"./section-shape":3610},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SectionShape",{enumerable:!0,get:function(){return o.SectionShape}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./metamask-template-renderer"))&&a.__esModule?a:{default:a},o=e("./section-shape")}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/index.js"}],[3608,{"./safe-component-list":3609,"./section-shape":3610,lodash:2915,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("lodash"),o=e("./safe-component-list"),i=e("./section-shape");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function c(e){const{element:t}=e,n=o.safeComponentList[t];if(!n)throw new Error(`${t} is not in the safe component list for MetaMask template renderer`);return n}const u=({sections:e})=>{if(!e)return null;if("string"==typeof e)return e;if(e&&"object"==typeof e&&!Array.isArray(e)){const t=c(e);return a.default.createElement(t,e.props,"object"==typeof e.children?a.default.createElement(u,{sections:e.children}):null==e?void 0:e.children)}return a.default.createElement(a.default.Fragment,null,e.reduce(((e,t)=>{if(!0===(null==t?void 0:t.hide))return e;if("string"==typeof t)e.push(t);else{if(!t.key)throw new Error("When using array syntax in MetaMask Template Language, you must specify a key for each child of the array");if("object"==typeof(null==t?void 0:t.children))e.push(a.default.createElement(u,{sections:t,key:t.key}));else{const n=c(t);e.push(a.default.createElement(n,l({key:t.key},t.props),null==t?void 0:t.children))}}return e}),[]))};u.propTypes={sections:i.ValidChildren};var d=(0,a.memo)(u,((e,t)=>(0,r.isEqual)(e.sections,t.sections)));n.default=d}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/metamask-template-renderer.js"}],[3609,{"../../../pages/confirmation/components/confirmation-network-switch":4227,"../../ui/box":3927,"../../ui/button":3931,"../../ui/chip":3940,"../../ui/definition-list":3949,"../../ui/popover":4026,"../../ui/text-field":4050,"../../ui/textarea/textarea":4052,"../../ui/tooltip/tooltip":4061,"../../ui/truncated-definition-list":4062,"../../ui/typography":4064,"../../ui/url-icon":4069,"../metamask-translation":3611,"../network-display":3669},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.safeComponentList=void 0;var a=y(e("../../ui/button")),r=y(e("../../ui/chip")),o=y(e("../../ui/definition-list")),i=y(e("../../ui/truncated-definition-list")),s=y(e("../../ui/popover")),l=y(e("../../ui/typography")),c=y(e("../../ui/box")),u=y(e("../metamask-translation")),d=y(e("../network-display")),p=y(e("../../ui/textarea/textarea")),f=y(e("../../ui/text-field")),m=y(e("../../../pages/confirmation/components/confirmation-network-switch")),h=y(e("../../ui/url-icon")),g=y(e("../../ui/tooltip/tooltip"));function y(e){return e&&e.__esModule?e:{default:e}}const v={a:"a",b:"b",i:"i",p:"p",div:"div",span:"span",Box:c.default,Button:a.default,Chip:r.default,ConfirmationNetworkSwitch:m.default,DefinitionList:o.default,MetaMaskTranslation:u.default,NetworkDisplay:d.default,Popover:s.default,TextArea:p.default,TextField:f.default,Tooltip:g.default,TruncatedDefinitionList:i.default,Typography:l.default,UrlIcon:h.default};n.safeComponentList=v}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/safe-component-list.js"}],[3610,{"prop-types":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValidChildren=n.SectionShape=void 0;var a,r=(a=e("prop-types"))&&a.__esModule?a:{default:a};const o={props:r.default.object,element:r.default.string,key:r.default.string};n.SectionShape=o;const i=r.default.oneOfType([r.default.string,r.default.shape(o),r.default.arrayOf(r.default.oneOfType([r.default.shape(o),r.default.string]))]);n.ValidChildren=i,o.children=i}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/section-shape.js"}],[3611,{"./metamask-translation":3612},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./metamask-translation"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/metamask-translation/index.js"}],[3612,{"../../../hooks/useI18nContext":4155,"../metamask-template-renderer":3607,"../metamask-template-renderer/section-shape":3610,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=l(e("../metamask-template-renderer")),s=e("../metamask-template-renderer/section-shape");function l(e){return e&&e.__esModule?e:{default:e}}function c({translationKey:e,variables:t}){return(0,o.useI18nContext)()(e,null==t?void 0:t.map((t=>{if("object"==typeof t&&!Array.isArray(t)&&t.element){var n,r,o,s;if(!t.key)throw new Error(`When using MetaMask Template Language in a MetaMaskTranslation variable, you must provide a key for the section regardless of syntax.\n            Section with element '${t.element}' for translationKey: '${e}' has no key property`);if(t.children&&Array.isArray(t.children)&&t.children.length>2)throw new Error("MetaMaskTranslation only renders templates with a single section and maximum two children");if((null===(n=t.children)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.children)!==undefined&&"string"!=typeof t.children[0].children||(null===(o=t.children)||void 0===o||null===(s=o[1])||void 0===s?void 0:s.children)!==undefined&&"string"!=typeof t.children[1].children)throw new Error("MetaMaskTranslation does not allow for component trees of non trivial depth");return a.default.createElement(i.default,{key:`${e}-${t.key}`,sections:t})}return t})))}c.propTypes={translationKey:r.default.string.isRequired,variables:r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.number,r.default.shape(s.SectionShape)]))}}}},{package:"$root$",file:"ui/components/app/metamask-translation/metamask-translation.js"}],[3613,{"./modal-content":3614,"./modal.component":3616},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=o(e("./modal.component")),r=o(e("./modal-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modal/index.js"}],[3614,{"./modal-content.component":3615},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./modal-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modal/modal-content/index.js"}],[3615,{"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}class s extends r.PureComponent{render(){const{title:e,description:t}=this.props;return r.default.createElement("div",{className:"modal-content"},e?r.default.createElement("div",{className:"modal-content__title"},e):null,t&&r.default.createElement("div",{className:"modal-content__description"},t))}}n.default=s,function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(s,"propTypes",{title:o.default.string,description:o.default.string})}}},{package:"$root$",file:"ui/components/app/modal/modal-content/modal-content.component.js"}],[3616,{"../../ui/button":3931,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("prop-types")),o=s(e("classnames")),i=s(e("../../ui/button"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{render(){const{children:e,headerText:t,onClose:n,onSubmit:r,submitType:s,submitText:l,submitDisabled:c,onCancel:u,cancelType:d,cancelText:p,contentClass:f,containerClass:m,hideFooter:h}=this.props;return a.default.createElement("div",{className:(0,o.default)("modal-container",m)},t&&a.default.createElement("div",{className:"modal-container__header"},a.default.createElement("div",{className:"modal-container__header-text"},t),a.default.createElement("div",{className:"modal-container__header-close","data-testid":"modal-header-close",onClick:n})),a.default.createElement("div",{className:(0,o.default)("modal-container__content",f)},e),h?null:a.default.createElement("div",{className:"modal-container__footer"},u&&a.default.createElement(i.default,{type:d,onClick:u,className:"modal-container__footer-button"},p),a.default.createElement(i.default,{type:s,onClick:r,disabled:c,className:"modal-container__footer-button"},l)))}}n.default=u,c(u,"propTypes",{children:r.default.node,contentClass:r.default.string,containerClass:r.default.string,headerText:r.default.string,onClose:r.default.func,onSubmit:r.default.func,submitType:r.default.string,submitText:r.default.string,submitDisabled:r.default.bool,hideFooter:r.default.bool,onCancel:r.default.func,cancelType:r.default.string,cancelText:r.default.string}),c(u,"defaultProps",{submitType:"primary",cancelType:"secondary"})}}},{package:"$root$",file:"ui/components/app/modal/modal.component.js"}],[3617,{"../../../../../shared/constants/metametrics":3422,"../../../../helpers/constants/routes":4099,"../../../../helpers/utils/hardware":4119,"../../../../helpers/utils/util":4133,"../../../ui/button":3931,"../../../ui/editable-label":3957,"../../../ui/qr-code":4030,"../account-modal-container":3622,"@metamask/etherscan-link":1227,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=e("@metamask/etherscan-link"),i=m(e("../account-modal-container")),s=m(e("../../../ui/qr-code")),l=m(e("../../../ui/editable-label")),c=m(e("../../../ui/button")),u=e("../../../../helpers/utils/util"),d=e("../../../../helpers/utils/hardware"),p=e("../../../../../shared/constants/metametrics"),f=e("../../../../helpers/constants/routes");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{render(){const{selectedIdentity:e,chainId:t,showExportPrivateKeyModal:n,setAccountLabel:r,keyrings:m,rpcPrefs:h,history:g,hideModal:y,blockExplorerLinkText:v}=this.props,{name:b,address:_}=e,E=m.find((e=>e.accounts.includes(_)));let T=!0;(0,d.isHardwareKeyring)(null==E?void 0:E.type)&&(T=!1);return a.default.createElement(i.default,{className:"account-details-modal"},a.default.createElement(l.default,{className:"account-details-modal__name",defaultValue:b,onSubmit:e=>r(_,e),accounts:this.props.accounts}),a.default.createElement(s.default,{Qr:{data:_}}),a.default.createElement("div",{className:"account-details-modal__divider"}),a.default.createElement(c.default,{type:"secondary",className:"account-details-modal__button",onClick:"addBlockExplorer"===v.firstPart?()=>{y(),g.push(`${f.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{const e=(0,o.getAccountLink)(_,t,h);this.context.trackEvent({category:p.MetaMetricsEventCategory.Navigation,event:p.MetaMetricsEventName.ExternalLinkClicked,properties:{link_type:p.MetaMetricsEventLinkType.AccountTracker,location:"Account Details Modal",url_domain:(0,u.getURLHostName)(e)}}),global.platform.openTab({url:e})}},this.context.t(v.firstPart,[v.secondPart])),T&&a.default.createElement(c.default,{type:"secondary",className:"account-details-modal__button",onClick:()=>{this.context.trackEvent({category:p.MetaMetricsEventCategory.Accounts,event:p.MetaMetricsEventName.KeyExportSelected,properties:{key_type:p.MetaMetricsEventKeyType.Pkey,location:"Account Details Modal"}}),n()}},this.context.t("exportPrivateKey")))}}n.default=y,g(y,"propTypes",{selectedIdentity:r.default.object,chainId:r.default.string,showExportPrivateKeyModal:r.default.func,setAccountLabel:r.default.func,keyrings:r.default.array,rpcPrefs:r.default.object,accounts:r.default.array,history:r.default.object,hideModal:r.default.func,blockExplorerLinkText:r.default.object}),g(y,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/account-details-modal/account-details-modal.component.js"}],[3618,{"../../../../selectors":4461,"../../../../store/actions":4468,"./account-details-modal.component":3617,"react-redux":3125,"react-router-dom":3145,redux:3189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),i=e("react-router-dom"),s=e("../../../../store/actions"),l=e("../../../../selectors"),c=(a=e("./account-details-modal.component"))&&a.__esModule?a:{default:a};var u=(0,o.compose)(i.withRouter,(0,r.connect)((e=>({chainId:(0,l.getCurrentChainId)(e),selectedIdentity:(0,l.getSelectedIdentity)(e),keyrings:e.metamask.keyrings,rpcPrefs:(0,l.getRpcPrefsForCurrentProvider)(e),accounts:(0,l.getMetaMaskAccountsOrdered)(e),blockExplorerLinkText:(0,l.getBlockExplorerLinkText)(e,!0)})),(e=>({showExportPrivateKeyModal:()=>e((0,s.showModal)({name:"EXPORT_PRIVATE_KEY"})),setAccountLabel:(t,n)=>e((0,s.setAccountLabel)(t,n)),hideModal:()=>{e((0,s.hideModal)())}}))))(c.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/account-details-modal/account-details-modal.container.js"}],[3619,{"./account-details-modal.container":3618},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-details-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/account-details-modal/index.js"}],[3620,{"../../../ui/identicon":3989,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var a=s(e("prop-types")),r=s(e("react")),o=s(e("classnames")),i=s(e("../../../ui/identicon"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){const{className:n,selectedIdentity:a,showBackButton:s,backButtonAction:l,hideModal:c,children:u}=e;return r.default.createElement("div",{className:(0,o.default)(n,"account-modal"),style:{borderRadius:"4px"}},r.default.createElement("div",{className:"account-modal__container"},r.default.createElement("div",null,r.default.createElement(i.default,{address:a.address,diameter:64})),s&&r.default.createElement("div",{className:"account-modal__back",onClick:l},r.default.createElement("i",{className:"fa fa-angle-left fa-lg"}),r.default.createElement("span",{className:"account-modal__back-text"},t.t("back"))),r.default.createElement("button",{className:"account-modal__close",onClick:c}),u))}l.contextTypes={t:a.default.func},l.defaultProps={showBackButton:!1,children:null,backButtonAction:undefined},l.propTypes={className:a.default.string,selectedIdentity:a.default.object.isRequired,showBackButton:a.default.bool,backButtonAction:a.default.func,hideModal:a.default.func.isRequired,children:a.default.node}}}},{package:"$root$",file:"ui/components/app/modals/account-modal-container/account-modal-container.component.js"}],[3621,{"../../../../selectors":4461,"../../../../store/actions":4468,"./account-modal-container.component":3620,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),i=e("../../../../selectors"),s=(a=e("./account-modal-container.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((function(e,t){return{selectedIdentity:t.selectedIdentity||(0,i.getSelectedIdentity)(e)}}),(function(e){return{hideModal:()=>{e((0,o.hideModal)())}}}))(s.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/account-modal-container/account-modal-container.container.js"}],[3622,{"./account-modal-container.container":3621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-modal-container.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/account-modal-container/index.js"}],[3623,{"../../modal":3613,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=l(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),c(this,"handleDelete",(()=>{this.props.removeNetworkConfiguration(this.props.target).then((()=>{this.props.onConfirm(),this.props.hideModal()}))}))}render(){const{t:e}=this.context;return r.default.createElement(i.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary"},r.default.createElement(i.ModalContent,{title:e("deleteNetwork"),description:e("deleteNetworkDescription")}))}}n.default=u,c(u,"propTypes",{hideModal:o.default.func.isRequired,removeNetworkConfiguration:o.default.func.isRequired,onConfirm:o.default.func.isRequired,target:o.default.string.isRequired}),c(u,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.component.js"}],[3624,{"../../../../helpers/higher-order-components/with-modal-props":4110,"../../../../store/actions":4468,"./confirm-delete-network.component":3623,"react-redux":3125,redux:3189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-delete-network.component"));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.compose)(o.default,(0,a.connect)(null,(e=>({removeNetworkConfiguration:t=>e((0,i.removeNetworkConfiguration)(t))}))))(s.default);n.default=c}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.container.js"}],[3625,{"./confirm-delete-network.container":3624},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-delete-network.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/index.js"}],[3626,{"../../../../../shared/constants/metametrics":3422,"../../../../helpers/constants/zendesk-url":4102,"../../../../helpers/utils/util":4133,"../../../ui/identicon":3989,"../../modal":3613,"@metamask/etherscan-link":1227,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=e("@metamask/etherscan-link"),i=d(e("../../modal")),s=e("../../../../helpers/utils/util"),l=d(e("../../../ui/identicon")),c=e("../../../../../shared/constants/metametrics"),u=d(e("../../../../helpers/constants/zendesk-url"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),f(this,"handleRemove",(()=>{this.props.removeAccount(this.props.identity.address).then((()=>this.props.hideModal()))})),f(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t:e}=this.context,{identity:t,rpcPrefs:n,chainId:r}=this.props;return a.default.createElement("div",{className:"confirm-remove-account__account"},a.default.createElement("div",{className:"confirm-remove-account__account__identicon"},a.default.createElement(l.default,{address:t.address,diameter:32})),a.default.createElement("div",{className:"confirm-remove-account__account__name"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),a.default.createElement("span",{className:"account_value"},t.name)),a.default.createElement("div",{className:"confirm-remove-account__account__address"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),a.default.createElement("span",{className:"account_value"},(0,s.addressSummary)(t.address,4,4))),a.default.createElement("div",{className:"confirm-remove-account__account__link"},a.default.createElement("a",{onClick:()=>{const e=(0,o.getAccountLink)(t.address,r,n);this.context.trackEvent({category:c.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,s.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView")},a.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return a.default.createElement(i.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},a.default.createElement("div",null,this.renderSelectedAccount(),a.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),a.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:u.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=m,f(m,"propTypes",{hideModal:r.default.func.isRequired,removeAccount:r.default.func.isRequired,identity:r.default.object.isRequired,chainId:r.default.string.isRequired,rpcPrefs:r.default.object.isRequired}),f(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.component.js"}],[3627,{"../../../../helpers/higher-order-components/with-modal-props":4110,"../../../../selectors":4461,"../../../../store/actions":4468,"./confirm-remove-account.component":3626,"react-redux":3125,redux:3189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=c(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=e("../../../../store/actions"),l=c(e("./confirm-remove-account.component"));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.compose)(o.default,(0,a.connect)((e=>({chainId:(0,i.getCurrentChainId)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e)})),(e=>({removeAccount:t=>e((0,s.removeAccount)(t))}))))(l.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.container.js"}],[3628,{"./confirm-remove-account.container":3627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-remove-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/index.js"}],[3629,{"../../modal":3613,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=l(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),c(this,"handleReset",(()=>{this.props.resetAccount().then((()=>this.props.hideModal()))}))}render(){const{t:e}=this.context;return r.default.createElement(i.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("clear"),cancelText:e("nevermind"),submitType:"danger-primary"},r.default.createElement(i.ModalContent,{title:`${e("clearActivity")}?`,description:e("clearActivityDescription")}))}}n.default=u,c(u,"propTypes",{hideModal:o.default.func.isRequired,resetAccount:o.default.func.isRequired}),c(u,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.component.js"}],[3630,{"../../../../helpers/higher-order-components/with-modal-props":4110,"../../../../store/actions":4468,"./confirm-reset-account.component":3629,"react-redux":3125,redux:3189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.compose)(o.default,(0,a.connect)(null,(e=>({resetAccount:()=>e((0,i.resetAccount)())}))))(s.default);n.default=c}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.container.js"}],[3631,{"./confirm-reset-account.container":3630},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-reset-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/index.js"}],[3632,{"../../../../../shared/constants/transaction":3432,"../../../../helpers/constants/design-system":4095,"../../../../hooks/useCopyToClipboard":4148,"../../../../hooks/useI18nContext":4155,"../../../../pages/send/send.utils":4338,"../../../../selectors":4461,"../../../component-library":3863,"../../../ui/box":3927,"../../../ui/button/button.component":3930,"../../../ui/identicon":3989,"../../../ui/nft-collection-image/nft-collection-image":4015,"../../../ui/popover":4026,"../../../ui/tooltip/tooltip":4061,"../../../ui/typography":4064,"@metamask/etherscan-link":1227,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=E(e("react")),r=E(e("prop-types")),o=e("@metamask/etherscan-link"),i=e("react-redux"),s=E(e("../../../ui/box")),l=E(e("../../../ui/button/button.component")),c=E(e("../../../ui/tooltip/tooltip")),u=e("../../../../hooks/useI18nContext"),d=E(e("../../../ui/identicon")),p=e("../../../../pages/send/send.utils"),f=E(e("../../../ui/popover")),m=E(e("../../../ui/typography")),h=e("../../../../helpers/constants/design-system"),g=e("../../../../hooks/useCopyToClipboard"),y=e("../../../../selectors"),v=e("../../../../../shared/constants/transaction"),b=E(e("../../../ui/nft-collection-image/nft-collection-image")),_=e("../../../component-library");function E(e){return e&&e.__esModule?e:{default:e}}function T({onClose:e,tokenName:t,tokenAddress:n,toAddress:r,chainId:E,rpcPrefs:T,tokenId:k,assetName:w,assetStandard:x,isContractRequestingSignature:O}){var P,C;const M=(0,u.useI18nContext)(),[N,j]=(0,g.useCopyToClipboard)(),[S,I]=(0,g.useCopyToClipboard)(),A=(0,i.useSelector)((e=>({data:(0,y.getAddressBookEntry)(e,r)}))),D=x===v.TokenStandard.ERC721||x===v.TokenStandard.ERC1155||w&&k||t&&k;return a.default.createElement(f.default,{className:"contract-details-modal"},a.default.createElement(s.default,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},a.default.createElement(m.default,{fontWeight:h.FONT_WEIGHT.BOLD,variant:h.TypographyVariant.H5,display:h.DISPLAY.FLEX,boxProps:{marginTop:0,marginBottom:0}},M("contractTitle")),a.default.createElement(m.default,{variant:h.TypographyVariant.H7,display:h.DISPLAY.FLEX,color:h.TextColor.textAlternative,boxProps:{marginTop:2,marginBottom:0}},M("contractDescription")),!O&&a.default.createElement(a.default.Fragment,null,a.default.createElement(m.default,{variant:h.TypographyVariant.H6,display:h.DISPLAY.FLEX,marginTop:4,marginBottom:2},M(D?"contractNFT":"contractToken")),a.default.createElement(s.default,{display:h.DISPLAY.FLEX,borderRadius:h.Size.SM,borderStyle:h.BorderStyle.solid,borderColor:h.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},D?a.default.createElement(s.default,{margin:4},a.default.createElement(b.default,{assetName:w,tokenAddress:n})):a.default.createElement(d.default,{className:"contract-details-modal__content__contract__identicon",address:n,diameter:24}),a.default.createElement(s.default,{"data-testid":"recipient"},a.default.createElement(m.default,{fontWeight:h.FONT_WEIGHT.BOLD,variant:h.TypographyVariant.H5,marginTop:4},t||(0,p.ellipsify)(n)),t&&a.default.createElement(m.default,{variant:h.TypographyVariant.H6,display:h.DISPLAY.FLEX,color:h.TextColor.textAlternative,marginTop:0,marginBottom:4},(0,p.ellipsify)(n))),a.default.createElement(s.default,{alignItems:h.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(c.default,{position:"top",title:M(N?"copiedExclamation":"copyToClipboard")},a.default.createElement(_.ButtonIcon,{display:h.DISPLAY.FLEX,iconName:N?_.IconName.CopySuccess:_.IconName.Copy,onClick:()=>j(n),color:h.Color.iconMuted,ariaLabel:M(N?"copiedExclamation":"copyToClipboard")})),a.default.createElement(c.default,{position:"top",title:M("openInBlockExplorer")},a.default.createElement(_.ButtonIcon,{display:h.DISPLAY.FLEX,iconName:_.IconName.Export,color:h.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(n,E,{blockExplorerUrl:(null==T?void 0:T.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:M("openInBlockExplorer")}))))),a.default.createElement(m.default,{variant:h.TypographyVariant.H6,display:h.DISPLAY.FLEX,marginTop:4,marginBottom:2},D&&M("contractRequestingAccess"),O&&M("contractRequestingSignature"),!D&&!O&&M("contractRequestingSpendingCap")),a.default.createElement(s.default,{display:h.DISPLAY.FLEX,borderRadius:h.Size.SM,borderStyle:h.BorderStyle.solid,borderColor:h.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},a.default.createElement(d.default,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:r}),a.default.createElement(s.default,{"data-testid":"recipient"},a.default.createElement(m.default,{fontWeight:h.FONT_WEIGHT.BOLD,variant:h.TypographyVariant.H5,marginTop:4},(null==A||null===(P=A.data)||void 0===P?void 0:P.name)||(0,p.ellipsify)(r)),(null==A||null===(C=A.data)||void 0===C?void 0:C.name)&&a.default.createElement(m.default,{variant:h.TypographyVariant.H6,display:h.DISPLAY.FLEX,color:h.TextColor.textAlternative,marginTop:0,marginBottom:4},(0,p.ellipsify)(r))),a.default.createElement(s.default,{alignItems:h.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(c.default,{position:"top",title:M(S?"copiedExclamation":"copyToClipboard")},a.default.createElement(_.ButtonIcon,{display:h.DISPLAY.FLEX,iconName:S?_.IconName.CopySuccess:_.IconName.Copy,onClick:()=>I(r),color:h.Color.iconMuted,ariaLabel:M(N?"copiedExclamation":"copyToClipboard")})),a.default.createElement(c.default,{position:"top",title:M("openInBlockExplorer")},a.default.createElement(_.ButtonIcon,{display:h.DISPLAY.FLEX,iconName:_.IconName.Export,color:h.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(r,E,{blockExplorerUrl:(null==T?void 0:T.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:M("openInBlockExplorer")}))))),a.default.createElement(s.default,{display:h.DISPLAY.FLEX,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},a.default.createElement(l.default,{type:"primary",onClick:()=>e()},M("recoveryPhraseReminderConfirm"))))}T.propTypes={onClose:r.default.func,tokenName:r.default.string,tokenAddress:r.default.string,toAddress:r.default.string,chainId:r.default.string,rpcPrefs:r.default.object,tokenId:r.default.string,assetStandard:r.default.string,assetName:r.default.string,isContractRequestingSignature:r.default.bool}}}},{package:"$root$",file:"ui/components/app/modals/contract-details-modal/contract-details-modal.js"}],[3633,{"../../../../../shared/modules/string-utils":3457,"../../../../ducks/metamask/metamask":4087,"../../../../helpers/constants/design-system":4095,"../../../../helpers/constants/routes":4099,"../../../../helpers/higher-order-components/with-modal-props":4110,"../../../../hooks/useI18nContext":4155,"../../../../store/actions":4468,"../../../ui/typography":4064,"../../modal":3613,"prop-types":3027,react:3172,"react-redux":3125,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("react")),r=g(e("prop-types")),o=e("react-router-dom"),i=e("react-redux"),s=g(e("../../modal")),l=g(e("../../../ui/typography")),c=e("../../../../helpers/constants/design-system"),u=g(e("../../../../helpers/higher-order-components/with-modal-props")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../helpers/constants/routes"),f=e("../../../../ducks/metamask/metamask"),m=e("../../../../store/actions"),h=e("../../../../../shared/modules/string-utils");function g(e){return e&&e.__esModule?e:{default:e}}const y=({hideModal:e,tokenAddress:t})=>{const n=(0,o.useHistory)(),r=(0,d.useI18nContext)(),u=(0,i.useDispatch)(),g=(0,i.useSelector)(f.getNfts).find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,t)));return a.default.createElement(s.default,{onSubmit:async()=>{if(g){await u((0,m.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0}));const{tokenId:e}=g;n.push({pathname:`${p.ASSET_ROUTE}/${t}/${e}`})}else n.push({pathname:p.ADD_NFT_ROUTE,state:{tokenAddress:t}});e()},submitText:r("yes"),onCancel:()=>e(),cancelText:r("cancel")},a.default.createElement("div",{className:"convert-token-to-nft-modal"},a.default.createElement(l.default,{variant:c.TypographyVariant.H6,boxProps:{marginTop:2}},r(g?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};y.propTypes={hideModal:r.default.func.isRequired,tokenAddress:r.default.string};var v=(0,u.default)(y);n.default=v}}},{package:"$root$",file:"ui/components/app/modals/convert-token-to-nft-modal/convert-token-to-nft-modal.js"}],[3634,{"../../../../helpers/constants/design-system":4095,"../../../../helpers/constants/zendesk-url":4102,"../../../../helpers/higher-order-components/with-modal-props":4110,"../../../../hooks/useI18nContext":4155,"../../../component-library":3863,"../../../ui/box":3927,"../../../ui/button":3931,"../../../ui/text-field":4050,"../../../ui/typography":4064,"../../modal":3613,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=h(e("prop-types")),o=h(e("../../modal")),i=h(e("../../../ui/text-field")),s=h(e("../../../ui/button")),l=h(e("../../../ui/typography")),c=e("../../../../helpers/constants/design-system"),u=h(e("../../../ui/box")),d=h(e("../../../../helpers/higher-order-components/with-modal-props")),p=e("../../../../hooks/useI18nContext"),f=h(e("../../../../helpers/constants/zendesk-url")),m=e("../../../component-library");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const y=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:r,getNextNonce:d})=>{const[h,g]=(0,a.useState)(""),y=(0,p.useI18nContext)();return a.default.createElement(o.default,{onSubmit:()=>{r(""===h?t:h),d(),e()},submitText:y("save"),onCancel:()=>e(),cancelText:y("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},a.default.createElement("div",{className:"customize-nonce-modal"},a.default.createElement("div",{className:"customize-nonce-modal__main-header"},a.default.createElement(l.default,{className:"customize-nonce-modal__main-title",variant:c.TypographyVariant.H4,fontWeight:c.FONT_WEIGHT.BOLD},y("editNonceField")),a.default.createElement(m.ButtonIcon,{iconName:m.IconName.Close,className:"customize-nonce-modal__close",size:m.ButtonIconSize.Sm,ariaLabel:y("close"),onClick:e})),a.default.createElement(u.default,{marginTop:2,display:c.DISPLAY.INLINE_FLEX,alignItems:c.AlignItems.center},a.default.createElement(l.default,{variant:c.TypographyVariant.H6,fontWeight:c.FONT_WEIGHT.NORMAL},y("editNonceMessage"),a.default.createElement(s.default,{type:"link",className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:f.default.CUSTOMIZE_NONCE},y("learnMoreUpperCase")))),a.default.createElement(u.default,{marginTop:3},a.default.createElement(u.default,{alignItems:c.AlignItems.center,display:c.DISPLAY.FLEX},a.default.createElement(l.default,{variant:c.TypographyVariant.H6,fontWeight:c.FONT_WEIGHT.BOLD,boxProps:{width:c.BLOCK_SIZES.FIVE_SIXTHS}},y("editNonceField")),a.default.createElement(u.default,{width:c.BLOCK_SIZES.ONE_SIXTH},a.default.createElement(s.default,{type:"link",className:"customize-nonce-modal__reset",onClick:()=>{g(n)}},y("reset")))),a.default.createElement("div",{className:"customize-nonce-modal__input"},a.default.createElement(i.default,{type:"number",min:"0",placeholder:t||"number"==typeof n&&n.toString(),onChange:e=>{g(e.target.value)},fullWidth:!0,margin:"dense",value:h,id:"custom-nonce-id"})))))};y.propTypes={hideModal:r.default.func.isRequired,customNonceValue:r.default.string,nextNonce:r.default.number,updateCustomNonce:r.default.func,getNextNonce:r.default.func};var v=(0,d.default)(y);n.default=v}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/customize-nonce.component.js"}],[3635,{"./customize-nonce.component":3634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./customize-nonce.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/index.js"}],[3636,{"../../../../../shared/lib/transactions-controller-utils":3440,"../../../component-library":3863,"../../../ui/identicon":3989,"../../../ui/text-field":4050,"../../modal":3613,"bignumber.js":1858,classnames:1987,loglevel:2927,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=f(e("loglevel")),i=f(e("classnames")),s=f(e("bignumber.js")),l=f(e("../../modal")),c=f(e("../../../ui/identicon")),u=f(e("../../../ui/text-field")),d=e("../../../../../shared/lib/transactions-controller-utils"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=new s.default(2).pow(256).minus(1).toString(10);class y extends a.PureComponent{constructor(...e){super(...e),h(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedIdentity:r,tokenAmount:o,tokenSymbol:l,tokenBalance:f,customTokenAmount:m,origin:h}=this.props,{name:y,address:v}=r||{},{selectedOptionIsUnlimited:b}=this.state;return a.default.createElement("div",{className:"edit-approval-permission"},a.default.createElement("div",{className:"edit-approval-permission__header"},a.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.Close,size:p.ButtonIconSize.Lg,className:"edit-approval-permission__header__close",onClick:n})),a.default.createElement("div",{className:"edit-approval-permission__account-info"},a.default.createElement("div",{className:"edit-approval-permission__account-info__account"},a.default.createElement(c.default,{address:v,diameter:32}),a.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},a.default.createElement("div",{className:"edit-approval-permission__account-info__name"},y),a.default.createElement("div",null,t("balance")))),a.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${(0,d.toPrecisionWithoutTrailingZeros)(f,9)} ${l}`)),a.default.createElement("div",{className:"edit-approval-permission__edit-section"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[h])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":!b,"edit-approval-permission__edit-section__radio-button-outline--selected":b})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),b&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":!b,"edit-approval-permission__edit-section__option-label--selected":b})},new s.default(o).equals(new s.default(g))?t("unlimited"):t("proposedApprovalLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[h])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(o)} ${l}`))),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":b,"edit-approval-permission__edit-section__radio-button-outline--selected":!b})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!b&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":b,"edit-approval-permission__edit-section__option-label--selected":!b})},t("customSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},a.default.createElement(u.default,{type:"number",placeholder:`${Number(m||o)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),b&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:a,customSpendLimit:r}=this.state;if(a||!r)return undefined;let i;try{i=new s.default(r)}catch(t){return o.default.debug(`Error converting '${r}' to BigNumber:`,t),e("spendLimitInvalid")}if(i.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(g,t);return i.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&i.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:r}=this.props,{selectedOptionIsUnlimited:o,customSpendLimit:i}=this.state,s=this.validateSpendLimit(),c=Boolean(i===r&&!o||s);return a.default.createElement(l.default,{onSubmit:()=>{t(o?"":i),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:c},this.renderModalContent(s))}}n.default=y,h(y,"propTypes",{decimals:r.default.number,hideModal:r.default.func.isRequired,selectedIdentity:r.default.object,tokenAmount:r.default.string,customTokenAmount:r.default.string,tokenSymbol:r.default.string,tokenBalance:r.default.string,setCustomAmount:r.default.func,origin:r.default.string.isRequired,requiredMinimum:r.default.instanceOf(s.default)}),h(y,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.component.js"}],[3637,{"../../../../helpers/higher-order-components/with-modal-props":4110,"../../../../selectors":4461,"./edit-approval-permission.component":3636,"react-redux":3125,redux:3189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.compose)(o.default,(0,a.connect)((e=>{const t=e.appState.modal.modalState.props||{};return{selectedIdentity:(0,i.getSelectedIdentity)(e),...t}})))(s.default);n.default=c}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.container.js"}],[3638,{"./edit-approval-permission.container":3637},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-approval-permission.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/index.js"}],[3639,{"../../../../../shared/constants/metametrics":3422,"../../../../../shared/modules/hexstring-utils":3450,"../../../ui/button":3931,"../account-modal-container":3622,"copy-to-clipboard":2039,loglevel:2927,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("loglevel")),r=p(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=p(e("copy-to-clipboard")),s=p(e("../../../ui/button")),l=p(e("../account-modal-container")),c=e("../../../../../shared/modules/hexstring-utils"),u=e("../../../../../shared/constants/metametrics");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.Component{constructor(...e){super(...e),f(this,"state",{password:"",privateKey:null,showWarning:!0}),f(this,"exportAccountAndGetPrivateKey",((e,t)=>{const{exportAccount:n}=this.props;n(e,t).then((e=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.KeyExportRevealed,properties:{key_type:u.MetaMetricsEventKeyType.Pkey}}),this.setState({privateKey:e,showWarning:!1})})).catch((e=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.KeyExportFailed,properties:{key_type:u.MetaMetricsEventKeyType.Pkey,reason:"incorrect_password"}}),a.default.error(e)}))}))}componentWillUnmount(){this.props.clearAccountDetails(),this.props.hideWarning()}renderPasswordLabel(e){return o.default.createElement("span",{className:"export-private-key-modal__password-label"},e?this.context.t("copyPrivateKey"):this.context.t("typePassword"))}renderPasswordInput(e){const t=e&&(0,c.stripHexPrefix)(e);return e?o.default.createElement("div",{className:"export-private-key-modal__private-key-display",onClick:()=>{(0,i.default)(t),this.context.trackEvent({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.KeyExportCopied,properties:{key_type:u.MetaMetricsEventKeyType.Pkey,copy_method:"clipboard"}})}},t):o.default.createElement("input",{type:"password",className:"export-private-key-modal__password-input",onChange:e=>this.setState({password:e.target.value})})}renderButtons(e,t,n){return o.default.createElement("div",{className:"export-private-key-modal__buttons"},!e&&o.default.createElement(s.default,{type:"secondary",large:!0,className:"export-private-key-modal__button export-private-key-modal__button--cancel",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.KeyExportCanceled,properties:{key_type:u.MetaMetricsEventKeyType.Pkey}}),n()}},this.context.t("cancel")),e?o.default.createElement(s.default,{onClick:()=>{n()},type:"primary",large:!0,className:"export-private-key-modal__button"},this.context.t("done")):o.default.createElement(s.default,{onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.KeyExportRequested,properties:{key_type:u.MetaMetricsEventKeyType.Pkey}}),this.exportAccountAndGetPrivateKey(this.state.password,t)},type:"primary",large:!0,className:"export-private-key-modal__button",disabled:!this.state.password},this.context.t("confirm")))}render(){const{selectedIdentity:e,warning:t,showAccountDetailModal:n,hideModal:a,previousModalState:r}=this.props,{name:i,address:s}=e,{privateKey:u,showWarning:d}=this.state;return o.default.createElement(l.default,{className:"export-private-key-modal",selectedIdentity:e,showBackButton:"ACCOUNT_DETAILS"===r,backButtonAction:()=>n()},o.default.createElement("span",{className:"export-private-key-modal__account-name"},i),o.default.createElement("div",{className:"ellip-address-wrapper"},(0,c.toChecksumHexAddress)(s)),o.default.createElement("div",{className:"export-private-key-modal__divider"}),o.default.createElement("span",{className:"export-private-key-modal__body-title"},this.context.t("showPrivateKeys")),o.default.createElement("div",{className:"export-private-key-modal__password"},this.renderPasswordLabel(u),this.renderPasswordInput(u),d&&t?o.default.createElement("span",{className:"export-private-key-modal__password--error"},t):null),o.default.createElement("div",{className:"export-private-key-modal__password--warning"},this.context.t("privateKeyWarning")),this.renderButtons(u,s,a))}}n.default=m,f(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),f(m,"defaultProps",{warning:null,previousModalState:null}),f(m,"propTypes",{exportAccount:r.default.func.isRequired,selectedIdentity:r.default.object.isRequired,warning:r.default.node,showAccountDetailModal:r.default.func.isRequired,hideModal:r.default.func.isRequired,hideWarning:r.default.func.isRequired,clearAccountDetails:r.default.func.isRequired,previousModalState:r.default.string})}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/export-private-key-modal.component.js"}],[3640,{"../../../../selectors":4461,"../../../../store/actions":4468,"./export-private-key-modal.component":3639,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),i=e("../../../../selectors"),s=(a=e("./export-private-key-modal.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((function(){let e=null;return function(t){return e=e||(0,i.getSelectedIdentity)(t),{warning:t.appState.warning,privateKey:t.appState.accountDetail.privateKey,selectedIdentity:e,previousModalState:t.appState.modal.previousModalState.name}}}),(function(e){return{exportAccount:(t,n)=>e((0,o.exportAccount)(t,n)).then((t=>(e((0,o.hideWarning)()),t))),showAccountDetailModal:()=>e((0,o.showModal)({name:"ACCOUNT_DETAILS"})),hideModal:()=>e((0,o.hideModal)()),hideWarning:()=>e((0,o.hideWarning)()),clearAccountDetails:()=>e((0,o.clearAccountDetails)())}}))(s.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/export-private-key-modal.container.js"}],[3641,{"./export-private-key-modal.container":3640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./export-private-key-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/export-private-key-modal/index.js"}],[3642,{"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,c=0;const u=e=>{const t=`anim_${++c}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((a=>{const r=`:${e[t][a]};`;n+=a+r})),n+="}"})),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:u({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:u({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:u({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:u({"0%":{opacity:.9},"100%":{opacity:0}})},p=["transitionend","animationend"];class f extends r.Component{constructor(...e){super(...e),s(this,"content",null),s(this,"state",{willHide:!0,hidden:!0}),s(this,"addTransitionListener",((e,t)=>{if(e){const n=function(a){a&&a.target!==e||(((e,t)=>{0!==p.length&&p.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==p.length?p.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),s(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),s(this,"hasHidden",(()=>this.state.hidden)),s(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),s(this,"enter",(()=>{this.props.onShow()})),s(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),s(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),s(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),s(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),s(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),s(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t}=this.props,n={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},a={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},o=this.props.backdrop?r.default.createElement("div",{className:"modal__backdrop",style:n,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),r.default.createElement("span",null,r.default.createElement("div",{className:"modal",style:t},r.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:a},this.props.children)),o)}}s(f,"propTypes",{backdrop:o.default.bool,backdropStyle:o.default.object,closeOnClick:o.default.bool,contentStyle:o.default.object,keyboard:o.default.bool,modalStyle:o.default.object,onShow:o.default.func,onHide:o.default.func,children:o.default.node}),s(f,"defaultProps",{onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/modals/fade-modal.js"}],[3643,{"../../../../helpers/constants/routes":4099,"../../../../store/actions":4468,"../../../ui/button":3931,"../../../ui/identicon":3989,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("prop-types")),r=d(e("react")),o=e("react-redux"),i=d(e("../../../../store/actions")),s=p(e("../../../ui/identicon")),l=p(e("../../../ui/button")),c=e("../../../../helpers/constants/routes");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{constructor(...e){super(...e),f(this,"state",{})}render(){const{token:e,hideToken:t,hideModal:n,history:a}=this.props,{symbol:o,address:i,image:u}=e;return r.default.createElement("div",{className:"hide-token-confirmation"},r.default.createElement("div",{className:"hide-token-confirmation__container"},r.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),r.default.createElement(s.default,{className:"hide-token-confirmation__identicon",diameter:45,address:i,image:u}),r.default.createElement("div",{className:"hide-token-confirmation__symbol"},o),r.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),r.default.createElement("div",{className:"hide-token-confirmation__buttons"},r.default.createElement(l.default,{type:"secondary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__cancel",onClick:()=>n()},this.context.t("cancel")),r.default.createElement(l.default,{type:"primary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__hide",onClick:()=>{t(i),a.push(c.DEFAULT_ROUTE)}},this.context.t("hide")))))}}f(m,"contextTypes",{t:a.default.func}),f(m,"propTypes",{hideToken:a.default.func.isRequired,hideModal:a.default.func.isRequired,token:a.default.shape({symbol:a.default.string,address:a.default.string,image:a.default.string}),history:a.default.object});var h=(0,o.connect)((function(e){return{token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history}}),(function(e){return{hideModal:()=>e(i.hideModal()),hideToken:t=>{e(i.ignoreTokens({tokensToIgnore:t})).then((()=>{e(i.hideModal())}))}}}))(m);n.default=h}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/hide-token-confirmation-modal.js"}],[3644,{"./hide-token-confirmation-modal":3643},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./hide-token-confirmation-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[3645,{"../../../../helpers/constants/design-system":4095,"../../../../helpers/constants/zendesk-url":4102,"../../../../helpers/higher-order-components/with-modal-props":4110,"../../../../hooks/useI18nContext":4155,"../../../component-library":3863,"../../../ui/box":3927,"../../hold-to-reveal-button":3593,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("prop-types")),r=p(e("react")),o=p(e("../../../../helpers/higher-order-components/with-modal-props")),i=p(e("../../../ui/box")),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=p(e("../../hold-to-reveal-button")),u=e("../../../../hooks/useI18nContext"),d=p(e("../../../../helpers/constants/zendesk-url"));function p(e){return e&&e.__esModule?e:{default:e}}const f=({onLongPressed:e,hideModal:t})=>{const n=(0,u.useI18nContext)();return r.default.createElement(i.default,{className:"hold-to-reveal-modal",display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.flexStart,padding:6},r.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.ROW,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,marginBottom:6},r.default.createElement(s.Text,{variant:l.TextVariant.headingSm},n("holdToRevealTitle")),r.default.createElement(s.ButtonIcon,{className:"hold-to-reveal-modal__close",iconName:s.IconName.Close,size:l.Size.SM,onClick:()=>{t()},ariaLabel:n("close")})),r.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,gap:4,marginBottom:6},r.default.createElement(s.Text,{variant:l.TextVariant.bodyMd},n("holdToRevealContent1",[r.default.createElement(s.Text,{key:"hold-to-reveal-2",variant:l.TextVariant.bodyMdBold,as:"span"},n("holdToRevealContent2"))])),r.default.createElement(s.Text,{variant:l.TextVariant.bodyMdBold},n("holdToRevealContent3",[r.default.createElement(s.Text,{key:"hold-to-reveal-4",variant:l.TextVariant.bodyMd,as:"span",display:l.DISPLAY.INLINE},n("holdToRevealContent4")),r.default.createElement(s.Button,{key:"hold-to-reveal-5",type:s.BUTTON_TYPES.LINK,size:l.Size.auto,href:d.default.NON_CUSTODIAL_WALLET,target:"_blank",rel:"noopener noreferrer"},n("holdToRevealContent5"))]))),r.default.createElement(c.default,{buttonText:n("holdToReveal"),onLongPressed:()=>{e(),t()},marginLeft:"auto",marginRight:"auto"}))};f.propTypes={onLongPressed:a.default.func.isRequired,hideModal:a.default.func};var m=(0,o.default)(f);n.default=m}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.js"}],[3646,{"./hold-to-reveal-modal":3645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./hold-to-reveal-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/index.js"}],[3647,{"./modal":3648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/index.js"}],[3648,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":3415,"../../../helpers/utils/is-mobile-view":4123,"../../../pages/onboarding-flow/add-network-modal":4272,"../../../store/actions":4468,"./account-details-modal":3619,"./confirm-delete-network":3625,"./confirm-remove-account":3628,"./confirm-reset-account":3631,"./convert-token-to-nft-modal/convert-token-to-nft-modal":3633,"./customize-nonce":3635,"./edit-approval-permission":3638,"./export-private-key-modal":3641,"./fade-modal":3642,"./hide-token-confirmation-modal":3644,"./hold-to-reveal-modal":3646,"./new-account-modal":3649,"./qr-scanner":3654,"./reject-transactions":3657,"./transaction-confirmed":3660,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=C(e("prop-types")),r=P(e("react")),o=e("react-redux"),i=P(e("../../../store/actions")),s=C(e("../../../helpers/utils/is-mobile-view")),l=e("../../../../app/scripts/lib/util"),c=e("../../../../shared/constants/app"),u=C(e("../../../pages/onboarding-flow/add-network-modal")),d=C(e("./account-details-modal")),p=C(e("./export-private-key-modal")),f=C(e("./hide-token-confirmation-modal")),m=C(e("./qr-scanner")),h=C(e("./hold-to-reveal-modal")),g=C(e("./confirm-remove-account")),y=C(e("./confirm-reset-account")),v=C(e("./transaction-confirmed")),b=C(e("./fade-modal")),_=C(e("./reject-transactions")),E=C(e("./confirm-delete-network")),T=C(e("./edit-approval-permission")),k=C(e("./new-account-modal")),w=C(e("./customize-nonce")),x=C(e("./convert-token-to-nft-modal/convert-token-to-nft-modal"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function C(e){return e&&e.__esModule?e:{default:e}}const M={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},N={...M,width:"344px",top:"15%"},j={...M,width:"309px",top:"12.5%"},S={mobileModalStyle:{width:"95%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"335px",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},contentStyle:{borderRadius:"4px"}},I={ONBOARDING_ADD_NETWORK:{contents:r.default.createElement(u.default,null),...S},NEW_ACCOUNT:{contents:r.default.createElement(k.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},ACCOUNT_DETAILS:{contents:r.default.createElement(d.default,null),...S},EXPORT_PRIVATE_KEY:{contents:r.default.createElement(p.default,null),...S},HOLD_TO_REVEAL_SRP:{contents:r.default.createElement(h.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},HIDE_TOKEN_CONFIRMATION:{contents:r.default.createElement(f.default,null),mobileModalStyle:{width:"95%",top:(0,l.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,l.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP?"357px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,l.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,l.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP?"16px":null}},CONFIRM_RESET_ACCOUNT:{contents:r.default.createElement(y.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:r.default.createElement(g.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:r.default.createElement(x.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:r.default.createElement(E.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:r.default.createElement(T.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:r.default.createElement(v.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},QR_SCANNER:{contents:r.default.createElement(m.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:r.default.createElement(_.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:r.default.createElement(w.default,null),mobileModalStyle:{...j},laptopModalStyle:{...N},contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},A={backgroundColor:"var(--color-overlay-default)"};class D extends r.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=I[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1}=e,a=e[(0,s.default)()?"mobileModalStyle":"laptopModalStyle"],o=e.contentStyle||{};return r.default.createElement(b.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:a,contentStyle:o,backdropStyle:A,closeOnClick:!n},t)}}var L,R,F;L=D,R="propTypes",F={active:a.default.bool.isRequired,hideModal:a.default.func.isRequired,hideWarning:a.default.func.isRequired,modalState:a.default.object.isRequired},(R=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(R))in L?Object.defineProperty(L,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):L[R]=F;var $=(0,o.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(i.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(i.hideWarning())}}}))(D);n.default=$}}},{package:"$root$",file:"ui/components/app/modals/modal.js"}],[3649,{"./new-account-modal.container":3651},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./new-account-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/index.js"}],[3650,{"../../../component-library":3863,"../../../ui/button/button.component":3930,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("prop-types")),o=s(e("../../../ui/button/button.component")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{constructor(...e){super(...e),c(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),c(this,"onChange",(e=>{this.setState({alias:e.target.value})})),c(this,"onSubmit",(()=>{this.props.onSave(this.state.alias).then(this.props.hideModal)})),c(this,"onKeyPress",(e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()}))}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"new-account-modal"},a.default.createElement("div",{className:"new-account-modal__content"},a.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),a.default.createElement(i.ButtonIcon,{className:"new-account-modal__content__header-close",ariaLabel:e("close"),onClick:this.props.hideModal,iconName:i.IconName.Close})),a.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),a.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),a.default.createElement("div",{className:"new-account-modal__footer"},a.default.createElement(o.default,{type:"secondary",onClick:this.props.hideModal},e("cancel")),a.default.createElement(o.default,{type:"primary",onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=u,c(u,"contextTypes",{t:r.default.func}),c(u,"propTypes",{hideModal:r.default.func.isRequired,newAccountNumber:r.default.number.isRequired,onSave:r.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.component.js"}],[3651,{"../../../../store/actions":4468,"./new-account-modal.component":3650,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("../../../../store/actions")),i=(a=e("./new-account-modal.component"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l=(0,r.connect)((function(e){return{...e.appState.modal.modalState.props||{}}}),(function(e){return{hideModal:()=>e(o.hideModal()),createAccount:t=>e(o.addNewAccount()).then((n=>(t&&e(o.setAccountLabel(n,t)),n)))}}),(function(e,t){const{onCreateNewAccount:n}=e,{createAccount:a}=t;return{...e,...t,onSave:e=>a(e).then((e=>n(e)))}}))(i.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.container.js"}],[3652,{"./nickname-popovers.component":3653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nickname-popovers.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/index.js"}],[3653,{"../../../../selectors":4461,"../../../../store/actions":4468,"../../../ui/nickname-popover":4016,"../../../ui/update-nickname-popover/update-nickname-popover":4068,"@metamask/etherscan-link":1227,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=d(e("prop-types")),i=e("@metamask/etherscan-link"),s=e("../../../../store/actions"),l=e("../../../../selectors"),c=d(e("../../../ui/nickname-popover")),u=d(e("../../../ui/update-nickname-popover/update-nickname-popover"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f="SHOW_NICKNAME_POPOVER",m="ADD_NICKNAME_POPOVER",h=({address:e,onClose:t})=>{const n=(0,r.useDispatch)(),[o,d]=(0,a.useState)(f),p=(0,r.useSelector)(l.getAddressBook),h=(0,r.useSelector)(l.getCurrentChainId),g=p.find((t=>t.address===e)),y=null==g?void 0:g.name,v=(0,r.useSelector)(l.getRpcPrefsForCurrentProvider),b=(0,i.getAccountLink)(e,h,{blockExplorerUrl:(null==v?void 0:v.blockExplorerUrl)??null},null);return o===m?a.default.createElement(u.default,{address:e,nickname:y||null,memo:(null==g?void 0:g.memo)||null,onClose:()=>d(f),onAdd:(e,t,a)=>n((0,s.addToAddressBook)(e,t,a))}):a.default.createElement(c.default,{address:e,nickname:y||null,onClose:t,onAdd:()=>d(m),explorerLink:b})};h.propTypes={address:o.default.string,onClose:o.default.func};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/nickname-popovers.component.js"}],[3654,{"./qr-scanner.container":3656},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./qr-scanner.container"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/index.js"}],[3655,{"../../../../../app/scripts/lib/util":82,"../../../../../shared/constants/app":3415,"../../../../../shared/constants/time":3430,"../../../../helpers/utils/util":4133,"../../../../helpers/utils/webcam-utils":4134,"../../../ui/page-container/page-container-footer/page-container-footer.component":4022,"../../../ui/spinner":4044,"@zxing/library":1673,loglevel:2927,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=m(e("loglevel")),i=e("@zxing/library"),s=e("../../../../../app/scripts/lib/util"),l=e("../../../../../shared/constants/app"),c=e("../../../../../shared/constants/time"),u=m(e("../../../ui/spinner")),d=m(e("../../../../helpers/utils/webcam-utils")),p=e("../../../../helpers/utils/util"),f=m(e("../../../ui/page-container/page-container-footer/page-container-footer.component"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y="ACCESSING_CAMERA",v="NEED_TO_ALLOW_ACCESS",b="READY";class _ extends a.Component{constructor(e){super(e),g(this,"checkEnvironment",(async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,p.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){this.mounted&&this.setState({error:e})}this.initCamera()})),g(this,"checkPermissions",(async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*c.SECOND))),!this.mounted)return;this.setState({ready:b})}else this.mounted&&(this.permissionChecker=setTimeout(this.checkPermissions,c.SECOND))}catch(e){this.mounted&&this.setState({error:e})}})),g(this,"initCamera",(async()=>{this.codeReader||(this.codeReader=new i.BrowserQRCodeReader);try{await this.codeReader.getVideoInputDevices(),this.checkPermissions();const e=await this.codeReader.decodeFromInputVideoDevice(undefined,"video"),t=this.parseContent(e.text);if(!this.mounted)return;"unknown"===t.type?this.setState({error:new Error(this.context.t("unknownQrCode"))}):(this.props.qrCodeDetected(t),this.stopAndClose())}catch(e){if(!this.mounted)return;"NotAllowedError"===e.name?(o.default.info(`Permission denied: '${e}'`),this.setState({ready:v})):this.setState({error:e})}})),g(this,"stopAndClose",(()=>{this.codeReader&&this.teardownCodeReader(),this.props.hideModal()})),g(this,"tryAgain",(()=>{clearTimeout(this.permissionChecker),this.codeReader&&this.teardownCodeReader(),this.setState(this.getInitialState(),(()=>{this.checkEnvironment()}))})),this.state=this.getInitialState(),this.codeReader=null,this.permissionChecker=null,this.mounted=!1,this.props.qrCodeDetected(null)}componentDidMount(){this.mounted=!0,this.checkEnvironment()}componentDidUpdate(e,t){const{ready:n}=this.state;t.ready!==n&&(n===b?this.initCamera():n===v&&this.checkPermissions())}getInitialState(){return{ready:y,error:null}}componentWillUnmount(){this.mounted=!1,clearTimeout(this.permissionChecker),this.teardownCodeReader()}teardownCodeReader(){this.codeReader&&(this.codeReader.reset(),this.codeReader.stop(),this.codeReader=null)}parseContent(e){let t="unknown",n={};return e.split("ethereum:").length>1?(t="address",n={address:e.split("ethereum:")[1]}):"0x"===e.substring(0,2).toLowerCase()&&(t="address",n={address:e}),{type:t,values:n}}renderError(){const{t:e}=this.context,{error:t}=this.state;let n,r;return"NO_WEBCAM_FOUND"===t.type?(n=e("noWebcamFoundTitle"),r=e("noWebcamFound")):t.message===e("unknownQrCode")?r=e("unknownQrCode"):(n=e("unknownCameraErrorTitle"),r=e("unknownCameraError")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__image"},a.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?a.default.createElement("div",{className:"qr-scanner__title"},n):null,a.default.createElement("div",{className:"qr-scanner__error"},r),a.default.createElement(f.default,{onCancel:this.stopAndClose,onSubmit:this.tryAgain,cancelText:e("cancel"),submitText:e("tryAgain")}))}renderVideo(){const{t:e}=this.context,{ready:t}=this.state;let n;return t===y?n=e("accessingYourCamera"):t===b?n=e("scanInstructions"):t===v&&(n=e("youNeedToAllowCameraAccess")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__title"},`${e("scanQrCode")}`),a.default.createElement("div",{className:"qr-scanner__content"},a.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},a.default.createElement("video",{id:"video",style:{display:t===b?"block":"none"}}),t===b?null:a.default.createElement(u.default,{color:"var(--color-warning-default)"}))),a.default.createElement("div",{className:"qr-scanner__status"},n))}render(){const{error:e}=this.state;return a.default.createElement("div",{className:"qr-scanner"},a.default.createElement("div",{className:"qr-scanner__close",onClick:this.stopAndClose}),e?this.renderError():this.renderVideo())}}n.default=_,g(_,"propTypes",{hideModal:r.default.func.isRequired,qrCodeDetected:r.default.func.isRequired}),g(_,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.component.js"}],[3656,{"../../../../store/actions":4468,"./qr-scanner.component":3655,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),i=(a=e("./qr-scanner.component"))&&a.__esModule?a:{default:a};var s=(0,r.connect)(null,(e=>({hideModal:()=>e((0,o.hideModal)()),qrCodeDetected:t=>e((0,o.qrCodeDetected)(t))})))(i.default);n.default=s}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.container.js"}],[3657,{"./reject-transactions.container":3659},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./reject-transactions.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/index.js"}],[3658,{"../../modal":3613,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=s(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",(async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()}))}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n,isRequestType:a}=this.props;return r.default.createElement(o.default,{headerText:e(a?"rejectRequestsN":"rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},r.default.createElement("div",null,r.default.createElement("div",{className:"reject-transactions__description"},e(a?"rejectRequestsDescription":"rejectTxsDescription",[n]))))}}n.default=c,l(c,"contextTypes",{t:a.default.func.isRequired}),l(c,"propTypes",{onSubmit:a.default.func.isRequired,hideModal:a.default.func.isRequired,unapprovedTxCount:a.default.number.isRequired,isRequestType:a.default.bool})}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.component.js"}],[3659,{"../../../../helpers/higher-order-components/with-modal-props":4110,"./reject-transactions.component":3658,"react-redux":3125,redux:3189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=s(e("../../../../helpers/higher-order-components/with-modal-props")),i=s(e("./reject-transactions.component"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.compose)(o.default,(0,a.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}})))(i.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.container.js"}],[3660,{"./transaction-confirmed.container":3662},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-confirmed.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[3661,{"../../../../helpers/constants/design-system":4095,"../../../component-library":3863,"../../modal":3613,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),u(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return a.default.createElement(o.default,{onSubmit:this.handleSubmit,submitText:e("ok")},a.default.createElement("div",{className:"transaction-confirmed__content"},a.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),a.default.createElement("div",{className:"transaction-confirmed__title"},`${e("confirmed")}!`),a.default.createElement("div",{className:"transaction-confirmed__description"},e("initialTransactionConfirmed"))))}}n.default=d,u(d,"contextTypes",{t:r.default.func}),u(d,"propTypes",{onSubmit:r.default.func,hideModal:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[3662,{"../../../../helpers/higher-order-components/with-modal-props":4110,"./transaction-confirmed.component":3661},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("../../../../helpers/higher-order-components/with-modal-props")),r=o(e("./transaction-confirmed.component"));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,a.default)(r.default);n.default=i}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[3663,{"./multi-layer-fee-message":3664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multi-layer-fee-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/index.js"}],[3664,{"../../../../shared/constants/common":3417,"../../../../shared/modules/Numeric":3442,"../../../../shared/modules/conversion.utils":3446,"../../../contexts/i18n":4072,"../../../helpers/constants/common":4093,"../../../helpers/utils/optimism/fetchEstimatedL1Fee":4127,"../transaction-detail-item/transaction-detail-item.component":3773,"../user-preferenced-currency-display":3787,"@sentry/browser":1408,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=e("@sentry/browser"),i=m(e("../transaction-detail-item/transaction-detail-item.component")),s=m(e("../user-preferenced-currency-display")),l=m(e("../../../helpers/utils/optimism/fetchEstimatedL1Fee")),c=e("../../../helpers/constants/common"),u=e("../../../contexts/i18n"),d=e("../../../../shared/modules/conversion.utils"),p=e("../../../../shared/constants/common"),f=e("../../../../shared/modules/Numeric");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g({transaction:e,layer2fee:t,nativeCurrency:n,plainStyle:r}){var m;const h=(0,a.useContext)(u.I18nContext),[g,y]=(0,a.useState)(null);if((0,a.useEffect)((()=>{if(null==e||!e.txParams)return;(async()=>{try{const t=await(0,l.default)(null==e?void 0:e.chainId,e);y(t)}catch(e){(0,o.captureException)(e),y(null)}})()}),[e]),null==e||!e.txParams)return null;let v=h("unknown"),b=h("unknown");if(null!==g){v=`${new f.Numeric(g,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.ETH).toFixed(12)} ${n}`,b=a.default.createElement(s.default,{type:c.SECONDARY,value:g,showFiat:!0,hideLabel:!0})}const _=(0,d.sumHexes)(t||"0x0",g||"0x0",(null==e||null===(m=e.txParams)||void 0===m?void 0:m.value)||"0x0"),E=`${new f.Numeric(_,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.ETH).toFixed(12)} ${n}`,T=a.default.createElement(s.default,{type:c.SECONDARY,value:_,showFiat:!0,hideLabel:!0});return a.default.createElement("div",{className:"multi-layer-fee-message"},a.default.createElement(i.default,{key:"total-item-gas-fee",detailTitle:h("layer1Fees"),detailTotal:v,detailText:b,noBold:r,flexWidthValues:r}),a.default.createElement(i.default,{key:"total-item-total",detailTitle:h("total"),detailTotal:E,detailText:T,subTitle:h("transactionDetailMultiLayerTotalSubtitle"),noBold:r,flexWidthValues:r}))}g.propTypes={transaction:r.default.object,layer2fee:r.default.string,nativeCurrency:r.default.string,plainStyle:r.default.bool}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/multi-layer-fee-message.js"}],[3665,{"./multiple-notifications.component":3666},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multiple-notifications.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[3666,{classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("classnames")),o=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,o=t.filter(Boolean);return 0===o.length?null:a.default.createElement("div",{className:(0,r.default)(...n,{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e})},o,a.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},o.length>1?a.default.createElement("i",{className:(0,r.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=c,l(c,"defaultProps",{children:[],classNames:[]}),l(c,"propTypes",{children:o.default.array,classNames:o.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[3667,{"./network-account-balance-header":3668},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-account-balance-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/index.js"}],[3668,{"../../../../shared/constants/network":3423,"../../../contexts/i18n":4072,"../../../helpers/constants/design-system":4095,"../../ui/box/box":3926,"../../ui/icon-with-fallback":3971,"../../ui/identicon":3989,"../../ui/typography":4064,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=p(e("prop-types")),o=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),c=e("../../../contexts/i18n"),u=p(e("../../ui/typography")),d=e("../../../../shared/constants/network");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:r,accountAddress:p,chainId:f}){const m=(0,a.useContext)(c.I18nContext),h=d.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],g=h?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return a.default.createElement(l.default,{display:s.DISPLAY.FLEX,flexDirection:s.FLEX_DIRECTION.ROW,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(l.default,{display:s.DISPLAY.FLEX,flexDirection:s.FLEX_DIRECTION.ROW,alignItems:s.AlignItems.center,gap:2},a.default.createElement(l.default,{display:s.DISPLAY.FLEX,flexDirection:s.FLEX_DIRECTION.ROW,alignItems:s.AlignItems.center},a.default.createElement(i.default,{address:p,diameter:32}),a.default.createElement(o.default,{name:e,size:16,icon:h,wrapperClassName:g})),a.default.createElement(l.default,{display:s.DISPLAY.FLEX,alignItems:s.AlignItems.flexStart,flexDirection:s.FLEX_DIRECTION.COLUMN},a.default.createElement(u.default,{variant:s.TypographyVariant.H6,color:s.TextColor.textAlternative,marginBottom:0},e),a.default.createElement(u.default,{variant:s.TypographyVariant.H6,color:s.TextColor.textDefault,fontWeight:s.FONT_WEIGHT.BOLD,marginTop:0},t))),a.default.createElement(l.default,{display:s.DISPLAY.FLEX,alignItems:s.AlignItems.flexEnd,flexDirection:s.FLEX_DIRECTION.COLUMN},a.default.createElement(u.default,{variant:s.TypographyVariant.H6,color:s.TextColor.textAlternative,marginBottom:0},m("balance")),a.default.createElement(u.default,{variant:s.TypographyVariant.H6,color:s.TextColor.textDefault,fontWeight:s.FONT_WEIGHT.BOLD,marginTop:0,align:s.TEXT_ALIGN.END},n," ",r)))}m.propTypes={networkName:r.default.string,accountName:r.default.string,accountBalance:r.default.string,tokenName:r.default.string,accountAddress:r.default.string,chainId:r.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[3669,{"./network-display":3670},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/network-display/index.js"}],[3670,{"../../../../shared/constants/network":3423,"../../../helpers/constants/design-system":4095,"../../../hooks/useI18nContext":4155,"../../../selectors":4461,"../../component-library":3863,"../../ui/chip/chip":3939,"../../ui/color-indicator":3942,"../../ui/loading-indicator":3998,classnames:1987,"prop-types":3027,react:3172,"react-redux":3125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=h(e("react")),r=h(e("prop-types")),o=h(e("classnames")),i=e("react-redux"),s=e("../../../../shared/constants/network"),l=h(e("../../ui/loading-indicator")),c=h(e("../../ui/color-indicator")),u=e("../../../helpers/constants/design-system"),d=h(e("../../ui/chip/chip")),p=e("../../../hooks/useI18nContext"),f=e("../../../selectors"),m=e("../../component-library");function h(e){return e&&e.__esModule?e:{default:e}}function g({indicatorSize:e,disabled:t,labelProps:n,targetNetwork:r,onClick:h}){const g=(0,i.useSelector)(f.isNetworkLoading),y=(0,i.useSelector)((e=>({nickname:e.metamask.provider.nickname,type:e.metamask.provider.type}))),v=(0,p.useI18nContext)(),{nickname:b,type:_}=r??y;return a.default.createElement(d.default,{dataTestId:"network-display",borderColor:h?u.BorderColor.borderDefault:u.BorderColor.borderMuted,onClick:h,leftIcon:a.default.createElement(l.default,{alt:v("attemptingConnect"),title:v("attemptingConnect"),isLoading:g},a.default.createElement(c.default,{color:_===s.NETWORK_TYPES.RPC?u.IconColor.iconMuted:_,size:e,type:c.default.TYPES.FILLED,iconClassName:_===s.NETWORK_TYPES.RPC&&e!==u.Size.XS?"fa fa-question":undefined})),rightIcon:h?a.default.createElement(m.Icon,{name:m.IconName.ArrowDown,size:m.IconSize.Xs}):null,label:_===s.NETWORK_TYPES.RPC?b??v("privateNetwork"):v(_),className:(0,o.default)("network-display",{"network-display--disabled":t,"network-display--clickable":"function"==typeof h}),labelProps:{variant:u.TypographyVariant.H7,...n}})}g.propTypes={indicatorSize:r.default.oneOf(Object.values(u.Size)),labelProps:d.default.propTypes.labelProps,targetNetwork:r.default.shape({type:r.default.oneOf([...Object.keys(s.BUILT_IN_NETWORKS),s.NETWORK_TYPES.RPC]),nickname:r.default.string}),disabled:r.default.bool,onClick:r.default.func},g.defaultProps={indicatorSize:u.Size.LG}}}},{package:"$root$",file:"ui/components/app/network-display/network-display.js"}],[3671,{"./nft-default-image":3672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nft-default-image"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nft-default-image/index.js"}],[3672,{"../../../helpers/constants/design-system":4095,"../../../hooks/useI18nContext":4155,"../../ui/typography":4064,classnames:1987,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=c(e("react")),r=c(e("prop-types")),o=c(e("classnames")),i=c(e("../../ui/typography")),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}function u({name:e,tokenId:t,handleImageClick:n}){const r=(0,l.useI18nContext)(),c=n?"button":"div";return a.default.createElement(c,{tabIndex:0,"data-testid":"nft-default-image",className:(0,o.default)("nft-default",{"nft-default--clickable":n}),onClick:n},a.default.createElement(i.default,{variant:s.TypographyVariant.H6,className:"nft-default__text"},e??r("unknownCollection")," ",a.default.createElement("br",null)," #",t))}u.propTypes={name:r.default.string,tokenId:r.default.string,handleImageClick:r.default.func}}}},{package:"$root$",file:"ui/components/app/nft-default-image/nft-default-image.js"}],[3673,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":3415,"../../../../shared/constants/network":3423,"../../../../shared/constants/transaction":3432,"../../../../shared/modules/conversion.utils":3446,"../../../../shared/modules/string-utils":3457,"../../../ducks/metamask/metamask":4087,"../../../ducks/send":4089,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/routes":4099,"../../../helpers/utils/nfts":4125,"../../../helpers/utils/util":4133,"../../../hooks/useCopyToClipboard":4148,"../../../hooks/useI18nContext":4155,"../../../hooks/usePrevious":4159,"../../../pages/asset/components/asset-navigation":4183,"../../../selectors":4461,"../../../store/actions":4468,"../../component-library":3863,"../../ui/box":3927,"../../ui/button":3931,"../../ui/card":3935,"../../ui/info-tooltip":3990,"../../ui/tooltip":4060,"../../ui/typography/typography":4065,"../nft-default-image":3671,"../nft-options/nft-options":3674,lodash:2915,"prop-types":3027,react:3172,"react-redux":3125,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=R;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=D(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=D(e("../../ui/box")),c=D(e("../../ui/card")),u=D(e("../../ui/typography/typography")),d=e("../../../helpers/constants/design-system"),p=e("../../../hooks/useI18nContext"),f=e("../../../helpers/utils/util"),m=e("../../../helpers/utils/nfts"),h=e("../../../selectors"),g=D(e("../../../pages/asset/components/asset-navigation")),y=e("../../../ducks/metamask/metamask"),v=e("../../../helpers/constants/routes"),b=e("../../../store/actions"),_=e("../../../../shared/constants/network"),E=e("../../../../app/scripts/lib/util"),T=e("../../../../shared/constants/app"),k=D(e("../nft-options/nft-options")),w=D(e("../../ui/button")),x=e("../../../ducks/send"),O=D(e("../../ui/info-tooltip")),P=e("../../../hooks/usePrevious"),C=e("../../../hooks/useCopyToClipboard"),M=e("../../../../shared/modules/string-utils"),N=e("../../../../shared/constants/transaction"),j=D(e("../nft-default-image")),S=e("../../component-library"),I=D(e("../../ui/tooltip")),A=e("../../../../shared/modules/conversion.utils");function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function R({nft:e}){var t;const{image:n,imageOriginal:r,name:D,description:L,address:R,tokenId:F,standard:$,isCurrentlyOwned:W,lastSale:G,imageThumbnail:B}=e,U=(0,p.useI18nContext)(),H=(0,i.useHistory)(),V=(0,o.useDispatch)(),q=(0,o.useSelector)(h.getIpfsGateway),Y=(0,o.useSelector)(y.getNftContracts),K=(0,o.useSelector)(h.getCurrentChainId),[X,z]=(0,C.useCopyToClipboard)(),J=null===(t=Y.find((({address:e})=>(0,M.isEqualCaseInsensitive)(e,R))))||void 0===t?void 0:t.name,Q=(0,o.useSelector)((e=>(0,h.getSelectedIdentity)(e).name)),Z=(0,m.getNftImageAlt)(e),ee=(0,f.getAssetImageURL)(r??n,q),te=ee.startsWith("data:"),ne=(0,f.formatDate)(new Date(null==G?void 0:G.event_timestamp).getTime(),"M/d/y"),ae=(0,P.usePrevious)(e);(0,a.useEffect)((()=>{(0,s.isEqual)(ae,e)||(0,b.checkAndUpdateSingleNftOwnershipStatus)(e)}),[e,ae]);const re=(()=>{switch(K){case _.CHAIN_IDS.MAINNET:return`https://opensea.io/assets/${R}/${F}`;case _.CHAIN_IDS.POLYGON:return`https://opensea.io/assets/matic/${R}/${F}`;case _.CHAIN_IDS.GOERLI:case _.CHAIN_IDS.SEPOLIA:return`https://testnets.opensea.io/assets/${R}/${F}`;default:return null}})(),oe=$!==N.TokenStandard.ERC721,ie=(0,E.getEnvironmentType)()===T.ENVIRONMENT_TYPE_POPUP,se=async()=>{await V((0,x.startNewDraftTransaction)({type:N.AssetType.NFT,details:e})),H.push(v.SEND_ROUTE)},le=()=>!1===W?a.default.createElement("div",{style:{height:"30px"}}):a.default.createElement(l.default,{display:d.DISPLAY.FLEX,width:ie?d.BLOCK_SIZES.FULL:d.BLOCK_SIZES.HALF,margin:ie?[4,0]:null},a.default.createElement(w.default,{type:"primary",onClick:se,disabled:oe,className:"nft-details__send-button","data-testid":"nft-send-button"},U("send")),oe?a.default.createElement(O.default,{position:"top",contentText:U("sendingDisabled")}):null);return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{accountName:Q,assetName:J,onBack:()=>H.push(v.DEFAULT_ROUTE),optionsButton:a.default.createElement(k.default,{onViewOnOpensea:re?()=>global.platform.openTab({url:re}):null,onRemove:()=>{V((0,b.removeAndIgnoreNft)(R,F)),V((0,b.setNewNftAddedMessage)("")),V((0,b.setRemoveNftMessage)("success")),H.push(v.DEFAULT_ROUTE)}})}),a.default.createElement(l.default,{className:"nft-details"},a.default.createElement("div",{className:"nft-details__top-section"},a.default.createElement(c.default,{padding:0,justifyContent:d.JustifyContent.center,className:"nft-details__card"},n?a.default.createElement("img",{className:"nft-details__image",src:ee,alt:Z}):a.default.createElement(j.default,{name:D,tokenId:F})),a.default.createElement(l.default,{flexDirection:d.FLEX_DIRECTION.COLUMN,className:"nft-details__info",justifyContent:d.JustifyContent.spaceBetween},a.default.createElement("div",null,a.default.createElement(u.default,{color:d.TextColor.textDefault,variant:d.TypographyVariant.H4,fontWeight:d.FONT_WEIGHT.BOLD,boxProps:{margin:0,marginBottom:2}},D),a.default.createElement(u.default,{color:d.TextColor.textMuted,variant:d.TypographyVariant.H5,boxProps:{margin:0,marginBottom:4},overflowWrap:d.OVERFLOW_WRAP.BREAK_WORD},"#",F)),L?a.default.createElement("div",null,a.default.createElement(u.default,{color:d.TextColor.textDefault,variant:d.TypographyVariant.H6,fontWeight:d.FONT_WEIGHT.BOLD,className:"nft-details__description",boxProps:{margin:0,marginBottom:2}},U("description")),a.default.createElement(u.default,{color:d.TextColor.textAlternative,variant:d.TypographyVariant.H6,overflowWrap:d.OVERFLOW_WRAP.BREAK_WORD,boxProps:{margin:0,marginBottom:4}},L)):null,ie?null:le())),a.default.createElement(l.default,{marginBottom:2},G?a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW},a.default.createElement(u.default,{color:d.TextColor.textDefault,variant:d.TypographyVariant.H6,fontWeight:d.FONT_WEIGHT.BOLD,boxProps:{margin:0,marginBottom:4,marginRight:2},className:"nft-details__link-title"},U("lastSold")),a.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW,className:"nft-details__contract-wrapper"},a.default.createElement(u.default,{color:d.TextColor.textAlternative,variant:d.TypographyVariant.H6,overflowWrap:d.OVERFLOW_WRAP.BREAK_WORD,boxProps:{margin:0,marginBottom:4}},ne))),a.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW},a.default.createElement(u.default,{color:d.TextColor.textDefault,variant:d.TypographyVariant.H6,fontWeight:d.FONT_WEIGHT.BOLD,boxProps:{margin:0,marginBottom:4,marginRight:2},className:"nft-details__link-title"},U("lastPriceSold")),a.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW,className:"nft-details__contract-wrapper"},a.default.createElement(u.default,{color:d.TextColor.textAlternative,variant:d.TypographyVariant.H6,overflowWrap:d.OVERFLOW_WRAP.BREAK_WORD,boxProps:{margin:0,marginBottom:4}},`${Number((0,A.decWEIToDecETH)(G.total_price))} ${G.payment_token.symbol}`)))):null,a.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW},a.default.createElement(u.default,{color:d.TextColor.textDefault,variant:d.TypographyVariant.H6,fontWeight:d.FONT_WEIGHT.BOLD,boxProps:{margin:0,marginBottom:4,marginRight:2},className:"nft-details__link-title"},U("source")),a.default.createElement(u.default,{variant:d.TypographyVariant.H6,boxProps:{margin:0,marginBottom:4},className:"nft-details__image-source",color:te?d.TextColor.textDefault:d.TextColor.primaryDefault},te?a.default.createElement(a.default.Fragment,null,ee):a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:ee,title:ee},ee))),B?a.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW},a.default.createElement(u.default,{color:d.TextColor.textDefault,variant:d.TypographyVariant.H6,fontWeight:d.FONT_WEIGHT.BOLD,boxProps:{margin:0,marginBottom:4,marginRight:2},className:"nft-details__link-title"},U("link")),a.default.createElement(u.default,{variant:d.TypographyVariant.H6,boxProps:{margin:0,marginBottom:4},className:"nft-details__image-source",color:te?d.TextColor.textDefault:d.TextColor.primaryDefault},a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:ee,title:ee},B))):null,a.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW},a.default.createElement(u.default,{color:d.TextColor.textDefault,variant:d.TypographyVariant.H6,fontWeight:d.FONT_WEIGHT.BOLD,boxProps:{margin:0,marginBottom:4,marginRight:2},className:"nft-details__link-title"},U("contractAddress")),a.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexDirection:d.FLEX_DIRECTION.ROW,className:"nft-details__contract-wrapper"},a.default.createElement(u.default,{color:d.TextColor.textAlternative,variant:d.TypographyVariant.H6,overflowWrap:d.OVERFLOW_WRAP.BREAK_WORD,boxProps:{margin:0,marginBottom:4}},(0,f.shortenAddress)(R)),a.default.createElement(I.default,{wrapperClassName:"nft-details__tooltip-wrapper",position:"bottom",title:U(X?"copiedExclamation":"copyToClipboard")},a.default.createElement(S.ButtonIcon,{ariaLabel:"copy",color:d.IconColor.iconAlternative,className:"nft-details__contract-copy-button","data-testid":"nft-address-copy",onClick:()=>{z(R)},iconName:X?S.IconName.CopySuccess:S.IconName.Copy})))),ie?le():null,a.default.createElement(u.default,{color:d.TextColor.textAlternative,variant:d.TypographyVariant.H7},U("nftDisclaimer")))))}R.propTypes={nft:r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,isCurrentlyOwned:r.default.bool,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,imageOriginal:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string}),lastSale:r.default.shape({event_timestamp:r.default.string,total_price:r.default.string,payment_token:r.default.shape({symbol:r.default.string})})})}}}},{package:"$root$",file:"ui/components/app/nft-details/nft-details.js"}],[3674,{"../../../contexts/i18n":4072,"../../../helpers/constants/design-system":4095,"../../component-library":3863,"../../ui/menu":4008,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../contexts/i18n"),s=e("../../ui/menu"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=({onRemove:e,onViewOnOpensea:t})=>{const n=(0,r.useContext)(i.I18nContext),[a,o]=(0,r.useState)(!1),u=(0,r.useRef)(!1);return r.default.createElement("div",{ref:u},r.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,className:"nft-options__button","data-testid":"nft-options__button",onClick:()=>o(!0),color:c.Color.textDefault,ariaLabel:n("nftOptions")}),a?r.default.createElement(s.Menu,{"data-testid":"close-nft-options-menu",anchorElement:u.current,onHide:()=>o(!1)},t?r.default.createElement(s.MenuItem,{iconName:l.IconName.Export,"data-testid":"nft-options__view-on-opensea",onClick:()=>{o(!1),t()}},n("viewOnOpensea")):null,r.default.createElement(s.MenuItem,{iconName:l.IconName.Trash,"data-testid":"nft-item-remove",onClick:()=>{o(!1),e()}},n("removeNFT"))):null)};d.propTypes={onRemove:o.default.func.isRequired,onViewOnOpensea:o.default.func};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/nft-options/nft-options.js"}],[3675,{"./nfts-detection-notice":3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nfts-detection-notice"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice/index.js"}],[3676,{"../../../helpers/constants/design-system":4095,"../../../helpers/constants/routes":4099,"../../../hooks/useI18nContext":4155,"../../ui/box":3927,"../../ui/button":3931,"../../ui/dialog":3951,"../../ui/typography/typography":4065,react:3172,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,c.useI18nContext)(),t=(0,r.useHistory)();return a.default.createElement(o.default,{className:"nfts-detection-notice"},a.default.createElement(i.default,{type:"message",className:"nfts-detection-notice__message"},a.default.createElement(o.default,{display:l.DISPLAY.FLEX},a.default.createElement(o.default,{paddingTop:1},a.default.createElement("i",{style:{fontSize:"1rem",color:"var(--color-primary-default)"},className:"fa fa-info-circle"})),a.default.createElement(o.default,{paddingLeft:2},a.default.createElement(s.default,{color:l.TextColor.textDefault,align:l.TEXT_ALIGN.LEFT,variant:l.TypographyVariant.H7,fontWeight:l.FONT_WEIGHT.BOLD},e("newNFTsDetected")),a.default.createElement(s.default,{color:l.TextColor.textDefault,align:l.TEXT_ALIGN.LEFT,variant:l.TypographyVariant.H7,boxProps:{marginBottom:4}},e("newNFTDetectedMessage")),a.default.createElement(u.default,{type:"link",onClick:e=>{e.preventDefault(),t.push(`${d.EXPERIMENTAL_ROUTE}#autodetect-nfts`)},className:"nfts-detection-notice__message__link"},e("selectNFTPrivacyPreference"))))))};var a=p(e("react")),r=e("react-router-dom"),o=p(e("../../ui/box")),i=p(e("../../ui/dialog")),s=p(e("../../ui/typography/typography")),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=p(e("../../ui/button")),d=e("../../../helpers/constants/routes");function p(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice/nfts-detection-notice.js"}],[3677,{"./nfts-items":3678},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nfts-items"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-items/index.js"}],[3678,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":3415,"../../../ducks/metamask/metamask":4087,"../../../helpers/constants/design-system":4095,"../../../helpers/constants/routes":4099,"../../../helpers/utils/nfts":4125,"../../../helpers/utils/util":4133,"../../../hooks/useI18nContext":4155,"../../../hooks/usePrevious":4159,"../../../selectors":4461,"../../../store/actions":4468,"../../component-library":3863,"../../ui/box":3927,"../../ui/card":3935,"../../ui/typography/typography":4065,"../nft-default-image":3671,lodash:2915,"prop-types":3027,react:3172,"react-redux":3125,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=P;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=w(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=w(e("../../ui/box")),c=w(e("../../ui/typography/typography")),u=w(e("../../ui/card")),d=e("../../../helpers/constants/design-system"),p=e("../../../../shared/constants/app"),f=e("../../../../app/scripts/lib/util"),m=e("../../../selectors"),h=e("../../../helpers/constants/routes"),g=e("../../../helpers/utils/util"),y=e("../../../helpers/utils/nfts"),v=e("../../../store/actions"),b=e("../../../hooks/usePrevious"),_=e("../../../ducks/metamask/metamask"),E=e("../../../hooks/useI18nContext"),T=e("../../component-library"),k=w(e("../nft-default-image"));function w(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const O=(0,f.getEnvironmentType)()===p.ENVIRONMENT_TYPE_POPUP?d.BLOCK_SIZES.ONE_THIRD:d.BLOCK_SIZES.ONE_SIXTH;function P({collections:e={},previouslyOwnedCollection:t={}}){var n;const r=(0,o.useDispatch)(),p=Object.keys(e),f=(0,o.useSelector)(_.getNftsDropdownState),w=(0,b.usePrevious)(p),x=(0,o.useSelector)(m.getSelectedAddress),P=(0,o.useSelector)(m.getCurrentChainId),C=(0,E.useI18nContext)();(0,a.useEffect)((()=>{var e,t;if(P!==undefined&&x!==undefined&&!(0,s.isEqual)(w,p)&&((null==f||null===(e=f[x])||void 0===e?void 0:e[P])===undefined||0===Object.keys(null==f||null===(t=f[x])||void 0===t?void 0:t[P]).length)){const e={};p.forEach((t=>{e[t]=!0}));const t={...f,[x]:{...null==f?void 0:f[x],[P]:e}};r((0,v.updateNftDropDownState)(t))}}),[p,w,f,x,P,r]);const M=(0,o.useSelector)(m.getIpfsGateway),N=(0,i.useHistory)(),j=({nfts:e,collectionName:t,collectionImage:n,key:o})=>{var i,s;if(!e.length)return null;const p=null===(i=f[x])||void 0===i||null===(s=i[P])||void 0===s?void 0:s[o];return a.default.createElement("div",{className:"nfts-items__collection",key:`collection-${o}`},a.default.createElement("button",{className:"nfts-items__collection-wrapper","data-testid":"collection-expander-button",onClick:()=>{((e,t)=>{const n={...f[x][P],[e]:!t},a={...f,[x]:{[P]:n}};r((0,v.updateNftDropDownState)(a))})(o,p)}},a.default.createElement(l.default,{marginBottom:2,display:d.DISPLAY.FLEX,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.spaceBetween,className:"nfts-items__collection-accordion-title"},a.default.createElement(l.default,{alignItems:d.AlignItems.center,className:"nfts-items__collection-header"},((e,t)=>{var n;return e?a.default.createElement("img",{alt:t,src:(0,g.getAssetImageURL)(e,M),className:"nfts-items__collection-image"}):a.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())??null)})(n,t),a.default.createElement(c.default,{color:d.Color.textDefault,variant:d.TypographyVariant.H5,margin:2},`${t??C("unknownCollection")} (${e.length})`)),a.default.createElement(l.default,{alignItems:d.AlignItems.flexEnd},a.default.createElement(T.Icon,{name:p?T.IconName.ArrowDown:T.IconName.ArrowRight,color:d.Color.iconDefault})))),p?a.default.createElement(l.default,{display:d.DISPLAY.FLEX,flexWrap:d.FLEX_WRAP.WRAP,gap:4},e.map(((e,t)=>{const{image:n,address:r,tokenId:o,backgroundColor:i,name:s}=e,c=(0,g.getAssetImageURL)(n,M),p=(0,y.getNftImageAlt)(e),f=()=>N.push(`${h.ASSET_ROUTE}/${r}/${o}`);return a.default.createElement(l.default,{"data-testid":"nft-wrapper",width:O,key:`nft-${t}`,className:"nfts-items__item-wrapper"},a.default.createElement(u.default,{padding:0,justifyContent:d.JustifyContent.center,className:"nfts-items__item-wrapper__card"},c?a.default.createElement("button",{className:"nfts-items__item",style:{backgroundColor:i},onClick:f},a.default.createElement("img",{className:"nfts-items__item-image","data-testid":"nft-image",src:c,alt:p})):a.default.createElement(k.default,{name:s,tokenId:o,handleImageClick:f})))}))):null)};return a.default.createElement("div",{className:"nfts-items"},a.default.createElement(l.default,{paddingTop:6,paddingBottom:6,paddingLeft:4,paddingRight:4,flexDirection:d.FLEX_DIRECTION.COLUMN},a.default.createElement(a.default.Fragment,null,p.map((t=>{const{nfts:n,collectionName:a,collectionImage:r}=e[t];return j({nfts:n,collectionName:a,collectionImage:r,key:t,isPreviouslyOwnedCollection:!1})})),j({nfts:t.nfts,collectionName:t.collectionName,collectionImage:null===(n=t.nfts[0])||void 0===n?void 0:n.image,isPreviouslyOwnedCollection:!0,key:"previouslyOwned"}))))}P.propTypes={previouslyOwnedCollection:r.default.shape({nfts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collectionName:r.default.string,collectionImage:r.default.string}),collections:r.default.shape({nfts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collectionImage:r.default.string,collectionName:r.default.string})}}}},{package:"$root$",file:"ui/components/app/nfts-items/nfts-items.js"}],[3679,{"./nfts-tab":3680},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nfts-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-tab/index.js"}],[3680,{"../../../helpers/constants/design-system":4095,"../../../helpers/constants/routes":4099,"../../../helpers/constants/zendesk-url":4102,"../../../hooks/useI18nContext":4155,"../../../hooks/useNftsCollections":4157,"../../../selectors":4461,"../../../store/actions":4468,"../../ui/box":3927,"../../ui/button":3931,"../../ui/typography/typography":4065,"../nfts-detection-notice":3675,"../nfts-items":3677,"prop-types":3027,react:3172,"react-redux":3125,"react-router-dom":3145},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=b(e("react")),r=b(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=b(e("../../ui/box")),l=b(e("../../ui/button")),c=b(e("../../ui/typography/typography")),u=b(e("../nfts-detection-notice")),d=b(e("../nfts-items")),p=e("../../../helpers/constants/design-system"),f=e("../../../hooks/useI18nContext"),m=e("../../../selectors"),h=e("../../../helpers/constants/routes"),g=e("../../../store/actions"),y=e("../../../hooks/useNftsCollections"),v=b(e("../../../helpers/constants/zendesk-url"));function b(e){return e&&e.__esModule?e:{default:e}}function _({onAddNFT:e}){const t=(0,o.useSelector)(m.getUseNftDetection),n=(0,o.useSelector)(m.getIsMainnet),r=(0,i.useHistory)(),b=(0,f.useI18nContext)(),_=(0,o.useDispatch)(),{nftsLoading:E,collections:T,previouslyOwnedCollection:k}=(0,y.useNftsCollections)();return E?a.default.createElement("div",{className:"nfts-tab__loading"},b("loadingNFTs")):a.default.createElement(s.default,{className:"nfts-tab"},Object.keys(T).length>0||k.nfts.length>0?a.default.createElement(d.default,{collections:T,previouslyOwnedCollection:k}):a.default.createElement(a.default.Fragment,null,n&&!t?a.default.createElement(u.default,null):null,a.default.createElement(s.default,{padding:12},a.default.createElement(s.default,{justifyContent:p.JustifyContent.center},a.default.createElement("img",{src:"./images/no-nfts.svg"})),a.default.createElement(s.default,{marginTop:4,marginBottom:12,justifyContent:p.JustifyContent.center,flexDirection:p.FLEX_DIRECTION.COLUMN,className:"nfts-tab__link"},a.default.createElement(c.default,{color:p.TextColor.textMuted,variant:p.TypographyVariant.H4,align:p.TEXT_ALIGN.CENTER,fontWeight:p.FONT_WEIGHT.BOLD},b("noNFTs")),a.default.createElement(l.default,{type:"link",target:"_blank",rel:"noopener noreferrer",href:v.default.NFT_TOKENS},b("learnMoreUpperCase"))))),a.default.createElement(s.default,{marginBottom:4,justifyContent:p.JustifyContent.center,flexDirection:p.FLEX_DIRECTION.COLUMN},a.default.createElement(c.default,{color:p.TextColor.textMuted,variant:p.TypographyVariant.H5,align:p.TEXT_ALIGN.CENTER},b("missingNFT")),a.default.createElement(s.default,{alignItems:p.AlignItems.center,justifyContent:p.JustifyContent.center},!n&&Object.keys(T).length<1?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{className:"nfts-tab__link",justifyContent:p.JustifyContent.flexEnd},n&&!t?a.default.createElement(l.default,{type:"link",onClick:()=>{r.push(h.EXPERIMENTAL_ROUTE)}},b("enableAutoDetect")):a.default.createElement(l.default,{type:"link",onClick:()=>{n&&_((0,g.detectNfts)()),(0,g.checkAndUpdateAllNftsOwnershipStatus)()}},b("refreshList"))),a.default.createElement(c.default,{color:p.TextColor.textMuted,variant:p.TypographyVariant.H6,align:p.TEXT_ALIGN.CENTER},b("or"))),a.default.createElement(s.default,{justifyContent:p.JustifyContent.flexStart,className:"nfts-tab__link"},a.default.createElement(l.default,{type:"link",onClick:e},b("importNFTs"))))))}_.propTypes={onAddNFT:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nfts-tab/nfts-tab.js"}],[3681,{"./permission-page-container-content":3682,"./permission-page-container.container":3685},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=o(e("./permission-page-container.container")),r=o(e("./permission-page-container-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[3682,{"./permission-page-container-content.component":3683},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-page-container-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[3683,{"../../../ui/tooltip":4060,"../../permissions-connect-header":3688,"../../permissions-connect-permission-list":3690,"prop-types":3027,react:3172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=c(e("../../permissions-connect-header")),i=c(e("../../../ui/tooltip")),s=c(e("../../permissions-connect-permission-list"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{renderRequestedPermissions(){const{selectedPermissions:e,subjectMetadata:t}=this.props;return r.default.createElement("div",{className:"permission-approval-container__content__requested"},r.default.createElement(s.default,{permissions:e,targetSubjectMetadata:t}))}renderAccountTooltip(e){const{selectedIdentities:t}=this.props,{t:n}=this.context;return r.default.createElement(i.default,{key:"all-account-connect-tooltip",position:"bottom",wrapperClassName:"permission-approval-container__bold-title-elements",html:r.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.slice(0,6).map(((e,t)=>r.default.createElement("div",{key:`tooltip-identity-${t}`},e.addressLabel))),t.length>6?n("plusXMore",[t.length-6]):null)},e)}getTitle(){var e;const{subjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:a,selectedPermissions:r}=this.props,{t:o}=this.context;return t.extensionId?o("externalExtension",[t.extensionId]):r.eth_accounts?a?o("connectToAll",[this.renderAccountTooltip(o("connectToAllAccounts"))]):n.length>1?o("connectToMultiple",[this.renderAccountTooltip(o("connectToMultipleNumberOfAccounts",[n.length]))]):o("connectTo",[null===(e=n[0])||void 0===e?void 0:e.addressLabel]):o("permissionRequestCapitalized")}render(){const{subjectMetadata:e}=this.props,{t:t}=this.context,n=this.getTitle();return r.default.createElement("div",{className:"permission-approval-container__content"},r.default.createElement("div",{className:"permission-approval-container__content-container"},r.default.createElement(o.default,{iconUrl:e.iconUrl,iconName:e.name,headerTitle:n,headerText:e.extensionId?t("allowExternalExtensionTo",[e.extensionId]):t("allowThisSiteTo"),siteOrigin:e.origin}),r.default.createElement("section",{className:"permission-approval-container__permissions-container"},this.renderRequestedPermissions())))}}n.default=d,u(d,"propTypes",{subjectMetadata:a.default.shape({name:a.default.string.isRequired,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string}),selectedPermissions:a.default.object.isRequired,selectedIdentities:a.default.array,allIdentitiesSelected:a.default.bool}),u(d,"defaultProps",{selectedIdentities:[],allIdentitiesSelected:!1}),u(d,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}]],[],{});